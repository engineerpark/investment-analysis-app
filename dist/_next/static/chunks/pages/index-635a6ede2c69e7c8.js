(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1223)}])},1223:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return sl}});var a=t(5893),l=t(7294);let n=l.forwardRef((e,s)=>{let{className:t="",variant:l="default",size:n="default",loading:r=!1,leftIcon:c,rightIcon:i,children:o,disabled:d,...m}=e,x=d||r;return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center rounded-lg text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95"," ").concat({default:"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800 shadow-md hover:shadow-lg",primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 shadow-md hover:shadow-lg",outline:"border-2 border-slate-300 bg-white text-slate-700 hover:bg-slate-50 active:bg-slate-100",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 active:bg-slate-300 border border-slate-200",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 active:bg-slate-200",danger:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 shadow-md hover:shadow-lg",success:"bg-emerald-500 text-white hover:bg-emerald-600 active:bg-emerald-700 shadow-md hover:shadow-lg",analysis:"bg-purple-600 text-white hover:bg-purple-700 active:bg-purple-800 shadow-md hover:shadow-lg",warning:"bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700 shadow-md hover:shadow-lg",info:"bg-sky-500 text-white hover:bg-sky-600 active:bg-sky-700 shadow-md hover:shadow-lg"}[l]," ").concat({default:"h-10 px-4 py-2 min-w-[80px]",sm:"h-8 px-3 py-1 text-xs min-w-[60px]",lg:"h-12 px-6 py-3 text-base min-w-[120px]",icon:"h-10 w-10 p-0",touch:"h-12 px-6 py-3 text-base min-w-[120px] min-h-[44px]"}[n]," ").concat({default:"focus-visible:ring-emerald-500",primary:"focus-visible:ring-blue-500",outline:"focus-visible:ring-slate-500",secondary:"focus-visible:ring-slate-500",ghost:"focus-visible:ring-slate-500",danger:"focus-visible:ring-red-500",success:"focus-visible:ring-emerald-500",analysis:"focus-visible:ring-purple-500",warning:"focus-visible:ring-orange-500",info:"focus-visible:ring-sky-500"}[l]," ").concat(t),ref:s,disabled:x,...m,children:[r&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!r&&c&&(0,a.jsx)("span",{className:"mr-2",children:c}),o,!r&&i&&(0,a.jsx)("span",{className:"ml-2",children:i})]})});n.displayName="Button";var r=t(437),c=t(2855),i=t(1833);function o(e){let{onStartInvestmentSurvey:s,onLogin:t}=e;return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(r.Z,{className:"h-8 w-8 text-primary-foreground"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"포트폴리오 전략 추천"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)(n,{onClick:s,variant:"primary",className:"w-full h-14",size:"lg",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-base font-medium",children:"투자 성향 분석"}),(0,a.jsx)("div",{className:"text-xs opacity-90",children:"맞춤형 포트폴리오 추천받기"})]})]}),(0,a.jsxs)(n,{onClick:t,variant:"secondary",className:"w-full h-14",size:"lg",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-base font-medium",children:"기존 포트폴리오 관리"}),(0,a.jsx)("div",{className:"text-xs opacity-90",children:"저장된 포트폴리오 확인하기"})]})]})]})]})})})})})}let d=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"rounded-lg border bg-white text-gray-900 shadow-sm ".concat(t),...l})});d.displayName="Card";let m=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"flex flex-col space-y-1.5 p-6 ".concat(t),...l})});m.displayName="CardHeader";let x=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("h3",{ref:s,className:"text-2xl font-semibold leading-none tracking-tight ".concat(t),...l})});x.displayName="CardTitle",l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("p",{ref:s,className:"text-sm text-gray-600 ".concat(t),...l})}).displayName="CardDescription";let h=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"p-6 pt-0 ".concat(t),...l})});h.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"flex items-center p-6 pt-0 ".concat(t),...l})}).displayName="CardFooter";let u=l.forwardRef((e,s)=>{let{className:t="",value:l=0,max:n=100,...r}=e;return(0,a.jsx)("div",{ref:s,className:"relative h-4 w-full overflow-hidden rounded-full bg-gray-200 ".concat(t),...r,children:(0,a.jsx)("div",{className:"h-full w-full flex-1 bg-blue-600 transition-all",style:{transform:"translateX(-".concat(100-Math.min(Math.max(l/n*100,0),100),"%)")}})})});u.displayName="Progress";let g=l.forwardRef((e,s)=>{let{className:t="",variant:l="default",...n}=e;return(0,a.jsx)("div",{ref:s,className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors ".concat({default:"bg-blue-600 text-white",secondary:"bg-gray-100 text-gray-900",destructive:"bg-red-600 text-white",outline:"border border-gray-300 bg-white text-gray-900"}[l]," ").concat(t),...n})});g.displayName="Badge";var j=t(3989),p=t(2761);let N=[{id:1,question:"투자 가능 기간은 어느 정도입니까?",options:[{text:"1년 이내",score:1},{text:"1-3년",score:2},{text:"3-7년",score:3},{text:"7년 이상",score:4}]},{id:2,question:"원금 손실을 어느 정도까지 감수할 수 있습니까?",options:[{text:"원금 보장 필수",score:1},{text:"10% 이내 손실 가능",score:2},{text:"20-30% 손실 감수 가능",score:3},{text:"50% 이상 손실도 감수 가능",score:4}]},{id:3,question:"투자 경험과 지식 수준은 어느 정도입니까?",options:[{text:"투자 경험 없음",score:1},{text:"예적금, 펀드 경험",score:2},{text:"주식 투자 경험 있음",score:3},{text:"다양한 투자 상품 경험",score:4}]},{id:4,question:"목표 수익률은 어느 정도입니까?",options:[{text:"연 3-5% (안정적)",score:1},{text:"연 5-10% (보수적)",score:2},{text:"연 10-20% (중간)",score:3},{text:"연 20% 이상 (공격적)",score:4}]},{id:5,question:"투자 손실 시 어떻게 대응하시겠습니까?",options:[{text:"즉시 손절매",score:1},{text:"추가 하락 방지를 위해 매도",score:2},{text:"시장 회복을 기다림",score:3},{text:"추가 매수 검토",score:4}]}],f={"very-conservative":{type:"very-conservative",title:"매우 보수적 투자자",description:"절대적 안정성을 추구하며 원금 보장을 최우선으로 하는 투자자입니다.",characteristics:["원금 보장 절대 중시","최소한의 위험만 감수","예금, 국채 위주 투자","안정적 배당 수익 선호"],color:"bg-slate-100 text-slate-800"},conservative:{type:"conservative",title:"보수적 투자자",description:"안정성을 중시하며 낮은 위험을 감수할 수 있는 투자자입니다.",characteristics:["낮은 위험, 낮은 수익 추구","우량주, 배당주 선호","장기적 안정성 중시","채권, 리츠 투자 적합"],color:"bg-blue-100 text-blue-800"},moderate:{type:"moderate",title:"중립적 투자자",description:"적당한 위험을 감수하며 균형잡힌 포트폴리오를 선호하는 투자자입니다.",characteristics:["중간 수준의 위험과 수익","분산 투자 선호","주식과 채권의 균형","펀드, ETF 투자 적합"],color:"bg-green-100 text-green-800"},aggressive:{type:"aggressive",title:"공격적 투자자",description:"높은 수익을 위해 높은 위험을 감수할 수 있는 투자자입니다.",characteristics:["높은 위험, 높은 수익 추구","변동성에 대한 높은 내성","성장주 투자 선호","개별 주식, 신흥시장 적합"],color:"bg-orange-100 text-orange-800"},"very-aggressive":{type:"very-aggressive",title:"매우 공격적 투자자",description:"극도로 높은 수익을 추구하며 큰 손실도 감수할 수 있는 투자자입니다.",characteristics:["극고위험, 극고수익 추구","변동성을 기회로 활용","투기적 투자 감행","코인, 파생상품 선호"],color:"bg-red-100 text-red-800"}};function y(e){let{onComplete:s,onBack:t}=e,[r,c]=(0,l.useState)(0),[i,o]=(0,l.useState)({}),[y,v]=(0,l.useState)(null),[b,w]=(0,l.useState)(!1),k=e=>{v(e),o({...i,[N[r].id]:e}),setTimeout(()=>{r<N.length-1?(c(r+1),v(null)):w(!0)},300)},S=()=>{let e=Object.values(i).reduce((e,s)=>e+s,0)/N.length;return e<=1.5?f["very-conservative"]:e<=2?f.conservative:e<=2.5?f.moderate:e<=3.5?f.aggressive:f["very-aggressive"]},C=(r+1)/N.length*100;if(b){let e=S();return(0,a.jsx)("div",{className:"w-full min-h-screen bg-background flex flex-col responsive-container",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-8",children:(0,a.jsx)("div",{className:"w-full max-w-none mx-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-primary rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary-foreground text-xl",children:"✓"})}),(0,a.jsx)("h1",{className:"text-xl",children:"분석 완료!"})]}),(0,a.jsxs)(d,{className:"w-full",children:[(0,a.jsxs)(m,{className:"text-center pb-4",children:[(0,a.jsx)(g,{className:"".concat(e.color," w-fit mx-auto"),children:e.title}),(0,a.jsx)(x,{className:"text-lg",children:e.description})]}),(0,a.jsx)(h,{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-2",children:"투자 성향 특징"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:e.characteristics.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"text-primary mt-1",children:"•"}),(0,a.jsx)("span",{className:"flex-1",children:e})]},s))})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n,{onClick:()=>{s(S())},variant:"success",className:"w-full h-12",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"다음: 포트폴리오 추천"]}),(0,a.jsx)(n,{onClick:()=>{c(0),o({}),v(null),w(!1)},variant:"outline",className:"w-full h-12",children:"다시 테스트하기"})]})]})})})})}return(0,a.jsx)("div",{className:"w-full min-h-screen bg-background flex flex-col responsive-container",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,a.jsx)(n,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"투자 성향 분석"})]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[r+1," / ",N.length]})]}),(0,a.jsx)(u,{value:C,className:"h-2"})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)(d,{className:"flex-1 mb-6",children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-base leading-6",children:N[r].question})}),(0,a.jsx)(h,{className:"space-y-3",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3",children:N[r].options.map((e,s)=>(0,a.jsx)("button",{onClick:()=>k(e.score),className:"w-full p-4 text-left border rounded-lg transition-colors ".concat(y===e.score?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:(0,a.jsx)("span",{className:"text-sm",children:e.text})},s))})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[r>0&&(0,a.jsx)(n,{variant:"outline",onClick:()=>{r>0&&(c(r-1),v(i[N[r-1].id]||null))},className:"w-full h-12",children:"이전"}),0===r&&(0,a.jsxs)(n,{variant:"info",onClick:()=>{s(f.moderate)},className:"w-full h-12",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"테스트 건너뛰고 포트폴리오 보기"]})]})]})]})})})}let v=l.forwardRef((e,s)=>{let{className:t="",type:l="text",...n}=e;return(0,a.jsx)("input",{type:l,className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),ref:s,...n})});v.displayName="Input";var b=t(2609),w=t(9889),k=t(6111),S=t(7818),C=t(4270),A=t(4976),E=t(8655),T=t(6127),I=t(4598),D=t(3454);let P=D.env.COINGECKO_API_KEY||"CG-XDJgFHwfoyMMnxq5UuWfqvaw",F=D.env.ALPHA_VANTAGE_API_KEY||"W81KZ2JQNEQY76VG",M={COINGECKO:{search:"https://api.coingecko.com/api/v3/search",price:"https://api.coingecko.com/api/v3/simple/price",trending:"https://api.coingecko.com/api/v3/search/trending",coins:"https://api.coingecko.com/api/v3/coins/markets",global:"https://api.coingecko.com/api/v3/global"},ALPHA_VANTAGE:{quote:"https://www.alphavantage.co/query",search:"https://www.alphavantage.co/query",apiKey:F},YAHOO:{search:"https://query1.finance.yahoo.com/v1/finance/search",quote:"https://query1.finance.yahoo.com/v8/finance/chart/",lookup:"https://query2.finance.yahoo.com/v1/finance/lookup"}};class L{set(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.DEFAULT_TTL;this.cache.set(e,{data:s,timestamp:Date.now(),ttl:t})}get(e){let s=this.cache.get(e);return s?Date.now()-s.timestamp>s.ttl?(this.cache.delete(e),null):s.data:null}clear(){this.cache.clear()}constructor(){this.cache=new Map,this.DEFAULT_TTL=6e4}}let R=new L;Date.now();let O=[{symbol:"005930",name:"삼성전자",englishName:"Samsung Electronics",sector:"Technology",market:"KOSPI"},{symbol:"000660",name:"SK하이닉스",englishName:"SK Hynix",sector:"Technology",market:"KOSPI"},{symbol:"035420",name:"NAVER",englishName:"NAVER",sector:"Technology",market:"KOSPI"},{symbol:"051910",name:"LG화학",englishName:"LG Chem",sector:"Chemical",market:"KOSPI"},{symbol:"006400",name:"삼성SDI",englishName:"Samsung SDI",sector:"Technology",market:"KOSPI"},{symbol:"207940",name:"삼성바이오로직스",englishName:"Samsung Biologics",sector:"Healthcare",market:"KOSPI"},{symbol:"068270",name:"셀트리온",englishName:"Celltrion",sector:"Healthcare",market:"KOSPI"},{symbol:"035720",name:"카카오",englishName:"Kakao",sector:"Technology",market:"KOSPI"},{symbol:"028260",name:"삼성물산",englishName:"Samsung C&T",sector:"Conglomerate",market:"KOSPI"},{symbol:"066570",name:"LG전자",englishName:"LG Electronics",sector:"Technology",market:"KOSPI"},{symbol:"323410",name:"카카오뱅크",englishName:"Kakao Bank",sector:"Financial",market:"KOSPI"},{symbol:"003670",name:"포스코홀딩스",englishName:"POSCO Holdings",sector:"Steel",market:"KOSPI"},{symbol:"000270",name:"기아",englishName:"Kia",sector:"Automotive",market:"KOSPI"},{symbol:"005380",name:"현대차",englishName:"Hyundai Motor",sector:"Automotive",market:"KOSPI"},{symbol:"012330",name:"현대모비스",englishName:"Hyundai Mobis",sector:"Automotive",market:"KOSPI"},{symbol:"017670",name:"SK텔레콤",englishName:"SK Telecom",sector:"Telecom",market:"KOSPI"},{symbol:"030200",name:"KT",englishName:"KT Corporation",sector:"Telecom",market:"KOSPI"},{symbol:"055550",name:"신한지주",englishName:"Shinhan Financial Group",sector:"Financial",market:"KOSPI"},{symbol:"086790",name:"하나금융지주",englishName:"Hana Financial Group",sector:"Financial",market:"KOSPI"},{symbol:"105560",name:"KB금융",englishName:"KB Financial Group",sector:"Financial",market:"KOSPI"},{symbol:"018260",name:"삼성에스디에스",englishName:"Samsung SDS",sector:"Technology",market:"KOSPI"},{symbol:"036570",name:"엔씨소프트",englishName:"NCsoft",sector:"Technology",market:"KOSPI"},{symbol:"251270",name:"넷마블",englishName:"Netmarble",sector:"Technology",market:"KOSPI"},{symbol:"377300",name:"카카오페이",englishName:"Kakao Pay",sector:"Financial",market:"KOSPI"},{symbol:"047050",name:"포스코인터내셔널",englishName:"POSCO International",sector:"Trading",market:"KOSPI"},{symbol:"247540",name:"에코프로비엠",englishName:"EcoPro BM",sector:"Technology",market:"KOSDAQ"},{symbol:"086520",name:"에코프로",englishName:"EcoPro",sector:"Technology",market:"KOSDAQ"},{symbol:"091990",name:"셀트리온헬스케어",englishName:"Celltrion Healthcare",sector:"Healthcare",market:"KOSDAQ"},{symbol:"196170",name:"알테오젠",englishName:"Alteogen",sector:"Healthcare",market:"KOSDAQ"},{symbol:"058470",name:"리노공업",englishName:"Leeno Industrial",sector:"Technology",market:"KOSDAQ"},{symbol:"240810",name:"원익IPS",englishName:"Wonik IPS",sector:"Technology",market:"KOSDAQ"},{symbol:"357780",name:"솔브레인",englishName:"Soulbrain",sector:"Chemical",market:"KOSDAQ"},{symbol:"039030",name:"이오테크닉스",englishName:"EO Technics",sector:"Technology",market:"KOSDAQ"},{symbol:"067310",name:"하나마이크론",englishName:"Hana Micron",sector:"Technology",market:"KOSDAQ"},{symbol:"348210",name:"넥스틴",englishName:"Nextin",sector:"Technology",market:"KOSDAQ"}],B=[{symbol:"AAPL",name:"Apple Inc.",sector:"Technology",market:"NASDAQ"},{symbol:"MSFT",name:"Microsoft Corporation",sector:"Technology",market:"NASDAQ"},{symbol:"GOOGL",name:"Alphabet Inc. Class A",sector:"Technology",market:"NASDAQ"},{symbol:"GOOG",name:"Alphabet Inc. Class C",sector:"Technology",market:"NASDAQ"},{symbol:"AMZN",name:"Amazon.com Inc.",sector:"Consumer Discretionary",market:"NASDAQ"},{symbol:"NVDA",name:"NVIDIA Corporation",sector:"Technology",market:"NASDAQ"},{symbol:"TSLA",name:"Tesla Inc.",sector:"Automotive",market:"NASDAQ"},{symbol:"META",name:"Meta Platforms Inc.",sector:"Technology",market:"NASDAQ"},{symbol:"NFLX",name:"Netflix Inc.",sector:"Communication",market:"NASDAQ"},{symbol:"CRM",name:"Salesforce Inc.",sector:"Technology",market:"NYSE"},{symbol:"ORCL",name:"Oracle Corporation",sector:"Technology",market:"NYSE"},{symbol:"AMD",name:"Advanced Micro Devices Inc.",sector:"Technology",market:"NASDAQ"},{symbol:"INTC",name:"Intel Corporation",sector:"Technology",market:"NASDAQ"},{symbol:"ADBE",name:"Adobe Inc.",sector:"Technology",market:"NASDAQ"},{symbol:"NOW",name:"ServiceNow Inc.",sector:"Technology",market:"NYSE"},{symbol:"PANW",name:"Palo Alto Networks Inc.",sector:"Technology",market:"NASDAQ"},{symbol:"PLTR",name:"Palantir Technologies Inc.",sector:"Technology",market:"NYSE"},{symbol:"SNOW",name:"Snowflake Inc.",sector:"Technology",market:"NYSE"},{symbol:"UBER",name:"Uber Technologies Inc.",sector:"Technology",market:"NYSE"},{symbol:"LYFT",name:"Lyft Inc.",sector:"Technology",market:"NASDAQ"},{symbol:"BRK.B",name:"Berkshire Hathaway Inc. Class B",sector:"Financial",market:"NYSE"},{symbol:"JPM",name:"JPMorgan Chase & Co.",sector:"Financial",market:"NYSE"},{symbol:"V",name:"Visa Inc.",sector:"Financial",market:"NYSE"},{symbol:"MA",name:"Mastercard Inc.",sector:"Financial",market:"NYSE"},{symbol:"BAC",name:"Bank of America Corp.",sector:"Financial",market:"NYSE"},{symbol:"WFC",name:"Wells Fargo & Co.",sector:"Financial",market:"NYSE"},{symbol:"GS",name:"Goldman Sachs Group Inc.",sector:"Financial",market:"NYSE"},{symbol:"MS",name:"Morgan Stanley",sector:"Financial",market:"NYSE"},{symbol:"C",name:"Citigroup Inc.",sector:"Financial",market:"NYSE"},{symbol:"AXP",name:"American Express Co.",sector:"Financial",market:"NYSE"},{symbol:"UNH",name:"UnitedHealth Group Inc.",sector:"Healthcare",market:"NYSE"},{symbol:"JNJ",name:"Johnson & Johnson",sector:"Healthcare",market:"NYSE"},{symbol:"LLY",name:"Eli Lilly and Company",sector:"Healthcare",market:"NYSE"},{symbol:"ABBV",name:"AbbVie Inc.",sector:"Healthcare",market:"NYSE"},{symbol:"PFE",name:"Pfizer Inc.",sector:"Healthcare",market:"NYSE"},{symbol:"TMO",name:"Thermo Fisher Scientific Inc.",sector:"Healthcare",market:"NYSE"},{symbol:"DHR",name:"Danaher Corporation",sector:"Healthcare",market:"NYSE"},{symbol:"BMY",name:"Bristol-Myers Squibb Co.",sector:"Healthcare",market:"NYSE"},{symbol:"CVS",name:"CVS Health Corporation",sector:"Healthcare",market:"NYSE"},{symbol:"CI",name:"Cigna Group",sector:"Healthcare",market:"NYSE"},{symbol:"WMT",name:"Walmart Inc.",sector:"Consumer Staples",market:"NYSE"},{symbol:"PG",name:"Procter & Gamble Co.",sector:"Consumer Staples",market:"NYSE"},{symbol:"HD",name:"Home Depot Inc.",sector:"Consumer Discretionary",market:"NYSE"},{symbol:"COST",name:"Costco Wholesale Corp.",sector:"Consumer Staples",market:"NASDAQ"},{symbol:"KO",name:"Coca-Cola Co.",sector:"Consumer Staples",market:"NYSE"},{symbol:"PEP",name:"PepsiCo Inc.",sector:"Consumer Staples",market:"NASDAQ"},{symbol:"NKE",name:"Nike Inc.",sector:"Consumer Discretionary",market:"NYSE"},{symbol:"MCD",name:"McDonald's Corp.",sector:"Consumer Discretionary",market:"NYSE"},{symbol:"SBUX",name:"Starbucks Corp.",sector:"Consumer Discretionary",market:"NASDAQ"},{symbol:"DIS",name:"Walt Disney Co.",sector:"Communication",market:"NYSE"},{symbol:"XOM",name:"Exxon Mobil Corp.",sector:"Energy",market:"NYSE"},{symbol:"CVX",name:"Chevron Corp.",sector:"Energy",market:"NYSE"},{symbol:"COP",name:"ConocoPhillips",sector:"Energy",market:"NYSE"},{symbol:"EOG",name:"EOG Resources Inc.",sector:"Energy",market:"NYSE"},{symbol:"SLB",name:"Schlumberger NV",sector:"Energy",market:"NYSE"},{symbol:"VZ",name:"Verizon Communications Inc.",sector:"Communication",market:"NYSE"},{symbol:"T",name:"AT&T Inc.",sector:"Communication",market:"NYSE"},{symbol:"TMUS",name:"T-Mobile US Inc.",sector:"Communication",market:"NASDAQ"},{symbol:"CMCSA",name:"Comcast Corp. Class A",sector:"Communication",market:"NASDAQ"}],K=[{symbol:"SPY",name:"SPDR S&P 500 ETF Trust",sector:"ETF",market:"NYSE",category:"Large Cap"},{symbol:"QQQ",name:"Invesco QQQ Trust",sector:"ETF",market:"NASDAQ",category:"Technology"},{symbol:"VTI",name:"Vanguard Total Stock Market ETF",sector:"ETF",market:"NYSE",category:"Total Market"},{symbol:"IWM",name:"iShares Russell 2000 ETF",sector:"ETF",market:"NYSE",category:"Small Cap"},{symbol:"VEA",name:"Vanguard FTSE Developed Markets ETF",sector:"ETF",market:"NYSE",category:"International"},{symbol:"VWO",name:"Vanguard Emerging Markets Stock ETF",sector:"ETF",market:"NYSE",category:"Emerging Markets"},{symbol:"EFA",name:"iShares MSCI EAFE ETF",sector:"ETF",market:"NYSE",category:"International"},{symbol:"EEM",name:"iShares MSCI Emerging Markets ETF",sector:"ETF",market:"NYSE",category:"Emerging Markets"},{symbol:"XLK",name:"Technology Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Technology"},{symbol:"XLF",name:"Financial Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Financial"},{symbol:"XLV",name:"Health Care Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Healthcare"},{symbol:"XLE",name:"Energy Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Energy"},{symbol:"XLI",name:"Industrial Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Industrial"},{symbol:"XLY",name:"Consumer Discretionary Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Consumer Discretionary"},{symbol:"XLP",name:"Consumer Staples Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Consumer Staples"},{symbol:"XLU",name:"Utilities Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Utilities"},{symbol:"XLB",name:"Materials Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Materials"},{symbol:"XLRE",name:"Real Estate Select Sector SPDR Fund",sector:"ETF",market:"NYSE",category:"Real Estate"},{symbol:"AGG",name:"iShares Core U.S. Aggregate Bond ETF",sector:"ETF",market:"NYSE",category:"Bonds"},{symbol:"BND",name:"Vanguard Total Bond Market ETF",sector:"ETF",market:"NASDAQ",category:"Bonds"},{symbol:"TLT",name:"iShares 20+ Year Treasury Bond ETF",sector:"ETF",market:"NASDAQ",category:"Treasury"},{symbol:"IEF",name:"iShares 7-10 Year Treasury Bond ETF",sector:"ETF",market:"NASDAQ",category:"Treasury"},{symbol:"SHY",name:"iShares 1-3 Year Treasury Bond ETF",sector:"ETF",market:"NASDAQ",category:"Treasury"},{symbol:"LQD",name:"iShares iBoxx $ Investment Grade Corporate Bond ETF",sector:"ETF",market:"NYSE",category:"Corporate Bonds"},{symbol:"HYG",name:"iShares iBoxx $ High Yield Corporate Bond ETF",sector:"ETF",market:"NYSE",category:"High Yield"},{symbol:"EMB",name:"iShares J.P. Morgan USD Emerging Markets Bond ETF",sector:"ETF",market:"NASDAQ",category:"Emerging Market Bonds"},{symbol:"ARKK",name:"ARK Innovation ETF",sector:"ETF",market:"NYSE",category:"Innovation"},{symbol:"ARKQ",name:"ARK Autonomous Technology & Robotics ETF",sector:"ETF",market:"NYSE",category:"Robotics"},{symbol:"ARKG",name:"ARK Genomic Revolution ETF",sector:"ETF",market:"NYSE",category:"Genomics"},{symbol:"ICLN",name:"iShares Global Clean Energy ETF",sector:"ETF",market:"NASDAQ",category:"Clean Energy"},{symbol:"MOON",name:"Direxion Moonshot Innovators ETF",sector:"ETF",market:"NYSE",category:"Innovation"},{symbol:"SOXX",name:"iShares Semiconductor ETF",sector:"ETF",market:"NASDAQ",category:"Semiconductors"},{symbol:"SMH",name:"VanEck Semiconductor ETF",sector:"ETF",market:"NASDAQ",category:"Semiconductors"},{symbol:"IBB",name:"iShares Biotechnology ETF",sector:"ETF",market:"NASDAQ",category:"Biotechnology"},{symbol:"GLD",name:"SPDR Gold Shares",sector:"ETF",market:"NYSE",category:"Gold"},{symbol:"SLV",name:"iShares Silver Trust",sector:"ETF",market:"NYSE",category:"Silver"},{symbol:"VYM",name:"Vanguard High Dividend Yield ETF",sector:"ETF",market:"NYSE",category:"Dividend"},{symbol:"DVY",name:"iShares Select Dividend ETF",sector:"ETF",market:"NASDAQ",category:"Dividend"},{symbol:"SCHD",name:"Schwab US Dividend Equity ETF",sector:"ETF",market:"NYSE",category:"Dividend"},{symbol:"VIG",name:"Vanguard Dividend Appreciation ETF",sector:"ETF",market:"NYSE",category:"Dividend Growth"}],Z=[{symbol:"BTC",name:"Bitcoin",geckoId:"bitcoin"},{symbol:"ETH",name:"Ethereum",geckoId:"ethereum"},{symbol:"USDT",name:"Tether",geckoId:"tether"},{symbol:"BNB",name:"BNB",geckoId:"binancecoin"},{symbol:"XRP",name:"Ripple",geckoId:"ripple"},{symbol:"SOL",name:"Solana",geckoId:"solana"},{symbol:"USDC",name:"USD Coin",geckoId:"usd-coin"},{symbol:"ADA",name:"Cardano",geckoId:"cardano"},{symbol:"AVAX",name:"Avalanche",geckoId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",geckoId:"dogecoin"},{symbol:"TRX",name:"TRON",geckoId:"tron"},{symbol:"MATIC",name:"Polygon",geckoId:"matic-network"},{symbol:"DOT",name:"Polkadot",geckoId:"polkadot"},{symbol:"LINK",name:"Chainlink",geckoId:"chainlink"},{symbol:"UNI",name:"Uniswap",geckoId:"uniswap"},{symbol:"LTC",name:"Litecoin",geckoId:"litecoin"},{symbol:"ATOM",name:"Cosmos",geckoId:"cosmos"},{symbol:"XLM",name:"Stellar",geckoId:"stellar"},{symbol:"ETC",name:"Ethereum Classic",geckoId:"ethereum-classic"},{symbol:"NEAR",name:"NEAR Protocol",geckoId:"near"},{symbol:"FIL",name:"Filecoin",geckoId:"filecoin"},{symbol:"APT",name:"Aptos",geckoId:"aptos"},{symbol:"ARB",name:"Arbitrum",geckoId:"arbitrum"},{symbol:"OP",name:"Optimism",geckoId:"optimism"},{symbol:"SUI",name:"Sui",geckoId:"sui"},{symbol:"SEI",name:"Sei",geckoId:"sei-network"},{symbol:"INJ",name:"Injective",geckoId:"injective-protocol"},{symbol:"TIA",name:"Celestia",geckoId:"celestia"},{symbol:"STRK",name:"Starknet",geckoId:"starknet"},{symbol:"BLUR",name:"Blur",geckoId:"blur"},{symbol:"MANA",name:"Decentraland",geckoId:"decentraland"},{symbol:"SAND",name:"The Sandbox",geckoId:"the-sandbox"},{symbol:"AXS",name:"Axie Infinity",geckoId:"axie-infinity"},{symbol:"ENJ",name:"Enjin Coin",geckoId:"enjincoin"},{symbol:"GALA",name:"Gala",geckoId:"gala"},{symbol:"IMX",name:"Immutable X",geckoId:"immutable-x"},{symbol:"SHIB",name:"Shiba Inu",geckoId:"shiba-inu"},{symbol:"PEPE",name:"Pepe",geckoId:"pepe"},{symbol:"FLOKI",name:"FLOKI",geckoId:"floki"},{symbol:"BONK",name:"Bonk",geckoId:"bonk"},{symbol:"WIF",name:"dogwifhat",geckoId:"dogwifcoin"},{symbol:"FET",name:"Fetch.ai",geckoId:"fetch-ai"},{symbol:"AGIX",name:"SingularityNET",geckoId:"singularitynet"},{symbol:"OCEAN",name:"Ocean Protocol",geckoId:"ocean-protocol"},{symbol:"RLC",name:"iExec RLC",geckoId:"iexec-rlc"},{symbol:"BUSD",name:"Binance USD",geckoId:"binance-usd"},{symbol:"DAI",name:"Dai",geckoId:"dai"},{symbol:"TUSD",name:"TrueUSD",geckoId:"true-usd"},{symbol:"FDUSD",name:"First Digital USD",geckoId:"first-digital-usd"},{symbol:"XMR",name:"Monero",geckoId:"monero"},{symbol:"BCH",name:"Bitcoin Cash",geckoId:"bitcoin-cash"},{symbol:"VET",name:"VeChain",geckoId:"vechain"},{symbol:"ALGO",name:"Algorand",geckoId:"algorand"},{symbol:"HBAR",name:"Hedera",geckoId:"hedera-hashgraph"},{symbol:"ICP",name:"Internet Computer",geckoId:"internet-computer"},{symbol:"FLOW",name:"Flow",geckoId:"flow"},{symbol:"EGLD",name:"MultiversX",geckoId:"elrond-erd-2"},{symbol:"XTZ",name:"Tezos",geckoId:"tezos"},{symbol:"THETA",name:"Theta Network",geckoId:"theta-token"}];async function V(e){try{let s=e.map(e=>{let s=Z.find(s=>s.symbol.toUpperCase()===e.toUpperCase());return null==s?void 0:s.geckoId}).filter(Boolean);if(0===s.length)return[];let t={Accept:"application/json"};P&&"demo"!==P&&(t["x-cg-pro-api-key"]=P);let a=await fetch("".concat(M.COINGECKO.price,"?ids=").concat(s.join(","),"&vs_currencies=usd&include_24hr_change=true&include_market_cap=true&include_24hr_vol=true&precision=2"),{headers:t});if(!a.ok)throw Error("CoinGecko API 오류: ".concat(a.status," - ").concat(a.statusText));let l=await a.json();return Object.entries(l).map(e=>{let[s,t]=e,a=Z.find(e=>e.geckoId===s);return a?{id:s,symbol:a.symbol,name:a.name,price:t.usd||0,change:t.usd_24h_change||0,changePercent:t.usd_24h_change||0,volume:t.usd_24h_vol,marketCap:t.usd_market_cap,type:"crypto",market:"CRYPTO",sector:"Cryptocurrency",currency:"USD",geckoId:s}:null}).filter(Boolean)}catch(e){return console.error("암호화폐 가격 조회 오류:",e),[]}}async function G(e){try{var s;let t="alpha_stock_".concat(e),a=R.get(t);if(a)return a;let l=await fetch("".concat(M.ALPHA_VANTAGE.quote,"?function=GLOBAL_QUOTE&symbol=").concat(e,"&apikey=").concat(F));if(!l.ok)throw Error("Alpha Vantage API 오류: ".concat(l.status));let n=await l.json();if(n["Error Message"]||n.Note)return console.warn("Alpha Vantage 제한: ".concat(n["Error Message"]||n.Note)),null;let r=n["Global Quote"];if(!r||0===Object.keys(r).length)return console.warn("Alpha Vantage에서 ".concat(e," 데이터를 찾을 수 없습니다")),null;let c=B.find(s=>s.symbol===e),i={id:e,symbol:e,name:(null==c?void 0:c.name)||r["01. symbol"]||e,price:parseFloat(r["05. price"])||0,change:parseFloat(r["09. change"])||0,changePercent:parseFloat(null===(s=r["10. change percent"])||void 0===s?void 0:s.replace("%",""))||0,volume:parseInt(r["06. volume"])||0,type:(null==c?void 0:c.sector)==="ETF"?"etf":"stock",market:"US",sector:(null==c?void 0:c.sector)||"Technology",currency:"USD",exchange:(null==c?void 0:c.market)||"NASDAQ"};return R.set(t,i,3e4),i}catch(s){return console.error("Alpha Vantage ".concat(e," 조회 오류:"),s),null}}async function Y(e){let s=[];for(let l of e){try{var t,a;let e=await G(l);if(e){s.push(e);continue}let n="yahoo_stock_".concat(l),r=R.get(n);if(r){s.push(r);continue}let c=await fetch("".concat(M.YAHOO.quote).concat(l,"?interval=1d&range=1d"));if(!c.ok)continue;let i=await c.json(),o=null===(a=i.chart)||void 0===a?void 0:null===(t=a.result)||void 0===t?void 0:t[0];if(!o)continue;let d=o.meta;if(!d)continue;let m=B.find(e=>e.symbol===l);e={id:l,symbol:l,name:(null==m?void 0:m.name)||d.symbol,price:d.regularMarketPrice||0,change:(d.regularMarketPrice||0)-(d.previousClose||0),changePercent:((d.regularMarketPrice||0)-(d.previousClose||0))/(d.previousClose||1)*100,volume:d.regularMarketVolume,marketCap:d.marketCap,type:(null==m?void 0:m.sector)==="ETF"?"etf":"stock",market:"US",sector:(null==m?void 0:m.sector)||"Unknown",currency:d.currency||"USD",exchange:d.exchangeName},R.set(n,e,6e4),s.push(e)}catch(e){console.error("".concat(l," 주식 가격 조회 오류:"),e)}await new Promise(e=>setTimeout(e,200))}return s}async function U(e){let s=[];for(let r of e)try{let e="kr_stock_".concat(r),c=R.get(e);if(c){s.push(c);continue}let i=O.find(e=>e.symbol===r);if(!i)continue;let o="".concat(r,".").concat("KOSPI"===i.market?"KS":"KQ"),d=await fetch("".concat(M.YAHOO.quote).concat(o,"?interval=1d&range=1d"));if(d.ok){var t,a,l,n;let c=await d.json(),o=null===(a=c.chart)||void 0===a?void 0:null===(t=a.result)||void 0===t?void 0:t[0];if(o){let t=o.meta;if(null===(n=o.indicators)||void 0===n||null===(l=n.quote)||void 0===l||l[0],t&&t.regularMarketPrice){let a={id:r,symbol:r,name:i.name,price:t.regularMarketPrice||0,change:(t.regularMarketPrice||0)-(t.previousClose||0),changePercent:((t.regularMarketPrice||0)-(t.previousClose||0))/(t.previousClose||1)*100,volume:t.regularMarketVolume,marketCap:t.marketCap,type:"stock",market:"KR",sector:i.sector,currency:"KRW",exchange:i.market};R.set(e,a,6e4),s.push(a);continue}}}let m=5e4+2e5*Math.random(),x=(Math.random()-.5)*10,h={id:r,symbol:r,name:i.name,price:m,change:m*x/100,changePercent:x,volume:Math.floor(1e6*Math.random()),type:"stock",market:"KR",sector:i.sector,currency:"KRW",exchange:i.market};s.push(h)}catch(e){console.error("".concat(r," 한국 주식 가격 조회 오류:"),e)}return s}async function z(e){let s="search_".concat(e.toLowerCase()),t=R.get(s);if(t)return t;let a=[],l=[];try{try{let s={Accept:"application/json","User-Agent":"Investment-Analysis-App/1.0"};P&&"demo"!==P&&P.startsWith("CG-")&&(s["x-cg-pro-api-key"]=P);let t=!1,n=[];try{let a=await fetch("".concat(M.COINGECKO.search,"?query=").concat(encodeURIComponent(e.trim())),{headers:s,method:"GET"});a.ok?(n=((await a.json()).coins||[]).slice(0,8),t=!0):429===a.status?console.warn("CoinGecko API 요청 한도 초과, 폴백 사용"):console.warn("CoinGecko 검색 API 오류: ".concat(a.status))}catch(e){console.warn("CoinGecko API 연결 실패:",e)}if(t&&n.length>0)try{let e=n.map(e=>e.id).join(","),t=await fetch("".concat(M.COINGECKO.price,"?ids=").concat(e,"&vs_currencies=usd&include_24hr_change=true&include_market_cap=true&include_24hr_vol=true"),{headers:s});if(t.ok){let e=await t.json();n.forEach(s=>{let t=e[s.id];if(t&&t.usd){let e=t.usd_24h_change||0;a.push({id:s.id,symbol:s.symbol.toUpperCase(),name:s.name,price:t.usd,change:t.usd*e/100,changePercent:e,volume:t.usd_24h_vol||0,marketCap:t.usd_market_cap||0,type:"crypto",market:"CRYPTO",sector:"Cryptocurrency",currency:"USD",geckoId:s.id,thumb:s.thumb,marketCapRank:s.market_cap_rank})}}),l.push("CoinGecko Real-time")}}catch(e){console.warn("CoinGecko 가격 조회 실패:",e)}if(a.length<3){let s=e.toLowerCase().trim(),t=Z.filter(e=>e.symbol.toLowerCase().includes(s)||e.name.toLowerCase().includes(s)||e.name.toLowerCase()===s||e.symbol.toLowerCase()===s);if(t.length>0)try{let e=(await V(t.slice(0,5).map(e=>e.symbol))).filter(e=>!a.some(s=>s.symbol===e.symbol));a.push(...e),e.length>0&&l.push("CoinGecko Cache")}catch(e){console.warn("암호화폐 폴백 검색 실패:",e)}}}catch(e){console.error("암호화폐 검색 전체 실패:",e)}let s=B.filter(s=>s.symbol.toLowerCase().includes(e.toLowerCase())||s.name.toLowerCase().includes(e.toLowerCase()));if(s.length>0){let e=await Y(s.slice(0,10).map(e=>e.symbol));a.push(...e),l.push("Yahoo Finance")}let t=K.filter(s=>s.symbol.toLowerCase().includes(e.toLowerCase())||s.name.toLowerCase().includes(e.toLowerCase())||s.category&&s.category.toLowerCase().includes(e.toLowerCase()));if(t.length>0){let e=(await Y(t.slice(0,10).map(e=>e.symbol))).map(e=>{var s;return{...e,type:"etf",sector:(null===(s=t.find(s=>s.symbol===e.symbol))||void 0===s?void 0:s.category)||"ETF"}});a.push(...e),l.push("Yahoo Finance ETF")}let n=e.toLowerCase(),r=O.filter(s=>{if(s.symbol.includes(e)||s.name.includes(e)||s.englishName&&s.englishName.toLowerCase().includes(n))return!0;let t=e.match(/[가-힣]+/g);return!!(t&&t.some(e=>s.name.includes(e)))});if(r.length>0){let e=await U(r.slice(0,10).map(e=>e.symbol));a.push(...e),l.push("Korea Exchange")}}catch(e){console.error("통합 검색 오류:",e)}let n={query:e,results:a.slice(0,20),timestamp:Date.now(),sources:l};return R.set(s,n,3e5),n}async function H(){let e="popular_assets",s=R.get(e);if(s)return s;try{let s={crypto:["BTC","ETH","SOL","BNB","ADA"],us:["AAPL","MSFT","GOOGL","TSLA","NVDA"],etf:["SPY","QQQ","VTI","GLD","TLT"],kr:["005930","000660","035420","051910","068270"]},[t,a,l,n]=await Promise.all([V(s.crypto),Y(s.us),Y(s.etf),U(s.kr)]),r=l.map(e=>{let s=K.find(s=>s.symbol===e.symbol);return{...e,type:"etf",sector:(null==s?void 0:s.category)||"ETF"}}),c=[...t,...a,...r,...n];return R.set(e,c,6e5),c}catch(e){return console.error("인기 자산 조회 오류:",e),[]}}async function Q(e){let s=e.filter(e=>"crypto"===e.type).map(e=>e.symbol),t=e.filter(e=>"stock"===e.type||"etf"===e.type||"index"===e.type).map(e=>e.symbol),a=t.filter(e=>/^\d{6}$/.test(e)),l=t.filter(e=>!/^\d{6}$/.test(e)),[n,r,c]=await Promise.all([s.length>0?V(s):[],l.length>0?Y(l):[],a.length>0?U(a):[]]);return[...n,...r,...c]}async function _(){let e={};try{let s={Accept:"application/json"};P&&"demo"!==P&&(s["x-cg-pro-api-key"]=P);let t=await fetch("https://api.coingecko.com/api/v3/ping",{headers:s});e.CoinGecko=t.ok}catch(s){e.CoinGecko=!1}try{let s=await fetch("".concat(M.ALPHA_VANTAGE.quote,"?function=GLOBAL_QUOTE&symbol=AAPL&apikey=").concat(F)),t=await s.json();e["Alpha Vantage"]=!t["Error Message"]&&!t.Note}catch(s){e["Alpha Vantage"]=!1}try{let s=await fetch("https://query1.finance.yahoo.com/v8/finance/chart/AAPL?interval=1d&range=1d");e["Yahoo Finance"]=s.ok}catch(s){e["Yahoo Finance"]=!1}return e}async function q(){console.log("\uD83D\uDE80 Enhanced API 시스템 초기화 중..."),console.log("\uD83D\uDCCA API 키 상태:"),console.log("  - CoinGecko: ".concat(P?"✅ 설정됨":"❌ 없음")),console.log("  - Alpha Vantage: ".concat(F?"✅ 설정됨":"❌ 없음"));let e=await _();console.log("\uD83D\uDD0D API 연결 테스트:"),Object.entries(e).forEach(e=>{let[s,t]=e;console.log("  - ".concat(s,": ").concat(t?"✅ 정상":"❌ 실패"))}),console.log("\uD83D\uDCC8 지원 자산:"),console.log("  - 암호화폐: ".concat(Z.length,"개")),console.log("  - 해외주식: ".concat(B.length,"개")),console.log("  - 국내주식: ".concat(O.length,"개")),console.log("✅ API 시스템 초기화 완료")}let X={conservative:{name:"보수적 포트폴리오",description:"안전성을 중시하는 투자 전략",assets:["SPY","TLT","GLD","005930","VTI"],allocation:{SPY:30,TLT:25,GLD:20,"005930":15,VTI:10}},moderate:{name:"균형 포트폴리오",description:"성장과 안정성의 균형",assets:["SPY","QQQ","VEA","GLD","BTC","005930","000660"],allocation:{SPY:25,QQQ:20,VEA:15,GLD:15,BTC:10,"005930":10,"000660":5}},aggressive:{name:"성장 포트폴리오",description:"높은 수익을 추구하는 공격적 전략",assets:["QQQ","AAPL","TSLA","NVDA","BTC","ETH","035420"],allocation:{QQQ:25,AAPL:15,TSLA:15,NVDA:15,BTC:15,ETH:10,"035420":5}},"very-aggressive":{name:"초고위험 포트폴리오",description:"극한의 수익을 추구하는 투기적 전략",assets:["BTC","ETH","SOL","TSLA","NVDA","AAPL"],allocation:{BTC:40,ETH:20,SOL:15,TSLA:10,NVDA:10,AAPL:5}}};function W(e){let{investorProfile:s,onBack:t,onAnalyze:i,onSavePortfolio:o}=e,[m,x]=(0,l.useState)(""),[h,u]=(0,l.useState)([]),[N,f]=(0,l.useState)([]),[y,D]=(0,l.useState)([]),[P,F]=(0,l.useState)(!1),[M,L]=(0,l.useState)(!0),[R,O]=(0,l.useState)(!1),[B,K]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{L(!0);let e=[{id:"AAPL",symbol:"AAPL",name:"Apple Inc.",price:192.53,change:2.39,changePercent:1.24,sector:"Technology",type:"stock",market:"US",currency:"USD",uniqueId:"stock-AAPL-AAPL",ticker:"AAPL"},{id:"MSFT",symbol:"MSFT",name:"Microsoft Corporation",price:415.26,change:-1.5,changePercent:-.36,sector:"Technology",type:"stock",market:"US",currency:"USD",uniqueId:"stock-MSFT-MSFT",ticker:"MSFT"},{id:"GOOGL",symbol:"GOOGL",name:"Alphabet Inc.",price:175.84,change:1.11,changePercent:.63,sector:"Technology",type:"stock",market:"US",currency:"USD",uniqueId:"stock-GOOGL-GOOGL",ticker:"GOOGL"},{id:"TSLA",symbol:"TSLA",name:"Tesla Inc.",price:248.42,change:-3.18,changePercent:-1.28,sector:"Automotive",type:"stock",market:"US",currency:"USD",uniqueId:"stock-TSLA-TSLA",ticker:"TSLA"},{id:"NVDA",symbol:"NVDA",name:"NVIDIA Corporation",price:875.28,change:17.65,changePercent:2.02,sector:"Technology",type:"stock",market:"US",currency:"USD",uniqueId:"stock-NVDA-NVDA",ticker:"NVDA"},{id:"BTC",symbol:"BTC",name:"Bitcoin",price:94250.67,change:1980.15,changePercent:2.1,sector:"Cryptocurrency",type:"crypto",market:"CRYPTO",currency:"USD",geckoId:"bitcoin",uniqueId:"crypto-BTC-BTC",ticker:"BTC"},{id:"ETH",symbol:"ETH",name:"Ethereum",price:3650.32,change:-61.32,changePercent:-1.68,sector:"Cryptocurrency",type:"crypto",market:"CRYPTO",currency:"USD",geckoId:"ethereum",uniqueId:"crypto-ETH-ETH",ticker:"ETH"},{id:"005930",symbol:"005930",name:"삼성전자",price:75e3,change:1e3,changePercent:1.35,sector:"Technology",type:"stock",market:"KR",currency:"KRW",exchange:"KOSPI",uniqueId:"stock-005930-005930",ticker:"005930"}];try{let s=await H();s.length>0&&(e=s.map(e=>({...e,ticker:e.symbol,uniqueId:"".concat(e.type,"-").concat(e.symbol,"-").concat(e.id)})))}catch(e){console.warn("API 호출 실패, Mock 데이터 사용:",e)}D(e);let t=X[s.type];if(t&&t.assets&&t.assets.length>0){let s=t.assets.map(s=>e.find(e=>e.symbol===s||e.ticker===s)).filter(e=>void 0!==e);s.length>0&&u(s)}K(null)}catch(e){console.error("인기 자산 로드 오류:",e),K("자산 정보를 불러오는데 실패했습니다.")}finally{L(!1)}})()},[s.type]);let Z=(0,l.useCallback)(async e=>{if(e.length<2){f([]),F(!1);return}O(!0),F(!0);try{let s=(await z(e)).results.map(e=>({...e,ticker:e.symbol,uniqueId:"".concat(e.type,"-").concat(e.symbol,"-").concat(e.id)}));f(s)}catch(e){console.error("검색 오류:",e),f([])}finally{O(!1)}},[]);(0,l.useEffect)(()=>{let e=setTimeout(()=>{Z(m)},300);return()=>clearTimeout(e)},[m,Z]);let V=e=>{h.length>=20||(h.some(s=>s.symbol===e.symbol&&s.type===e.type&&s.market===e.market)||u(s=>[...s,e]),x(""),F(!1))},G=e=>{u(s=>s.filter(s=>s.uniqueId!==e))},Y=(e,s)=>{switch(e){case"crypto":return(0,a.jsx)(b.Z,{className:"h-4 w-4 text-orange-500"});case"stock":return"KR"===s?(0,a.jsx)(w.Z,{className:"h-4 w-4 text-blue-500"}):(0,a.jsx)(k.Z,{className:"h-4 w-4 text-green-500"});case"etf":return(0,a.jsx)(c.Z,{className:"h-4 w-4 text-purple-500"});default:return(0,a.jsx)(r.Z,{className:"h-4 w-4 text-gray-500"})}},U=(e,s)=>{switch(e){case"crypto":return"코인";case"stock":return"KR"===s?"국내주식":"해외주식";case"etf":return"ETF";default:return e.toUpperCase()}},Q=(e,s)=>"KRW"===s?"₩".concat(e.toLocaleString()):"$".concat(e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),_=e=>{let{asset:s,isSelected:t,onAdd:l,onRemove:r,allocation:c}=e;return(0,a.jsx)(d,{className:"p-3 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[Y(s.type,s.market),(0,a.jsx)("span",{className:"text-sm font-medium",children:s.symbol}),(0,a.jsx)(g,{variant:"secondary",className:"text-xs",children:U(s.type,s.market)}),c&&(0,a.jsxs)(g,{variant:"outline",className:"text-xs",children:[c,"%"]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1 truncate",children:s.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2 truncate",children:s.sector}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:Q(s.price,s.currency)}),s.price>0&&void 0!==s.changePercent&&(0,a.jsxs)("span",{className:"text-xs font-medium ".concat(s.changePercent>=0?"text-green-600":"text-red-600"),children:[s.changePercent>=0?"+":"",s.changePercent.toFixed(2),"%"]})]})]}),(0,a.jsx)("div",{className:"ml-3 flex-shrink-0",children:t?(0,a.jsx)(n,{size:"sm",variant:"danger",onClick:r,className:"h-8 w-8 p-0",children:(0,a.jsx)(S.Z,{className:"h-4 w-4"})}):(0,a.jsx)(n,{size:"sm",variant:"success",onClick:l,disabled:h.length>=20,className:"h-8 w-8 p-0",children:(0,a.jsx)(C.Z,{className:"h-4 w-4"})})})]})})},q=X[s.type],W=h.filter(e=>"stock"===e.type).length,$=h.filter(e=>"crypto"===e.type).length,J=h.filter(e=>"etf"===e.type).length;return M?(0,a.jsx)("div",{className:"w-full min-h-screen bg-white flex items-center justify-center responsive-container",children:(0,a.jsxs)("div",{className:"text-center px-4",children:[(0,a.jsx)(A.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("h2",{className:"text-lg mb-2",children:"실시간 시세 로딩 중..."}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"최신 가격 정보를 가져오고 있습니다."})]})}):(0,a.jsx)("div",{className:"w-full bg-white responsive-container",children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto pb-4",children:(0,a.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n,{variant:"ghost",size:"icon",onClick:t,className:"h-10 w-10 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold truncate",children:"포트폴리오 추천"}),(0,a.jsx)(g,{className:"".concat(s.color||""," text-xs mt-1"),children:s.title})]})]}),(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"단계 1/3: 자산 선택"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"다음: 비중 조정"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"33%"}})})]}),q&&(0,a.jsxs)(d,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-sm mb-2",children:q.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:q.description})]}),B&&(0,a.jsx)(d,{className:"p-4 border-red-200 bg-red-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{className:"text-sm text-red-600",children:B})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h2",{className:"text-base font-medium",children:"자산 검색 및 추가"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(T.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),(0,a.jsx)(v,{placeholder:"주식, ETF, 암호화폐 검색... (예: 삼성전자, Apple, 비트코인)",value:m,onChange:e=>x(e.target.value),className:"pl-10 h-12"}),R&&(0,a.jsx)(A.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-gray-500"})]}),P&&m.length>=2&&(0,a.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto border rounded-lg bg-white p-2",children:R?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(A.Z,{className:"h-6 w-6 animate-spin mx-auto mb-2 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"검색 중..."})]}):N.length>0?N.map(e=>(0,a.jsx)(_,{asset:e,isSelected:h.some(s=>s.symbol===e.symbol&&s.type===e.type&&s.market===e.market),onAdd:()=>V(e)},e.uniqueId)):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:['"',m,'"에 대한 검색 결과가 없습니다']})})})]}),!P&&y.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h2",{className:"text-base font-medium",children:"인기 자산"}),(0,a.jsx)("div",{className:"space-y-2",children:y.slice(0,5).map(e=>(0,a.jsx)(_,{asset:e,isSelected:h.some(s=>s.symbol===e.symbol&&s.type===e.type),onAdd:()=>V(e)},e.uniqueId))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-base font-medium",children:"선택된 포트폴리오"}),(0,a.jsxs)("div",{className:"flex gap-3 mt-1 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["주식 ",W,"개"]}),(0,a.jsxs)("span",{children:["ETF ",J,"개"]}),(0,a.jsxs)("span",{children:["코인 ",$,"개"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500 font-medium",children:[h.length,"/20"]}),h.length>0&&(0,a.jsx)("div",{className:"text-xs text-green-600 font-medium",children:"✓ 다음 단계 가능"})]})]}),h.length>0?(0,a.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,a.jsx)(_,{asset:e,isSelected:!0,onRemove:()=>G(e.uniqueId||"".concat(e.type,"-").concat(e.symbol,"-").concat(e.id)),allocation:(null==q?void 0:q.allocation[e.symbol])||(null==q?void 0:q.allocation[e.ticker||""])},e.uniqueId))}):(0,a.jsxs)(d,{className:"p-8 text-center border-dashed",children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"아직 선택된 자산이 없습니다"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"위의 검색을 통해 자산을 추가해보세요"})]})]}),(0,a.jsx)("div",{className:"h-32 sm:h-24 md:h-20 lg:h-16"})]})}),h.length>0&&(0,a.jsxs)("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full px-4 pb-6 pt-4 bg-gradient-to-t from-white via-white to-transparent z-50",style:{paddingBottom:"max(24px, env(safe-area-inset-bottom))",maxWidth:"min(393px, 100vw)",width:"min(393px, 100vw)",left:"50%",transform:"translateX(-50%)"},role:"toolbar","aria-label":"포트폴리오 액션 버튼",children:[(0,a.jsxs)(n,{variant:"success",size:"touch",className:"w-full font-semibold shadow-2xl border-2 border-white transform transition-all duration-200 hover:scale-105 active:scale-95  h-12 text-sm sm:h-14 sm:text-base min-h-[48px] min-w-[200px] touch-manipulation focus:outline-none focus:ring-4 focus:ring-green-300",onClick:()=>{if(0===h.length)return;let e=100/h.length,s={};h.forEach(t=>{let a=t.symbol||t.ticker||t.id||"";a&&(s[a]=e)}),i(h,s)},"aria-label":"".concat(h.length,"개 자산의 비중을 조정하러 이동"),style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1)",fontSize:"clamp(14px, 3.5vw, 16px)"},children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2","aria-hidden":"true"}),(0,a.jsxs)("span",{className:"hidden sm:inline",children:["비중 조정하기 (",h.length,"개)"]}),(0,a.jsxs)("span",{className:"sm:hidden",children:["비중조정 (",h.length,"개)"]})]}),o&&(0,a.jsxs)(n,{variant:"outline",size:"sm",className:"w-full mt-2 text-xs sm:text-sm shadow-lg bg-white/90 backdrop-blur-sm border border-gray-200 hover:bg-gray-50 transition-colors h-8 sm:h-10 min-h-[32px] touch-manipulation focus:outline-none focus:ring-4 focus:ring-blue-300",onClick:()=>{if(0===h.length||!o)return;let e=100/h.length,s={};h.forEach(t=>{let a=t.symbol||t.ticker||t.id||"";a&&(s[a]=e)}),o(h,s)},"aria-label":"".concat(h.length,"개 자산을 균등분배로 바로 저장"),style:{fontSize:"clamp(12px, 3vw, 14px)"},children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1","aria-hidden":"true"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"균등분배로 바로 저장"}),(0,a.jsx)("span",{className:"sm:hidden",children:"바로저장"})]})]}),0===h.length&&(0,a.jsx)("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full px-4 pb-6 pt-4 bg-gradient-to-t from-white via-white to-transparent z-50",style:{paddingBottom:"max(24px, env(safe-area-inset-bottom))",maxWidth:"min(393px, 100vw)",width:"min(393px, 100vw)",left:"50%",transform:"translateX(-50%)"},role:"status","aria-live":"polite","aria-label":"자산 선택 안내",children:(0,a.jsxs)("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-lg",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 mx-auto mb-2 text-gray-500","aria-hidden":"true"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",style:{fontSize:"clamp(12px, 3vw, 14px)"},children:"최소 1개 이상의 자산을 선택해주세요"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",style:{fontSize:"clamp(11px, 2.5vw, 12px)"},children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"위의 검색을 통해 자산을 추가해보세요"}),(0,a.jsx)("span",{className:"sm:hidden",children:"자산을 추가해보세요"})]})]})})]})})}let $=e=>{let{value:s,onValueChange:t,max:l=100,min:n=0,step:r=1,className:c=""}=e;return(0,a.jsx)("div",{className:"relative flex items-center ".concat(c),children:(0,a.jsx)("input",{type:"range",min:n,max:l,step:r,value:s[0]||0,onChange:e=>{t([Number(e.target.value)])},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})})},J=l.createContext({value:"",onValueChange:()=>{},isOpen:!1,setIsOpen:()=>{}}),ee=e=>{let{value:s="",onValueChange:t=()=>{},children:n}=e,[r,c]=l.useState(!1);return(0,a.jsx)(J.Provider,{value:{value:s,onValueChange:t,isOpen:r,setIsOpen:c},children:(0,a.jsx)("div",{className:"relative",children:n})})},es=l.forwardRef((e,s)=>{let{className:t="",children:n,...r}=e,{isOpen:c,setIsOpen:i}=l.useContext(J);return(0,a.jsxs)("button",{ref:s,className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),onClick:()=>i(!c),...r,children:[n,(0,a.jsx)("svg",{className:"h-4 w-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})});es.displayName="SelectTrigger";let et=e=>{let{placeholder:s}=e,{value:t}=l.useContext(J);return(0,a.jsx)("span",{children:t||s})},ea=e=>{let{children:s}=e,{isOpen:t}=l.useContext(J);return t?(0,a.jsx)("div",{className:"absolute top-full left-0 z-50 mt-1 w-full rounded-md border border-gray-300 bg-white py-1 shadow-lg",children:s}):null},el=e=>{let{value:s,children:t}=e,{onValueChange:n,setIsOpen:r}=l.useContext(J);return(0,a.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:()=>{n(s),r(!1)},children:t})};var en=t(3633),er=t(9819),ec=t(4715),ei=t(8660),eo=t(2054),ed=t(4489),em=t(4570);let ex=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#64748B"],eh=["#3B82F6","#1D4ED8","#2563EB","#1E40AF","#EF4444","#DC2626","#B91C1C","#991B1B","#10B981","#059669","#047857","#065F46","#F59E0B","#D97706","#B45309","#92400E","#8B5CF6","#7C3AED","#6D28D9","#5B21B6","#F97316","#EA580C","#C2410C","#9A3412","#06B6D4","#0891B2","#0E7490","#155E75","#84CC16","#65A30D","#4D7C0F","#365314"];function eu(e){var s;let{investorProfile:t,selectedAssets:r,initialAllocations:i,onBack:o,onSave:u}=e,[N,f]=(0,l.useState)(i),[y,b]=(0,l.useState)("sector"),[w,S]=(0,l.useState)(1e4),[A,E]=(0,l.useState)(1e3),[T,I]=(0,l.useState)("monthly"),[D,P]=(0,l.useState)(1380),F=e=>e.symbol||e.ticker||e.id||"unknown",M=e=>{let s=Object.values(e).reduce((e,s)=>e+s,0);if(0===s)return e;let t={};return Object.entries(e).forEach(e=>{let[a,l]=e;t[a]=l/s*100}),t},L=(e,s)=>{f(M({...N,[e]:s}))},R=e=>{S(s=>s+e)},O=e=>{E(s=>s+e)},B=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),K=e=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e*D),Z=[{value:"monthly",label:"매월"},{value:"quarterly",label:"분기별 (3개월)"},{value:"semiannual",label:"반기별 (6개월)"},{value:"annual",label:"연간"}],V=(()=>{let e={};return r.forEach(s=>{let t=N[F(s)]||0;e[s.sector]?e[s.sector]+=t:e[s.sector]=t}),Object.entries(e).filter(e=>{let[s,t]=e;return t>0}).map((e,s)=>{let[t,a]=e;return{name:t,value:Math.round(100*a)/100,color:ex[s%ex.length]}}).sort((e,s)=>s.value-e.value)})(),G=r.map((e,s)=>{let t=F(e);return{name:e.name,ticker:t,value:Math.round(100*(N[t]||0))/100,color:eh[s%eh.length],sector:e.sector}}).filter(e=>e.value>0).sort((e,s)=>s.value-e.value);return(0,a.jsxs)("div",{className:"w-full bg-background responsive-container",children:[(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:o,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg truncate",children:"포트폴리오 분석"}),(0,a.jsx)(g,{className:"".concat(t.color," text-xs mt-1"),children:t.title})]})]}),(0,a.jsxs)("div",{className:"bg-muted rounded-lg p-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"단계 2/3: 비중 조정"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"다음: 포트폴리오 저장"})]}),(0,a.jsx)("div",{className:"w-full bg-background rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"66%"}})})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsxs)(n,{variant:"sector"===y?"default":"outline",size:"sm",onClick:()=>b("sector"),className:"flex-1",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"섹터별"]}),(0,a.jsxs)(n,{variant:"asset"===y?"default":"outline",size:"sm",onClick:()=>b("asset"),className:"flex-1",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4 mr-2"}),"종목별"]})]}),(0,a.jsxs)(d,{className:"mb-6",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"sector"===y?"섹터별 비중":"종목별 비중"})}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ei.u,{children:[(0,a.jsx)(eo.b,{data:"sector"===y?V:G,cx:"50%",cy:"50%",labelLine:!1,label:e=>e.value>5?"".concat(e.value.toFixed(1),"%"):"",outerRadius:80,fill:"#8884d8",dataKey:"value",children:("sector"===y?V:G).map((e,s)=>(0,a.jsx)(ed.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(em.u,{content:(0,a.jsx)(e=>{let{active:s,payload:t}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-2 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.value.toFixed(2),"%"]})]})}return null},{})})]})})}),(0,a.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-2",children:("sector"===y?V:G).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground flex-1 truncate",children:"asset"===y?"".concat(e.ticker," - ").concat(e.name):e.name}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[e.value.toFixed(1),"%"]})]},s))})]})]}),(0,a.jsxs)(d,{className:"mb-6",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(x,{className:"text-base",children:"비중 조정"}),(0,a.jsx)(n,{variant:"outline",size:"sm",onClick:()=>{let e=100/r.length,s={};r.forEach(t=>{s[F(t)]=e}),f(s)},className:"text-xs",children:"균등분배"})]})}),(0,a.jsx)(h,{className:"space-y-4",children:r.map(e=>{let s=F(e);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:s}),(0,a.jsx)(g,{variant:"secondary",className:"text-xs",children:e.sector})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium min-w-[50px] text-right",children:[(N[s]||0).toFixed(1),"%"]})})]}),(0,a.jsx)($,{value:[N[s]||0],onValueChange:e=>L(s,e[0]),max:100,step:.1,className:"w-full"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.name})]},e.uniqueId)})})]}),(0,a.jsxs)(d,{className:"mb-6",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(x,{className:"text-base",children:"투자 설정"}),(0,a.jsxs)(g,{variant:"outline",className:"text-xs",children:["USD/KRW ",D.toLocaleString()]})]})}),(0,a.jsxs)(h,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("label",{className:"text-sm font-medium",children:"원금 투자금액"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(v,{type:"number",value:w,onChange:e=>S(Number(e.target.value)||0),className:"pl-9",min:"0",step:"100"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["≈ ",K(w)," (환율: ",D.toLocaleString(),"원)"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"빠른 추가"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:()=>R(1e3),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$1,000"]}),(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:()=>R(1e4),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$10,000"]}),(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:()=>R(1e5),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$100,000"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"리밸런싱 설정"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-muted-foreground",children:"추가 투자 금액"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(v,{type:"number",value:A,onChange:e=>E(Number(e.target.value)||0),className:"pl-9",min:"0",step:"100"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["≈ ",K(A)]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"빠른 추가"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:()=>O(500),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$500"]}),(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:()=>O(1e3),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$1,000"]}),(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:()=>O(5e3),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$5,000"]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-muted-foreground",children:"리밸런싱 주기"}),(0,a.jsxs)(ee,{value:T,onValueChange:I,children:[(0,a.jsx)(es,{children:(0,a.jsx)(et,{})}),(0,a.jsx)(ea,{children:Z.map(e=>(0,a.jsx)(el,{value:e.value,children:e.label},e.value))})]})]})]})]})]}),(0,a.jsx)(d,{className:"mb-6",children:(0,a.jsxs)(h,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:B(w)}),(0,a.jsxs)("div",{className:"api-status-led",children:[(0,a.jsx)("div",{className:"api-led-dot connected"}),(0,a.jsx)("span",{children:"Alpha Vantage"})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:K(w)}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"총 투자금액"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:r.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"보유 종목"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-border",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-lg font-medium",children:[Object.values(N).reduce((e,s)=>e+s,0).toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"총 비중"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:B(A)}),(0,a.jsxs)("div",{className:"api-status-led",children:[(0,a.jsx)("div",{className:"api-led-dot connected"}),(0,a.jsx)("span",{children:"CoinGecko"})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:K(A)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[null===(s=Z.find(e=>e.value===T))||void 0===s?void 0:s.label," 추가"]})]})]})]})})]})})}),(0,a.jsx)("div",{className:"h-32 sm:h-24 md:h-20 lg:h-16"})]}),(0,a.jsxs)("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full px-4 pb-6 pt-4 bg-gradient-to-t from-white via-white to-transparent z-50",style:{paddingBottom:"max(24px, env(safe-area-inset-bottom))",maxWidth:"min(393px, 100vw)",width:"min(393px, 100vw)",left:"50%",transform:"translateX(-50%)"},role:"toolbar","aria-label":"포트폴리오 분석 액션 버튼",children:[(0,a.jsxs)(n,{variant:"success",size:"touch",className:"w-full font-semibold shadow-2xl border-2 border-white transform transition-all duration-200 hover:scale-105 active:scale-95  h-12 text-sm sm:h-14 sm:text-base min-h-[48px] min-w-[200px] touch-manipulation focus:outline-none focus:ring-4 focus:ring-blue-300",onClick:()=>{u(N,{initialInvestment:w,rebalancingAmount:A,rebalancingPeriod:T,exchangeRate:D})},"aria-label":"다음: 대시보드 보기",style:{background:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",boxShadow:"0 10px 25px rgba(59, 130, 246, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1)",fontSize:"clamp(14px, 3.5vw, 16px)"},children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2","aria-hidden":"true"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"다음: 대시보드 보기"}),(0,a.jsx)("span",{className:"sm:hidden",children:"다음: 대시보드"})]}),(0,a.jsxs)(n,{variant:"outline",size:"sm",className:"w-full mt-2 text-xs sm:text-sm shadow-lg bg-white/90 backdrop-blur-sm border border-gray-200 hover:bg-gray-50 transition-colors h-8 sm:h-10 min-h-[32px] touch-manipulation focus:outline-none focus:ring-4 focus:ring-green-300",onClick:()=>{u(N,{initialInvestment:w,rebalancingAmount:A,rebalancingPeriod:T,exchangeRate:D})},"aria-label":"포트폴리오 저장",style:{fontSize:"clamp(12px, 3vw, 14px)"},children:[(0,a.jsx)(er.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1","aria-hidden":"true"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"포트폴리오 저장"}),(0,a.jsx)("span",{className:"sm:hidden",children:"저장"})]})]})]})}var eg=t(9810);function ej(e){let{investorProfile:s,selectedAssets:t,allocations:c,investmentSettings:i,onBack:o,onEdit:u,onNewPortfolio:j,onAdvancedAnalysis:N,onRiskManagement:f,onBacktesting:y,onFuturePrediction:v,isPublicView:b=!1,portfolioAuthor:w}=e,[S,C]=(0,l.useState)(t),[E,T]=(0,l.useState)(!1),[I,D]=(0,l.useState)(new Date),P=async()=>{if(0!==t.length){T(!0);try{let e=t.map(e=>({symbol:e.symbol,type:e.type})),s=await Q(e),a=t.map(e=>{let t=s.find(s=>s.symbol===e.symbol&&s.type===e.type);return t?{...e,price:t.price,change:t.change,changePercent:t.changePercent}:e});C(a),D(new Date)}catch(e){console.error("실시간 가격 업데이트 실패:",e)}finally{T(!1)}}};(0,l.useEffect)(()=>{P()},[t]),(0,l.useEffect)(()=>{let e=setInterval(P,3e4);return()=>clearInterval(e)},[t]);let F=S.reduce((e,s)=>e+(c[s.symbol]||0)/100*i.initialInvestment,0),M=S.reduce((e,s)=>e+(c[s.symbol]||0)/100*s.changePercent,0),L=M/100*F;return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:o,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg truncate",children:b?"공개 포트폴리오":"포트폴리오 대시보드"}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,a.jsx)(g,{className:"".concat(s.color," text-xs"),children:s.title})})]}),!b&&(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:u,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(er.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)(d,{className:"mb-4",children:(0,a.jsx)(h,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(k.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"총 포트폴리오 가치"}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(E?"bg-orange-500 animate-pulse":"bg-green-500 animate-pulse"),title:E?"가격 업데이트 중...":"실시간 가격"}),(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:P,disabled:E,className:"p-1 h-6 w-6",title:"가격 새로고침",children:(0,a.jsx)(A.Z,{className:"h-3 w-3 ".concat(E?"animate-spin":"")})})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["$",F.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[L>=0?(0,a.jsx)(r.Z,{className:"h-4 w-4 text-green-600"}):(0,a.jsx)(eg.Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)("span",{className:"text-sm ".concat(L>=0?"text-green-600":"text-red-600"),children:[L>=0?"+":"","$",L.toFixed(2),"(",M>=0?"+":"",M.toFixed(2),"%)"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"오늘"})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:["마지막 업데이트: ",I.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]})})}),(0,a.jsxs)(d,{className:"mb-4",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"자산 구성"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-3",children:S.map((e,s)=>{let t=c[e.symbol]||0,l=t/100*i.initialInvestment;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.symbol}),(0,a.jsx)(g,{variant:"outline",className:"text-xs",children:"crypto"===e.type?"암호화폐":"stock"===e.type?"주식":"ETF"})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.name}),(0,a.jsxs)("div",{className:"text-sm",children:["$",e.price.toLocaleString(),(0,a.jsxs)("span",{className:"ml-2 ".concat(e.changePercent>=0?"text-green-600":"text-red-600"),children:["(",e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%)"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:[t.toFixed(1),"%"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",l.toLocaleString()]})]})]},s)})})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n,{onClick:j,className:"w-full",size:"lg",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-2"}),"포트폴리오 저장"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[N&&(0,a.jsx)(n,{onClick:N,variant:"outline",children:"고급 분석"}),f&&(0,a.jsx)(n,{onClick:f,variant:"outline",children:"리스크 관리"})]})]})]})})})})})}var ep=t(9176),eN=t(1601),ef=t(2089),ey=t(7089),ev=t(9684),eb=t(2217);function ew(e){let{onBack:s,onCreateNew:t,onViewPortfolio:c,currentUserPortfolios:i,onEducationCenter:o,onPersonalizedRecommendations:m,onExternalIntegrations:x,onApiStatus:u}=e,[j,N]=(0,l.useState)("my"),f=e=>"$".concat(Math.abs(e).toLocaleString());return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto pb-4",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"포트폴리오 둘러보기"})]}),(0,a.jsxs)("div",{className:"flex space-x-1 mb-6 bg-muted p-1 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>N("my"),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ".concat("my"===j?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"내 포트폴리오"}),(0,a.jsx)("button",{onClick:()=>N("public"),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ".concat("public"===j?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"인기 포트폴리오"})]}),"my"===j?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(d,{className:"border-dashed cursor-pointer hover:bg-muted/50 transition-colors",onClick:t,children:(0,a.jsx)(h,{className:"pt-6 text-center",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(C.Z,{className:"h-6 w-6 text-primary-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"새 포트폴리오 만들기"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"투자 성향 분석부터 시작하세요"})]})]})})}),i.length>0?i.map(e=>(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>c(e),children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium mb-1",children:e.name}),(0,a.jsx)(g,{className:"".concat(e.investorProfile.color," text-white text-xs mb-2"),children:e.investorProfile.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["생성일: ",e.createdDate]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:f(e.totalValue)}),(0,a.jsxs)("div",{className:"text-sm ".concat(e.dailyChange>=0?"text-green-600":"text-red-600"),children:[e.dailyChange>=0?"+":"",f(e.dailyChange),"(",e.dailyChangePercent>=0?"+":"",e.dailyChangePercent.toFixed(2),"%)"]})]})]})})},e.id)):(0,a.jsx)(d,{className:"text-center py-8",children:(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(r.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"아직 포트폴리오가 없습니다"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"첫 번째 포트폴리오를 만들어보세요"})]}),(0,a.jsx)(n,{onClick:t,className:"mt-4",variant:"primary",children:"포트폴리오 만들기"})]})})})]}):(0,a.jsx)("div",{className:"space-y-4",children:[{id:"public-1",name:"2024 성장주 집중 투자",investorProfile:{type:"growth",title:"성장 추구형",description:"높은 성장 잠재력을 가진 기업에 투자",characteristics:["고성장 기업 선호","기술주 중심","장기 투자"],color:"bg-green-600"},assets:[{id:"NVDA",symbol:"NVDA",name:"NVIDIA Corporation",price:875.28,change:17.65,changePercent:2.02,sector:"Technology",type:"stock",market:"US",currency:"USD"},{id:"TSLA",symbol:"TSLA",name:"Tesla Inc.",price:248.42,change:-3.18,changePercent:-1.28,sector:"Automotive",type:"stock",market:"US",currency:"USD"},{id:"AAPL",symbol:"AAPL",name:"Apple Inc.",price:192.53,change:2.39,changePercent:1.24,sector:"Technology",type:"stock",market:"US",currency:"USD"},{id:"META",symbol:"META",name:"Meta Platforms",price:502.31,change:-4.02,changePercent:-.8,sector:"Technology",type:"stock",market:"US",currency:"USD"},{id:"GOOGL",symbol:"GOOGL",name:"Alphabet Inc.",price:175.84,change:1.11,changePercent:.63,sector:"Technology",type:"stock",market:"US",currency:"USD"}],allocations:{NVDA:30,TSLA:25,AAPL:20,META:15,GOOGL:10},totalValue:5e4,dailyChange:1250,dailyChangePercent:2.56,createdDate:"2024-12-10",author:{name:"김투자",isVerified:!0},followers:1250,likes:89},{id:"public-2",name:"ESG 지속가능 포트폴리오",investorProfile:{type:"moderate",title:"균형 투자형",description:"환경과 사회적 가치를 중시하는 투자",characteristics:["ESG 중심","지속가능성","사회적 책임"],color:"bg-emerald-600"},assets:[{id:"MSFT",symbol:"MSFT",name:"Microsoft",price:415.26,change:-1.5,changePercent:-.36,sector:"Technology",type:"stock",market:"US",currency:"USD"},{id:"JNJ",symbol:"JNJ",name:"Johnson & Johnson",price:165.82,change:1.34,changePercent:.81,sector:"Healthcare",type:"stock",market:"US",currency:"USD"},{id:"PG",symbol:"PG",name:"Procter & Gamble",price:158.45,change:.76,changePercent:.48,sector:"Consumer Staples",type:"stock",market:"US",currency:"USD"},{id:"NEE",symbol:"NEE",name:"NextEra Energy",price:89.34,change:-.45,changePercent:-.5,sector:"Utilities",type:"stock",market:"US",currency:"USD"}],allocations:{MSFT:30,JNJ:25,PG:25,NEE:20},totalValue:3e4,dailyChange:-450,dailyChangePercent:-1.48,createdDate:"2024-12-08",author:{name:"박지속",isVerified:!1},followers:867,likes:56},{id:"public-3",name:"방어적 배당주 전략",investorProfile:{type:"conservative",title:"안정 추구형",description:"안정적인 배당 수익을 추구",characteristics:["배당 중심","저변동성","장기 보유"],color:"bg-blue-600"},assets:[{id:"KO",symbol:"KO",name:"Coca-Cola",price:61.23,change:.31,changePercent:.51,sector:"Consumer Staples",type:"stock",market:"US",currency:"USD"},{id:"VZ",symbol:"VZ",name:"Verizon",price:41.56,change:.15,changePercent:.36,sector:"Telecom",type:"stock",market:"US",currency:"USD"},{id:"T",symbol:"T",name:"AT&T",price:19.87,change:.08,changePercent:.4,sector:"Telecom",type:"stock",market:"US",currency:"USD"},{id:"XOM",symbol:"XOM",name:"Exxon Mobil",price:104.56,change:.89,changePercent:.86,sector:"Energy",type:"stock",market:"US",currency:"USD"},{id:"TLT",symbol:"TLT",name:"20+ Year Treasury",price:89.45,change:-.22,changePercent:-.25,sector:"ETF",type:"etf",market:"US",currency:"USD"}],allocations:{KO:20,VZ:20,T:15,XOM:20,TLT:25},totalValue:75e3,dailyChange:380,dailyChangePercent:.51,createdDate:"2024-12-05",author:{name:"이안정",isVerified:!0},followers:2100,likes:143},{id:"public-4",name:"암호화폐 & 혁신기술",investorProfile:{type:"very-aggressive",title:"공격 투자형",description:"새로운 기술과 디지털 자산에 투자",characteristics:["고위험 고수익","암호화폐 중심","혁신 기술"],color:"bg-purple-600"},assets:[{id:"BTC",symbol:"BTC",name:"Bitcoin",price:94250.67,change:1980.15,changePercent:2.1,sector:"Cryptocurrency",type:"crypto",market:"CRYPTO",currency:"USD",geckoId:"bitcoin"},{id:"ETH",symbol:"ETH",name:"Ethereum",price:3650.32,change:-61.32,changePercent:-1.68,sector:"Cryptocurrency",type:"crypto",market:"CRYPTO",currency:"USD",geckoId:"ethereum"},{id:"SOL",symbol:"SOL",name:"Solana",price:198.74,change:8.87,changePercent:4.46,sector:"Cryptocurrency",type:"crypto",market:"CRYPTO",currency:"USD",geckoId:"solana"},{id:"ARKK",symbol:"ARKK",name:"ARK Innovation ETF",price:52.31,change:1.89,changePercent:3.62,sector:"ETF",type:"etf",market:"US",currency:"USD"}],allocations:{BTC:40,ETH:30,SOL:20,ARKK:10},totalValue:25e3,dailyChange:2100,dailyChangePercent:9.17,createdDate:"2024-12-12",author:{name:"최크립토",isVerified:!1},followers:456,likes:78}].map(e=>{var s,t,l;return(0,a.jsx)(d,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(h,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.name}),(null===(s=e.author)||void 0===s?void 0:s.isVerified)&&(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xs",children:"✓"})})]}),(0,a.jsx)(g,{className:"".concat(e.investorProfile.color," text-white text-xs mb-2"),children:e.investorProfile.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["by ",null===(t=e.author)||void 0===t?void 0:t.name]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ep.Z,{className:"h-3 w-3"}),null===(l=e.followers)||void 0===l?void 0:l.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eN.Z,{className:"h-3 w-3"}),e.likes]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:f(e.totalValue)}),(0,a.jsxs)("div",{className:"text-sm flex items-center gap-1 ".concat(e.dailyChange>=0?"text-green-600":"text-red-600"),children:[e.dailyChange>=0?(0,a.jsx)(r.Z,{className:"h-3 w-3"}):(0,a.jsx)(eg.Z,{className:"h-3 w-3"}),e.dailyChangePercent>=0?"+":"",e.dailyChangePercent.toFixed(2),"%"]})]})]}),(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-border",children:(0,a.jsx)(n,{variant:"primary",size:"sm",className:"w-full",onClick:()=>c(e),children:"포트폴리오 보기"})})]})},e.id)})}),(0,a.jsxs)("div",{className:"space-y-3 mt-8 mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"추가 서비스"}),(0,a.jsxs)("div",{className:"grid gap-3",children:[o&&(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:o,children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(ef.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"투자 교육 센터"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"포트폴리오 이론부터 실전 전략까지"})]})]})})}),m&&(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:m,children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-pink-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(ey.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"개인화된 추천"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"AI가 제안하는 맞춤형 투자 전략"})]})]})})}),x&&(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:x,children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"외부 서비스 연동"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"계좌 연동, 뉴스 피드, 경제 지표"})]})]})})}),u&&(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:u,children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eb.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"API 연동 상태"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"실시간 데이터 연결 상태 확인"})]})]})})})]})]})]})})})})})}let ek=l.createContext({value:"",onValueChange:()=>{}}),eS=e=>{let{value:s,defaultValue:t,onValueChange:n,className:r="",children:c}=e,[i,o]=l.useState(t||s||""),d=void 0!==s?s:i;return(0,a.jsx)(ek.Provider,{value:{value:d,onValueChange:n||o},children:(0,a.jsx)("div",{className:r,children:c})})},eC=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 ".concat(s),children:t})},eA=e=>{let{value:s,className:t="",children:n}=e,{value:r,onValueChange:c}=l.useContext(ek),i=r===s;return(0,a.jsx)("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all ".concat(i?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"," ").concat(t),onClick:()=>c(s),children:n})},eE=e=>{let{value:s,className:t="",children:n}=e,{value:r}=l.useContext(ek);return r!==s?null:(0,a.jsx)("div",{className:"mt-2 ".concat(t),children:n})};var eT=t(3488),eI=t(113),eD=t(3346),eP=t(2542),eF=t(723),eM=t(7017),eL=t(5615),eR=t(8793),eO=t(1712),eB=t(9984),eK=t(1536);function eZ(e){return e.reduce((e,s)=>e+s,0)/e.length}function eV(e){let s=eZ(e);return Math.sqrt(eZ(e.map(e=>Math.pow(e-s,2))))}function eG(e){let s=0,t=e[0];for(let a of e)a>t?t=a:s=Math.max(s,(t-a)/t*100);return s}function eY(e,s){let t=new Date(e);return Math.ceil(Math.abs(new Date(s).getTime()-t.getTime())/864e5)}function eU(e){let{assets:s,allocations:t,initialInvestment:r,onBack:c}=e,[i,o]=(0,l.useState)("1y"),[u,j]=(0,l.useState)("SPY"),N=e=>e.symbol||e.ticker||e.id||"unknown",f=(0,l.useMemo)(()=>{let e="1y"===i?365:"3y"===i?1095:1825,a=[],l=r,n=s.reduce((e,s,t)=>e+N(s).charCodeAt(0)*(t+1),0),c=0,o=0;s.forEach(e=>{let s=t[N(e)]/100,a=.08,l=.2;"crypto"===e.type?(a=.3,l=.6):"Technology"===e.sector?(a=.15,l=.3):"Bonds"===e.sector&&(a=.04,l=.05),c+=s*a,o+=s*l});let d=n,m=()=>{let e=1e4*Math.sin(d++);return e-Math.floor(e)};for(let s=e;s>=0;s--){let t=new Date;if(t.setDate(t.getDate()-s),s===e){a.push({date:t.toISOString().split("T")[0],value:l,return:0});continue}let n=c/252+(m()-.5)*o*2/Math.sqrt(252);l*=1+n,a.push({date:t.toISOString().split("T")[0],value:l,return:100*n})}return a},[s,t,r,i]),y=(0,l.useMemo)(()=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1y",s="1y"===e?365:"3y"===e?1095:252,t=new Date;return[{name:"S&P 500",ticker:"SPY",baseReturn:.1,volatility:.16},{name:"NASDAQ 100",ticker:"QQQ",baseReturn:.12,volatility:.22},{name:"KOSPI",ticker:"KOSPI",baseReturn:.08,volatility:.2},{name:"미국 채권",ticker:"AGG",baseReturn:.04,volatility:.05},{name:"금",ticker:"GLD",baseReturn:.06,volatility:.18}].map(e=>{let a;let l=[],n=100,r=(a=e.ticker.split("").reduce((e,s)=>e+s.charCodeAt(0),0)||Math.floor(2147483647*Math.random()),function(){return(a=(1103515245*a+12345)%2147483648)/2147483647});for(let a=s;a>=0;a--){let c=new Date(t);if(c.setDate(c.getDate()-a),a===s){l.push({date:c.toISOString().split("T")[0],value:n,return:0});continue}let i=e.baseReturn/252+(r()-.5)*e.volatility*2/Math.sqrt(252),o=n*(1+i);l.push({date:c.toISOString().split("T")[0],value:o,return:100*i}),n=o}let c=l.slice(1).map(e=>e.return/100),i=(n-100)/100,o=Math.pow(1+i,252/c.length)-1,d=eV(c)*Math.sqrt(252),m=eG(l.map(e=>e.value));return{name:e.name,ticker:e.ticker,data:l,totalReturn:100*i,annualizedReturn:100*o,volatility:100*d,maxDrawdown:m}})})(i),[i]),v=(0,l.useMemo)(()=>y.find(e=>e.ticker===u)||y[0],[y,u]),b=(0,l.useMemo)(()=>(function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.025;e.map(e=>e-t/252),s.map(e=>e-t/252);let a=eZ(e),l=eV(e),n=eZ(s);eV(s);let r=function(e,s){let t=eZ(e),a=eZ(s),l=0,n=0;for(let r=0;r<e.length;r++)l+=(e[r]-t)*(s[r]-a),n+=Math.pow(s[r]-a,2);return 0!==n?l/n:1}(e,s),c=e.map((e,t)=>e-s[t]),i=eV(c)*Math.sqrt(252),o=i>0?252*eZ(c)/i:0,d=e.reduce((e,s)=>{let t=e.length>0?e[e.length-1]:1;return e.push(t*(1+s)),e},[1]),m=eG(d),x=function(e){let s=0,t=e[0];for(let a of e)a<t?t=a:s=Math.max(s,(a-t)/t*100);return s}(d),h=e.filter(e=>e<0),u=h.length>0?eV(h):l,g=e.filter(e=>e>0).length/e.length*100,j=e.filter(e=>e>0).reduce((e,s)=>e+s,0),p=Math.abs(e.filter(e=>e<0).reduce((e,s)=>e+s,0));return{sharpeRatio:(252*a-t)/(l*Math.sqrt(252)),alpha:100*(252*a-(t+r*(252*n-t))),beta:r,informationRatio:o,trackingError:100*i,calmarRatio:m>0?252*a/(m/100):0,sortinoRatio:(252*a-t)/(u*Math.sqrt(252)),maxDrawdown:m,maxGain:x,winRate:g,profitFactor:p>0?j/p:j>0?10:1}})(f.slice(1).map(e=>e.return/100),v.data.slice(1).map(e=>e.return/100)),[f,v]),w=(0,l.useMemo)(()=>(function(e,s){let t=[],a=new Date;for(let l=0;l<3;l++){let n=a.getFullYear()-l,r="".concat(n,"-01-01"),c="".concat(n,"-12-31"),i=e.filter(e=>e.date>=r&&e.date<=c),o=s.filter(e=>e.date>=r&&e.date<=c);if(i.length>0&&o.length>0){let e=(i[i.length-1].value/i[0].value-1)*100,s=(o[o.length-1].value/o[0].value-1)*100;t.push({period:"".concat(n,"년"),portfolioReturn:e,benchmarkReturn:s,alpha:e-s,relativeReturn:e-s})}}for(let l=0;l<8;l++){let n=new Date(a);n.setMonth(n.getMonth()-3*l);let r=Math.floor(n.getMonth()/3)+1,c=n.getFullYear(),i=new Date(c,(r-1)*3,1),o=new Date(c,3*r,0),d=i.toISOString().split("T")[0],m=o.toISOString().split("T")[0],x=e.filter(e=>e.date>=d&&e.date<=m),h=s.filter(e=>e.date>=d&&e.date<=m);if(x.length>0&&h.length>0){let e=(x[x.length-1].value/x[0].value-1)*100,s=(h[h.length-1].value/h[0].value-1)*100;t.push({period:"".concat(c,"Q").concat(r),portfolioReturn:e,benchmarkReturn:s,alpha:e-s,relativeReturn:e-s})}}return t.reverse()})(f.map(e=>({date:e.date,value:e.value})),v.data.map(e=>({date:e.date,value:e.value}))),[f,v]),k=(0,l.useMemo)(()=>(function(e){let s=[],t=e[0].value,a=e[0].date,l=0,n="",r=!1;for(let c=1;c<e.length;c++){let i=e[c];if(i.value>t)r&&(s.push({startDate:n,endDate:e[c-1].date,duration:eY(n,e[c-1].date),maxDrawdown:l,recovery:!0}),r=!1),t=i.value,a=i.date,l=0;else{let e=(t-i.value)/t*100;!r&&e>1?(r=!0,n=a,l=e):r&&(l=Math.max(l,e))}}return r&&s.push({startDate:n,endDate:e[e.length-1].date,duration:eY(n,e[e.length-1].date),maxDrawdown:l,recovery:!1}),s.sort((e,s)=>s.maxDrawdown-e.maxDrawdown)})(f.map(e=>({date:e.date,value:e.value}))),[f]),S=(0,l.useMemo)(()=>f.map((e,s)=>({date:e.date,portfolio:(e.value/f[0].value-1)*100,benchmark:s<v.data.length?(v.data[s].value/v.data[0].value-1)*100:null})).filter((e,s)=>s%("5y"===i?10:"3y"===i?5:2)==0),[f,v,i]),C=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"%",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return"".concat(e.toFixed(t)).concat(s)},A=function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e>0?s?"text-green-600":"text-red-600":e<0?s?"text-red-600":"text-green-600":"text-muted-foreground"};return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:c,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"고급 성과 분석"})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-6",children:["1y","3y","5y"].map(e=>(0,a.jsx)(n,{variant:i===e?"default":"outline",size:"sm",onClick:()=>o(e),className:"flex-1",children:"1y"===e?"1년":"3y"===e?"3년":"5년"},e))}),(0,a.jsxs)(eS,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(eC,{className:"grid w-full grid-cols-4 mb-6",children:[(0,a.jsx)(eA,{value:"overview",className:"text-xs",children:"개요"}),(0,a.jsx)(eA,{value:"metrics",className:"text-xs",children:"지표"}),(0,a.jsx)(eA,{value:"periods",className:"text-xs",children:"구간"}),(0,a.jsx)(eA,{value:"drawdown",className:"text-xs",children:"손익"})]}),(0,a.jsxs)(eE,{value:"overview",className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:y.map(e=>(0,a.jsx)(n,{variant:u===e.ticker?"default":"outline",size:"sm",onClick:()=>j(e.ticker),className:"whitespace-nowrap flex-shrink-0",children:e.name},e.ticker))}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"벤치마크 대비 누적 수익률"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eF.w,{data:S,children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(eL.K,{dataKey:"date",tick:{fontSize:10},tickFormatter:e=>{let s=new Date(e);return"5y"===i?"".concat(s.getFullYear()):"".concat(s.getMonth()+1,"월")}}),(0,a.jsx)(eR.B,{tick:{fontSize:10},tickFormatter:e=>"".concat(e.toFixed(0),"%")}),(0,a.jsx)(em.u,{formatter:(e,s)=>["".concat(null==e?void 0:e.toFixed(2),"%"),"portfolio"===s?"내 포트폴리오":v.name],labelFormatter:e=>new Date(e).toLocaleDateString("ko-KR")}),(0,a.jsx)(eO.x,{type:"monotone",dataKey:"portfolio",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1}),(0,a.jsx)(eO.x,{type:"monotone",dataKey:"benchmark",stroke:"hsl(var(--muted-foreground))",strokeWidth:1,strokeDasharray:"5 5",dot:!1})]})})})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"성과 비교"})}),(0,a.jsxs)(h,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"내 포트폴리오"}),(0,a.jsx)("p",{className:"text-lg",children:(0,a.jsx)("span",{className:A(f[f.length-1].value-r),children:C((f[f.length-1].value/r-1)*100)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:v.name}),(0,a.jsx)("p",{className:"text-lg",children:(0,a.jsx)("span",{className:A(v.totalReturn),children:C(v.totalReturn)})})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"초과 수익률"}),(0,a.jsxs)("span",{className:"text-sm ".concat(A(b.alpha)),children:[b.alpha>0?"+":"",C(b.alpha)]})]})})]})]})]}),(0,a.jsxs)(eE,{value:"metrics",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eT.Z,{className:"h-4 w-4"}),"위험 조정 수익률"]})}),(0,a.jsx)(h,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"샤프 비율"}),(0,a.jsx)("p",{className:"text-lg",children:C(b.sharpeRatio,"",3)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:b.sharpeRatio>1?"우수":b.sharpeRatio>.5?"양호":"개선 필요"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"소르티노 비율"}),(0,a.jsx)("p",{className:"text-lg",children:C(b.sortinoRatio,"",3)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"하방 위험 기준"})]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4"}),"벤치마크 대비 지표"]})}),(0,a.jsx)(h,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"알파 (α)"}),(0,a.jsxs)("span",{className:A(b.alpha),children:[b.alpha>0?"+":"",C(b.alpha)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"베타 (β)"}),(0,a.jsx)("span",{children:C(b.beta,"",3)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"정보 비율"}),(0,a.jsx)("span",{children:C(b.informationRatio,"",3)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"트래킹 에러"}),(0,a.jsx)("span",{children:C(b.trackingError)})]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"위험 지표"})}),(0,a.jsx)(h,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"최대 낙폭"}),(0,a.jsxs)("span",{className:"text-red-600",children:["-",C(b.maxDrawdown)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"최대 상승폭"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",C(b.maxGain)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"칼마 비율"}),(0,a.jsx)("span",{children:C(b.calmarRatio,"",3)})]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"거래 성과"})}),(0,a.jsx)(h,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"승률"}),(0,a.jsx)("span",{className:A(b.winRate-50),children:C(b.winRate)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"수익 팩터"}),(0,a.jsx)("span",{className:A(b.profitFactor-1),children:C(b.profitFactor,"",2)})]})]})})]})]}),(0,a.jsxs)(eE,{value:"periods",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4"}),"기간별 성과 분석"]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-2",children:w.slice(0,8).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium w-16",children:e.period}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(g,{variant:"outline",className:"text-xs",children:[e.portfolioReturn>0?"+":"",C(e.portfolioReturn,"",1)]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"vs"}),(0,a.jsxs)(g,{variant:"secondary",className:"text-xs",children:[e.benchmarkReturn>0?"+":"",C(e.benchmarkReturn,"",1)]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"text-sm ".concat(A(e.alpha)),children:[e.alpha>0?"+":"",C(e.alpha,"",1)]})})]},s))})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"분기별 수익률 비교"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eB.v,{data:w.filter(e=>e.period.includes("Q")).slice(-8),children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(eL.K,{dataKey:"period",tick:{fontSize:10}}),(0,a.jsx)(eR.B,{tick:{fontSize:10},tickFormatter:e=>"".concat(e,"%")}),(0,a.jsx)(em.u,{formatter:(e,s)=>["".concat(e.toFixed(1),"%"),"portfolioReturn"===s?"포트폴리오":"벤치마크"]}),(0,a.jsx)(eK.$,{dataKey:"portfolioReturn",fill:"hsl(var(--primary))"}),(0,a.jsx)(eK.$,{dataKey:"benchmarkReturn",fill:"hsl(var(--muted-foreground))"})]})})})})]})]}),(0,a.jsxs)(eE,{value:"drawdown",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-orange-500"}),"주요 손실 구간"]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-3",children:k.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"p-3 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["#",s+1," 손실 구간"]}),(0,a.jsxs)("span",{className:"text-red-600",children:["-",C(e.maxDrawdown)]})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("div",{children:["기간: ",new Date(e.startDate).toLocaleDateString("ko-KR")," ~ ",new Date(e.endDate).toLocaleDateString("ko-KR")]}),(0,a.jsxs)("div",{children:["지속: ",e.duration,"일"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["회복:",e.recovery?(0,a.jsx)(g,{variant:"secondary",className:"text-xs",children:"완료"}):(0,a.jsx)(g,{variant:"destructive",className:"text-xs",children:"진행중"})]})]})]},s))})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"일일 수익률 분포"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eB.v,{data:[{range:"-5%~",count:f.filter(e=>e.return<=-5).length},{range:"-3%~-5%",count:f.filter(e=>e.return>-5&&e.return<=-3).length},{range:"-1%~-3%",count:f.filter(e=>e.return>-3&&e.return<=-1).length},{range:"-1%~1%",count:f.filter(e=>e.return>-1&&e.return<=1).length},{range:"1%~3%",count:f.filter(e=>e.return>1&&e.return<=3).length},{range:"3%~5%",count:f.filter(e=>e.return>3&&e.return<=5).length},{range:"5%~",count:f.filter(e=>e.return>5).length}],children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(eL.K,{dataKey:"range",tick:{fontSize:10}}),(0,a.jsx)(eR.B,{tick:{fontSize:10}}),(0,a.jsx)(em.u,{}),(0,a.jsx)(eK.$,{dataKey:"count",children:[{range:"-5%~",count:f.filter(e=>e.return<=-5).length},{range:"-3%~-5%",count:f.filter(e=>e.return>-5&&e.return<=-3).length},{range:"-1%~-3%",count:f.filter(e=>e.return>-3&&e.return<=-1).length},{range:"-1%~1%",count:f.filter(e=>e.return>-1&&e.return<=1).length},{range:"1%~3%",count:f.filter(e=>e.return>1&&e.return<=3).length},{range:"3%~5%",count:f.filter(e=>e.return>3&&e.return<=5).length},{range:"5%~",count:f.filter(e=>e.return>5).length}].map((e,s)=>(0,a.jsx)(ed.b,{fill:s<3?"hsl(var(--destructive))":3===s?"hsl(var(--muted-foreground))":"hsl(var(--primary))"},"cell-".concat(s)))})]})})})})]})]})]})]})})})})})}var ez=t(3416),eH=t(6611);let eQ=e=>e.symbol||e.ticker||e.id||"unknown";function e_(e){let{assets:s,allocations:t,initialInvestment:c,onBack:i}=e,[o,j]=(0,l.useState)("volatility"),N=e=>e.symbol||e.ticker||e.id||"unknown",f=[{name:"미연준 기준금리",shortName:"Fed Rate",value:4.88,unit:"%",change:0,status:"neutral",description:"4.75-5.00% 범위"},{name:"인플레이션율",shortName:"Inflation",value:2.4,unit:"%",change:-.1,status:"positive",description:"전년동월대비 CPI"},{name:"실업률",shortName:"Unemployment",value:3.7,unit:"%",change:.1,status:"negative",description:"계절조정 실업률"},{name:"GDP 성장률",shortName:"GDP Growth",value:2.3,unit:"%",change:.2,status:"positive",description:"연율화 성장률"},{name:"공포지수 (VIX)",shortName:"VIX",value:16.8,unit:"",change:-1.2,status:"positive",description:"변동성 지수"},{name:"달러 인덱스",shortName:"DXY",value:104.2,unit:"",change:.3,status:"neutral",description:"주요 통화 대비 달러 강도"}],y=(0,l.useMemo)(()=>{let e=f.map(e=>e.shortName),t=[],a=(e,s)=>(e+s).split("").reduce((e,s)=>e+s.charCodeAt(0),0),l=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)};return s.forEach((s,n)=>{t[n]=[],e.forEach((e,r)=>{var c,i,o,d,m,x,h,u,g,j,p,f,y,v,b,w,k,S,C,A,E;let T=0;"Fed Rate"===e?T="crypto"===s.type?-.6:(null===(c=s.sector)||void 0===c?void 0:c.includes("Technology"))?-.4:(null===(i=s.sector)||void 0===i?void 0:i.includes("Financial"))?.5:(null===(o=s.sector)||void 0===o?void 0:o.includes("Bonds"))?-.7:(null===(d=s.sector)||void 0===d?void 0:d.includes("Real Estate"))?-.5:-.2:"Inflation"===e?T="crypto"===s.type?.3:(null===(m=s.sector)||void 0===m?void 0:m.includes("Precious Metals"))?.7:(null===(x=s.sector)||void 0===x?void 0:x.includes("Energy"))?.6:(null===(h=s.sector)||void 0===h?void 0:h.includes("Bonds"))?-.6:(null===(u=s.sector)||void 0===u?void 0:u.includes("Consumer"))?-.3:.1:"Unemployment"===e?T="crypto"===s.type?-.2:(null===(g=s.sector)||void 0===g?void 0:g.includes("Consumer"))?-.5:(null===(j=s.sector)||void 0===j?void 0:j.includes("Technology"))?-.3:(null===(p=s.sector)||void 0===p?void 0:p.includes("Healthcare"))?-.1:-.25:"GDP Growth"===e?T="crypto"===s.type?.4:(null===(f=s.sector)||void 0===f?void 0:f.includes("Technology"))?.6:(null===(y=s.sector)||void 0===y?void 0:y.includes("Consumer"))?.5:(null===(v=s.sector)||void 0===v?void 0:v.includes("Financial"))?.7:(null===(b=s.sector)||void 0===b?void 0:b.includes("Bonds"))?.2:.4:"VIX"===e?T="crypto"===s.type?.5:(null===(w=s.sector)||void 0===w?void 0:w.includes("Technology"))?.4:(null===(k=s.sector)||void 0===k?void 0:k.includes("Bonds"))?-.3:(null===(S=s.sector)||void 0===S?void 0:S.includes("Precious Metals"))?-.2:.3:"DXY"===e&&(T="crypto"===s.type?-.4:(null===(C=s.sector)||void 0===C?void 0:C.includes("Precious Metals"))?-.6:(null===(A=s.sector)||void 0===A?void 0:A.includes("Energy"))?-.3:(null===(E=s.sector)||void 0===E?void 0:E.includes("Technology"))?-.2:.1);let I=T+(l(a(N(s),e))-.5)*.3;I=Math.max(-.9,Math.min(.9,I)),t[n][r]=I})}),{assets:s.map(e=>N(e)),economicFactors:e,correlations:t}},[s]),v=(0,l.useMemo)(()=>(function(e){let s=e.length,t=[],a=(e,s)=>(e+s).split("").reduce((e,s)=>e+s.charCodeAt(0),0),l=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)};for(let n=0;n<s;n++){t[n]=[];for(let r=0;r<s;r++)if(n===r)t[n][r]=1;else{let s=e[n],c=e[r],i=0,o=(s.sector===c.sector?.6:s.type===c.type?"crypto"===s.type?.5:.3:.1)+(l(a(eQ(s),eQ(c)))-.5)*.4;o=Math.max(-.8,Math.min(.9,o)),t[n][r]=o,t[r]=t[r]||[],t[r][n]=o}}return{assets:e.map(e=>eQ(e)),correlations:t}})(s),[s]),b=(0,l.useMemo)(()=>(function(e,s,t){let a=[],l=0,n=0;if(e.forEach((e,t)=>{var r,c,i;let o=s[eQ(e)]/100,d=0,m=o*o*(d="crypto"===e.type?.6+.4*Math.random():(null===(r=e.sector)||void 0===r?void 0:r.includes("Technology"))?.25+.2*Math.random():(null===(c=e.sector)||void 0===c?void 0:c.includes("Bonds"))?.03+.05*Math.random():(null===(i=e.sector)||void 0===i?void 0:i.includes("Precious Metals"))?.15+.15*Math.random():.18+.12*Math.random())*d;a.push({asset:eQ(e),name:e.name,volatility:100*d,contributionToPortfolio:100*m,allocation:100*o}),l+=o*d,n+=m}),t){let l=0;for(let n=0;n<e.length;n++)for(let r=0;r<e.length;r++)if(n!==r){let c=s[eQ(e[n])]/100,i=s[eQ(e[r])]/100;l+=c*i*(a[n].volatility/100)*(a[r].volatility/100)*t[n][r]}n+=l}let r=100*Math.sqrt(n),c=100*l-r;return{portfolioVolatility:r,assetVolatilities:a.sort((e,s)=>s.contributionToPortfolio-e.contributionToPortfolio),diversificationBenefit:c}})(s,t,v.correlations),[s,t,v]),w=(0,l.useMemo)(()=>(function(e,s,t,a){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4,n=[];return[.95,.99].forEach(r=>{let c=[];for(let t=0;t<l;t++){let t=0,l=function(e,s){let t=e.length,a=[];for(let s=0;s<t;s++){var l,n;let t=e[s],r=0,c=0;"crypto"===t.type?(r=.001,c=.06):(null===(l=t.sector)||void 0===l?void 0:l.includes("Technology"))?(r=8e-4,c=.025):(null===(n=t.sector)||void 0===n?void 0:n.includes("Bonds"))?(r=2e-4,c=.005):(r=5e-4,c=.02);let i=Math.sqrt(-2*Math.log(Math.random()))*Math.cos(2*Math.PI*Math.random());a.push(r+c*i)}let r=[...a];for(let e=0;e<t;e++)for(let t=0;t<e;t++){let l=s[e][t];r[e]+=.3*l*a[t]}return r}(e,a);e.forEach((e,a)=>{let n=s[eQ(e)]/100;t+=n*l[a]}),c.push(t)}c.sort((e,s)=>e-s);let i=Math.floor((1-r)*l),o=-c[i]*t,d=c.slice(0,i),m=d.length>0?-d.reduce((e,s)=>e+s,0)/d.length*t:0;n.push({confidence:r,var1Day:o,var1Week:o*Math.sqrt(7),var1Month:o*Math.sqrt(30),expectedShortfall:m,worstCase:-c[0]*t,bestCase:-c[c.length-1]*t})}),n})(s,t,c,v.correlations),[s,t,c,v]),k=(0,l.useMemo)(()=>(function(e,s,t){let a;let l=[{name:"2008 글로벌 금융위기",description:"주식 -37%, 채권 +5%, 금 +5%, 암호화폐 -80%",marketShock:-.2,sectorShocks:{Technology:-.45,Healthcare:-.25,Financial:-.55,Bonds:.05,"Precious Metals":.05,Crypto:-.8},result:0,probability:.02},{name:"2020 코로나19 팬데믹",description:"주식 -34%, 기술주 +15%, 암호화폐 -50%",marketShock:-.15,sectorShocks:{Technology:.15,Healthcare:-.1,Travel:-.7,Energy:-.5,Bonds:.08,Crypto:-.5},result:0,probability:.05},{name:"급격한 금리 인상",description:"금리 3%p 상승, 채권 -15%, 성장주 -25%",marketShock:-.1,sectorShocks:{Technology:-.25,"Real Estate":-.3,Bonds:-.15,"Precious Metals":-.1,Financial:.1},result:0,probability:.15},{name:"인플레이션 급등",description:"인플레이션 8%, 금 +20%, 채권 -10%",marketShock:-.05,sectorShocks:{"Precious Metals":.2,Energy:.15,Bonds:-.1,Technology:-.15,Consumer:-.08},result:0,probability:.1},{name:"암호화폐 붕괴",description:"주요 암호화폐 -90%, 연관 기술주 -20%",marketShock:-.02,sectorShocks:{Crypto:-.9,Technology:-.2,Financial:-.1},result:0,probability:.08}];l.forEach(a=>{let l=0;e.forEach(e=>{let n=s[eQ(e)]/100,r=a.marketShock;r="crypto"===e.type?a.sectorShocks.Crypto||a.marketShock:a.sectorShocks[e.sector]||a.marketShock,l+=n*t*r}),a.result=l}),l.reduce((e,s)=>e+Math.abs(s.result),0);let n=Math.max(0,100-Math.abs(Math.min(...l.map(e=>e.result)))/t*100);return a=n>80?"Low":n>60?"Medium":n>40?"High":"Very High",{scenarios:l.sort((e,s)=>e.result-s.result),portfolioResilience:n,riskRating:a}})(s,t,c),[s,t,c]),S=(0,l.useMemo)(()=>(function(e,s){let t;let a=e.reduce((e,t)=>{let a=s[eQ(t)]/100;return e+a*a},0);t=a<.15?"Low":a<.25?"Medium":"High";let l=[];return a>.25&&l.push("포트폴리오가 과도하게 집중되어 있습니다. 분산투자를 고려해보세요."),Math.max(...e.map(e=>s[eQ(e)]))>30&&l.push("단일 자산 비중이 30%를 초과합니다. 위험 분산을 위해 비중을 줄여보세요."),e.filter(e=>"crypto"===e.type).reduce((e,t)=>e+s[eQ(t)],0)>20&&l.push("암호화폐 비중이 높습니다. 변동성 위험을 고려해 비중을 조정해보세요."),{herfindahlIndex:a,effectiveAssets:1/a,concentrationRisk:t,recommendations:l}})(s,t),[s,t]);function C(e){switch(e){case"Low":return"text-green-600";case"Medium":return"text-yellow-600";case"High":return"text-orange-600";case"Very High":return"text-red-600";default:return"text-muted-foreground"}}let A=e=>"$".concat(Math.abs(e).toLocaleString()),E=e=>"".concat(e.toFixed(2),"%");return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:i,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"리스크 관리"})]}),(0,a.jsxs)(eS,{value:o,onValueChange:j,className:"w-full",children:[(0,a.jsxs)(eC,{className:"grid w-full grid-cols-4 mb-6",children:[(0,a.jsx)(eA,{value:"volatility",className:"text-xs",children:"변동성"}),(0,a.jsx)(eA,{value:"correlation",className:"text-xs",children:"상관관계"}),(0,a.jsx)(eA,{value:"var",className:"text-xs",children:"VaR"}),(0,a.jsx)(eA,{value:"stress",className:"text-xs",children:"스트레스"})]}),(0,a.jsxs)(eE,{value:"volatility",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eb.Z,{className:"h-4 w-4"}),"포트폴리오 변동성"]})}),(0,a.jsx)(h,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:E(b.portfolioVolatility)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"연간 변동성"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:E(b.diversificationBenefit)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"분산 효과"})]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"자산별 변동성 기여도"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eB.v,{data:b.assetVolatilities.slice(0,8),children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(eL.K,{dataKey:"asset",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),(0,a.jsx)(eR.B,{tick:{fontSize:10}}),(0,a.jsx)(em.u,{formatter:(e,s)=>["".concat(e.toFixed(2),"%"),"volatility"===s?"변동성":"기여도"]}),(0,a.jsx)(eK.$,{dataKey:"volatility",fill:"hsl(var(--chart-1))"})]})})})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"자산별 리스크 프로필"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-3",children:b.assetVolatilities.slice(0,6).map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.asset}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:E(e.volatility)}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["비중: ",E(e.allocation)]})]})]}),(0,a.jsx)(u,{value:e.volatility,className:"h-2"})]},s))})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"분산투자 효과"})}),(0,a.jsxs)(h,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:S.effectiveAssets.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"유효 자산 수"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold ".concat(C(S.concentrationRisk)),children:S.concentrationRisk}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"집중도 위험"})]})]}),S.recommendations.length>0&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"권장사항"}),(0,a.jsx)("ul",{className:"text-xs text-yellow-700 mt-1 space-y-1",children:S.recommendations.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]})]})})]})]})]}),(0,a.jsxs)(eE,{value:"correlation",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"현재 거시경제 지표 (2025.06.15)"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:f.map((e,s)=>(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:e.name}),0!==e.change&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat("positive"===e.status?"text-green-600":"negative"===e.status?"text-red-600":"text-muted-foreground"),children:["positive"===e.status?(0,a.jsx)(r.Z,{className:"h-3 w-3"}):"negative"===e.status?(0,a.jsx)(eg.Z,{className:"h-3 w-3"}):null,(0,a.jsxs)("span",{className:"text-xs",children:[e.change>0?"+":"",e.change,e.unit]})]})]}),(0,a.jsxs)("div",{className:"text-lg font-bold",children:[e.value.toFixed((e.unit,1)),e.unit]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.description})]},s))})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"거시경제 지표와 자산 간 상관관계"})}),(0,a.jsxs)(h,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-16"}),(0,a.jsx)("div",{className:"flex-1 flex gap-1",children:y.economicFactors.map((e,s)=>(0,a.jsx)("div",{className:"flex-1 text-xs text-center font-medium p-1",children:e},e))})]}),y.assets.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-16 text-xs font-medium truncate",children:e}),(0,a.jsx)("div",{className:"flex-1 flex gap-1",children:y.economicFactors.map((t,l)=>{var n;return(0,a.jsx)("div",{className:"flex-1 h-8 rounded text-xs flex items-center justify-center text-white font-medium",style:{backgroundColor:(n=y.correlations[s][l])>.5?"#dc2626":n>.2?"#ea580c":n>-.2?"#65a30d":n>-.5?"#2563eb":"#7c3aed",opacity:.9},title:"".concat(e," vs ").concat(t,": ").concat(y.correlations[s][l].toFixed(2)),children:y.correlations[s][l].toFixed(2)},"".concat(e,"-").concat(t))})})]},e))]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-2",children:"상관관계 해석"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#dc2626"}}),(0,a.jsx)("span",{children:"강한 양의 상관관계 (> 0.5)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ea580c"}}),(0,a.jsx)("span",{children:"중간 양의 상관관계 (0.2-0.5)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#65a30d"}}),(0,a.jsx)("span",{children:"약한 상관관계 (-0.2-0.2)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#2563eb"}}),(0,a.jsx)("span",{children:"중간 음의 상관관계 (-0.5--0.2)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#7c3aed"}}),(0,a.jsx)("span",{children:"강한 음의 상관관계 (< -0.5)"})]})]})]})]})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"주요 상관관계 분석"})}),(0,a.jsx)(h,{className:"space-y-3",children:(0,a.jsx)("div",{className:"space-y-2",children:y.assets.map((e,s)=>y.economicFactors.map((t,l)=>{let n=y.correlations[s][l];return Math.abs(n)>.4?(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:e})," ↔ ",(0,a.jsx)("span",{className:"font-medium",children:t})]}),(0,a.jsxs)(g,{variant:n>0?"destructive":"secondary",children:[n>0?"+":"",n.toFixed(2)]})]},"".concat(e,"-").concat(t)):null}))})})]})]}),(0,a.jsxs)(eE,{value:"var",className:"space-y-4",children:[w.map((e,s)=>(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eg.Z,{className:"h-4 w-4"}),"VaR ",(100*e.confidence).toFixed(0),"% 신뢰구간"]})}),(0,a.jsxs)(h,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:A(e.var1Day)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"1일 VaR"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:A(e.var1Week)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"1주 VaR"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:A(e.var1Month)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"1개월 VaR"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-700",children:A(e.expectedShortfall)}),(0,a.jsx)("div",{className:"text-xs text-red-600",children:"Expected Shortfall"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-700",children:A(e.worstCase)}),(0,a.jsx)("div",{className:"text-xs text-red-600",children:"최악의 경우"})]})]})]})]},s)),(0,a.jsx)(d,{className:"border-blue-200 bg-blue-50",children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"VaR (Value at Risk) 해석"}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"95% 신뢰구간의 1일 VaR가 $1,000이라면, 정상적인 시장 상황에서 하루 동안 $1,000 이상의 손실이 발생할 확률이 5%라는 의미입니다. Expected Shortfall은 VaR를 초과하는 손실의 평균값입니다."})]})]})})})]}),(0,a.jsxs)(eE,{value:"stress",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4"}),"포트폴리오 회복력"]})}),(0,a.jsxs)(h,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[k.portfolioResilience.toFixed(0),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"회복력 점수"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(C(k.riskRating)),children:k.riskRating}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"리스크 등급"})]})]}),(0,a.jsx)(u,{value:k.portfolioResilience,className:"h-3"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:k.scenarios.map((e,s)=>(0,a.jsx)(d,{className:"border-l-4",style:{borderLeftColor:e.result>-(.1*c)?"#22c55e":e.result>-(.2*c)?"#eab308":e.result>-(.3*c)?"#f97316":"#ef4444"},children:(0,a.jsxs)(h,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:A(e.result)}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(e.result/c*100).toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(g,{variant:"outline",className:"text-xs",children:["발생 확률: ",(100*e.probability).toFixed(0),"%"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.result>-(.1*c)?(0,a.jsx)(eH.Z,{className:"h-3 w-3 text-green-600"}):e.result>-(.2*c)?(0,a.jsx)(eP.Z,{className:"h-3 w-3 text-yellow-600"}):(0,a.jsx)(eg.Z,{className:"h-3 w-3 text-red-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.result>-(.1*c)?"낮은 위험":e.result>-(.2*c)?"중간 위험":"높은 위험"})]})]})]})},s))}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"시나리오별 손실 분포"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eB.v,{data:k.scenarios,children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(eL.K,{dataKey:"name",tick:{fontSize:9},angle:-45,textAnchor:"end",height:80}),(0,a.jsx)(eR.B,{tick:{fontSize:10},tickFormatter:e=>"$".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(em.u,{formatter:e=>[A(e),"예상 손실"]}),(0,a.jsx)(eK.$,{dataKey:"result",children:k.scenarios.map((e,s)=>(0,a.jsx)(ed.b,{fill:e.result>-(.1*c)?"#22c55e":e.result>-(.2*c)?"#eab308":e.result>-(.3*c)?"#f97316":"#ef4444"},"cell-".concat(s)))})]})})})})]})]})]})]})})})})})}var eq=t(428);function eX(e){let{investorProfile:s,selectedAssets:t,allocations:c,investmentSettings:i,onBack:o}=e,[u,j]=(0,l.useState)("3y"),[N,f]=(0,l.useState)([]),[y,v]=(0,l.useState)(null),[b,w]=(0,l.useState)(!1),S=e=>e.symbol||e.ticker||e.id||"unknown",C={"1y":365,"3y":1095,"5y":1825,"10y":3650},E={monthly:30,quarterly:90,semiannual:180,annual:365},T=async e=>{w(!0),j(e);let s=C[e],a=E[i.rebalancingPeriod]||90;try{let l=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)},n=(()=>{let e=t.map(e=>S(e)).sort().join(""),s=Object.keys(c).sort().map(e=>c[e]).join(""),a="".concat(i.initialInvestment).concat(i.rebalancingAmount).concat(i.rebalancingPeriod);return(e+s+a).split("").reduce((e,s)=>(e=(e<<5)-e+s.charCodeAt(0))&e,0)})(),r=[],o=i.initialInvestment,d=i.initialInvestment,m=o,x=o,h=0,u=0,g=e=>{var s,t,a;let n=S(e).split("").reduce((e,s)=>e+s.charCodeAt(0),0),r=l(n);return"crypto"===e.type?.25+(r-.5)*.6:(null===(s=e.sector)||void 0===s?void 0:s.includes("Technology"))?.12+(r-.5)*.3:(null===(t=e.sector)||void 0===t?void 0:t.includes("Bonds"))?.03+(r-.5)*.06:(null===(a=e.sector)||void 0===a?void 0:a.includes("Precious Metals"))?.06+(r-.5)*.2:.08+(r-.5)*.2},j=0,p=0;t.forEach(e=>{var s;let t=(c[S(e)]||0)/100,a=g(e),l="crypto"===e.type?.6:(null===(s=e.sector)||void 0===s?void 0:s.includes("Bonds"))?.05:.2;j+=t*a,p+=t*l});for(let t=s;t>=0;t--){let c=new Date;c.setDate(c.getDate()-t);let g=t%a==0&&t!==s&&0!==t;g&&(o+=i.rebalancingAmount,d+=i.rebalancingAmount);let N=n+t,f=.002*Math.sin(t/365*2*Math.PI),y=l(N)-.5,v=j/365+y*p*.05+f,b=g?o-i.rebalancingAmount:o,w=b*v;o=b+w+(g?i.rebalancingAmount:0),m=Math.max(m,o),x=Math.min(x,o);let k=(m-o)/m*100,S=(o-d)/i.initialInvestment*100;h=Math.max(h,k),u=Math.max(u,S),r.push({date:0===t?"현재":c.toLocaleDateString("ko-KR",{year:"10y"===e?"2-digit":void 0,month:"short",day:"1y"===e?"numeric":void 0}),value:Math.round(o),change:100*v,isRebalancing:g,totalInvested:d})}let N=(o-d)/i.initialInvestment*100,y=(Math.pow(o/d,1/(s/365))-1)*100,b=r.map(e=>e.change/100),w=b.reduce((e,s)=>e+s,0)/b.length,k=Math.sqrt(b.reduce((e,s)=>e+Math.pow(s-w,2),0)/b.length)*Math.sqrt(252)*100,C=t.filter(e=>"crypto"===e.type&&["DOGE","SOL","AVAX","MATIC"].includes(S(e))),A="";"10y"===e&&C.length>0?A="".concat(C.map(e=>S(e)).join(", ")," 등 일부 자산은 2018년 이후 데이터만 사용되었습니다."):"5y"===e&&C.length>0&&(A="".concat(C.map(e=>S(e)).join(", ")," 등 일부 자산은 2020년 이후 데이터만 사용되었습니다."));let E={totalReturn:N,annualizedReturn:y,maxDrawdown:h,maxGain:u,volatility:k,sharpeRatio:(y-2.5)/k,dataAvailabilityWarning:A};f(r),v(E)}catch(e){console.error("Backtest error:",e)}finally{w(!1)}};return(0,l.useEffect)(()=>{t.length>0&&T(u)},[t,c,i]),(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto pb-4",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:o,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"포트폴리오 백테스트"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(g,{className:"".concat(s.color," text-xs"),children:s.title}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[t.length,"개 자산 포트폴리오"]})]})]})]}),(0,a.jsxs)(d,{className:"mb-4",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"백테스트 기간 선택"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{value:"1y",label:"1년"},{value:"3y",label:"3년"},{value:"5y",label:"5년"},{value:"10y",label:"10년"}].map(e=>(0,a.jsx)(n,{variant:u===e.value?"primary":"outline",size:"sm",onClick:()=>T(e.value),disabled:b,className:"text-xs h-10",children:e.label},e.value))})})]}),b&&(0,a.jsx)(d,{className:"mb-4",children:(0,a.jsx)(h,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(A.Z,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-primary"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["1y"===u?"1년":"3y"===u?"3년":"5y"===u?"5년":"10년"," 백테스트 실행 중..."]})]})})}),N.length>0&&!b&&(0,a.jsxs)(d,{className:"mb-4",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base",children:["1y"===u?"1년":"3y"===u?"3년":"5y"===u?"5년":"10년"," 백테스트 결과"]})}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eF.w,{data:N,children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(eL.K,{dataKey:"date",tick:{fontSize:10},stroke:"#6b7280"}),(0,a.jsx)(eR.B,{tick:{fontSize:10},stroke:"#6b7280",tickFormatter:e=>"$".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(em.u,{content:(0,a.jsx)(e=>{let{active:s,payload:t,label:l}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:l}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.value.toLocaleString()]}),e.isRebalancing&&(0,a.jsxs)("p",{className:"text-xs text-blue-600 font-medium",children:["\uD83D\uDCC8 리밸런싱: +$",i.rebalancingAmount.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm ".concat(e.change>=0?"text-green-600":"text-red-600"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]})]})}return null},{})}),(0,a.jsx)(eO.x,{type:"monotone",dataKey:"value",stroke:"#10B981",strokeWidth:3,dot:!1}),N.filter(e=>e.isRebalancing).map((e,s)=>(0,a.jsx)(eq.q,{x:e.date,y:e.value,r:4,fill:"#3B82F6",stroke:"#ffffff",strokeWidth:2},s))]})})}),(0,a.jsx)("div",{className:"mt-3 text-center",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["\uD83D\uDCAB 파란색 점: 리밸런싱 시점 (+$",i.rebalancingAmount.toLocaleString(),")"]})})]})]}),y&&!b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,a.jsx)(d,{children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"총 수익률"})]}),(0,a.jsxs)("p",{className:"text-xl font-bold ".concat(y.totalReturn>=0?"text-green-600":"text-red-600"),children:[y.totalReturn>=0?"+":"",y.totalReturn.toFixed(1),"%"]})]})})}),(0,a.jsx)(d,{children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"연평균 수익률"})]}),(0,a.jsxs)("p",{className:"text-xl font-bold ".concat(y.annualizedReturn>=0?"text-green-600":"text-red-600"),children:[y.annualizedReturn>=0?"+":"",y.annualizedReturn.toFixed(1),"%"]})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,a.jsx)(d,{children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"최대 낙폭"})]}),(0,a.jsxs)("p",{className:"text-xl font-bold text-red-600",children:["-",y.maxDrawdown.toFixed(1),"%"]})]})})}),(0,a.jsx)(d,{children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 text-purple-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"샤프 비율"})]}),(0,a.jsx)("p",{className:"text-xl font-bold text-purple-600",children:y.sharpeRatio.toFixed(2)})]})})})]}),y.dataAvailabilityWarning&&(0,a.jsx)(d,{className:"mb-4 border-orange-200 bg-orange-50",children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-orange-600"}),(0,a.jsx)("span",{className:"text-xs text-orange-700",children:y.dataAvailabilityWarning})]})})}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"백테스트 정보"})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"초기 투자금액:"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",i.initialInvestment.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"리밸런싱 주기:"}),(0,a.jsx)("span",{className:"font-medium",children:"monthly"===i.rebalancingPeriod?"월간":"quarterly"===i.rebalancingPeriod?"분기":"semiannual"===i.rebalancingPeriod?"반기":"연간"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"리밸런싱 투자금:"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",i.rebalancingAmount.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"변동성:"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.volatility.toFixed(1),"%"]})]})]})})]})]})]})})})})})}function eW(e){let{investorProfile:s,selectedAssets:t,allocations:c,investmentSettings:i,onBack:o}=e,[u,j]=(0,l.useState)("6m"),[N,f]=(0,l.useState)([]),[y,v]=(0,l.useState)(null),[b,w]=(0,l.useState)(!1),k=e=>e.symbol||e.ticker||e.id||"unknown",S=()=>(t.map(e=>k(e)).sort().join("")+Object.keys(c).sort().map(e=>c[e]).join("")+"".concat(i.initialInvestment).concat(i.rebalancingAmount).concat(i.rebalancingPeriod)).split("").reduce((e,s)=>(e=(e<<5)-e+s.charCodeAt(0))&e,0),C=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)},T=async e=>{w(!0),j(e);let s="6m"===e?180:365;try{let e=S(),a={interestRate:4.5+(C(e+1)-.5)*2,unemploymentRate:3.8+(C(e+2)-.5)*1,inflation:2.1+(C(e+3)-.5)*1.5,gdpGrowth:2.8+(C(e+4)-.5)*2},l=0,n=0;t.forEach(e=>{var s,t;let a=(c[k(e)]||0)/100,r=0,i=0;"crypto"===e.type?(r=.25,i=.6):(null===(s=e.sector)||void 0===s?void 0:s.includes("Technology"))?(r=.15,i=.25):(null===(t=e.sector)||void 0===t?void 0:t.includes("Bonds"))?(r=.04,i=.05):(r=.1,i=.2),l+=a*r,n+=a*i});let r=(5-a.interestRate)*.02,o=(4-a.unemploymentRate)*.015,d=(2.5-a.inflation)*.01,m=(a.gdpGrowth-2.5)*.025,x=l+r+o+d+m,h=[],u=i.initialInvestment;for(let s=1095;s>=0;s--){let t=new Date;t.setDate(t.getDate()-s);let a=C(e+s+1e3),r=.001*Math.sin(s/365*2*Math.PI),c=l/365+(a-.5)*n*.8+r;u*=1+c,h.push({date:0===s?"현재":t.toLocaleDateString("ko-KR",{year:s>365?"2-digit":void 0,month:"short",day:"numeric"}),value:u,change:100*c,isPrediction:!1})}let g=h.length-365-1,j=h.slice(g,-1),p=j[0].value,N=0,y=0;for(let s=1;s<j.length;s++){let t=1-s/365*.1,a=C(e+s+2e3),l=x/365+(a-.5)*.015*t;p*=1+l;let n=j[s].value,r=Math.abs((p-n)/n);N+=r,y++}let b=N/y,w=Math.max(65,95-100*b),A=h[h.length-1].value,E=A,T=1-(Math.abs(a.interestRate-4.5)/10+Math.abs(a.unemploymentRate-3.8)/10+Math.abs(a.inflation-2.1)/10),I=Math.min(95,w*T);for(let t=1;t<=s;t++){let a=new Date;a.setDate(a.getDate()+t);let l=C(e+t+3e3),n=1-t/s*.15,r=x/365+(l-.5)*.02*(1-I/100)*n;E*=1+r;let c=t/s*.4,i=Math.max(45,I-100*c);h.push({date:a.toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),value:E,change:100*r,isPrediction:!0,confidence:i})}let D=[],P=h.slice(0,1096),F=Math.max(1,Math.floor(P.length/150));for(let e=0;e<P.length;e+=F)D.push(P[e]);let M=h.slice(1096),L=Math.max(1,Math.floor(M.length/50));for(let e=0;e<M.length;e+=L)D.push(M[e]);let R=h[1095],O=h[h.length-1];D.includes(R)||D.push(R),D.includes(O)||D.push(O),D.sort((e,s)=>{if("현재"===e.date)return 1095;if("현재"===s.date)return -1095;let t=!e.isPrediction,a=!s.isPrediction;return t&&a?0:t&&!a?-1:!t&&a?1:0});let B=(E-A)/A*100;f(D),v({predictedReturn:B,confidence:I,modelAccuracy:w,economicFactors:a})}catch(e){console.error("Forecast error:",e)}finally{w(!1)}};return(0,l.useEffect)(()=>{t.length>0&&T(u)},[t,c,i]),(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto pb-4",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:o,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"딥러닝 미래예측"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(g,{className:"".concat(s.color," text-xs"),children:s.title}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"\uD83E\uDDE0 LSTM 모델 기반"})]})]})]}),(0,a.jsxs)(d,{className:"mb-4",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"예측 기간 선택"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"6m",label:"6개월 예측",desc:"단기 예측"},{value:"1y",label:"1년 예측",desc:"중기 예측"}].map(e=>(0,a.jsxs)(n,{variant:u===e.value?"info":"outline",onClick:()=>T(e.value),disabled:b,className:"h-16 flex flex-col items-center justify-center gap-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,a.jsx)("span",{className:"text-xs opacity-75",children:e.desc})]},e.value))})})]}),b&&(0,a.jsx)(d,{className:"mb-4",children:(0,a.jsx)(h,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(A.Z,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-purple-600"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"\uD83E\uDDE0 딥러닝 모델 분석 중..."}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["3년 학습데이터로 ","6m"===u?"6개월":"1년"," 미래 예측 중"]})]})})}),N.length>0&&!b&&(0,a.jsxs)(d,{className:"mb-4",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base",children:["딥러닝 ","6m"===u?"6개월":"1년"," 예측 결과"]})}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eF.w,{data:N,children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(eL.K,{dataKey:"date",tick:{fontSize:10},stroke:"#6b7280"}),(0,a.jsx)(eR.B,{tick:{fontSize:10},stroke:"#6b7280",tickFormatter:e=>"$".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(em.u,{content:(0,a.jsx)(e=>{let{active:s,payload:t,label:l}=e;if(s&&t&&t.length){var n;let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:l}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.value.toLocaleString()]}),e.isPrediction&&(0,a.jsxs)("p",{className:"text-xs text-blue-600 font-medium",children:["\uD83C\uDFAF 예측 신뢰도: ",null===(n=e.confidence)||void 0===n?void 0:n.toFixed(0),"%"]}),(0,a.jsxs)("p",{className:"text-sm ".concat(e.change>=0?"text-green-600":"text-red-600"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]}),e.isPrediction&&(0,a.jsx)("p",{className:"text-xs text-purple-600",children:"\uD83E\uDD16 AI 예측"})]})}return null},{})}),(0,a.jsx)(eO.x,{type:"monotone",dataKey:"value",stroke:"#10B981",strokeWidth:3,dot:!1,connectNulls:!1,data:N.filter(e=>!e.isPrediction)}),(0,a.jsx)(eO.x,{type:"monotone",dataKey:"value",stroke:"#8B5CF6",strokeWidth:3,strokeDasharray:"8 8",dot:!1,connectNulls:!1,data:N.filter(e=>e.isPrediction)})]})})}),(0,a.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-4 text-center text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-0.5 bg-green-500"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"학습 데이터 (3년)"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-0.5 bg-purple-500",style:{backgroundImage:"repeating-linear-gradient(to right, #8B5CF6 0, #8B5CF6 4px, transparent 4px, transparent 8px)"}}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"AI 예측"})]})]})]})]}),y&&!b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,a.jsx)(d,{children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 text-purple-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"예측 수익률"})]}),(0,a.jsxs)("p",{className:"text-xl font-bold ".concat(y.predictedReturn>=0?"text-green-600":"text-red-600"),children:[y.predictedReturn>=0?"+":"",y.predictedReturn.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["6m"===u?"6개월":"1년"," 기간"]})]})})}),(0,a.jsx)(d,{children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"예측 신뢰도"})]}),(0,a.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:[y.confidence.toFixed(0),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:y.confidence>=80?"높음":y.confidence>=60?"보통":"낮음"})]})})})]}),(0,a.jsxs)(d,{className:"mb-4",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(ey.Z,{className:"h-4 w-4 text-purple-600"}),"모델 성능 지표"]})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"모델 정확도:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:[y.modelAccuracy.toFixed(1),"%"]}),(0,a.jsx)(g,{variant:y.modelAccuracy>=80?"default":"secondary",className:"text-xs",children:y.modelAccuracy>=80?"우수":"양호"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"학습 데이터:"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"3년 (1,095일)"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"검증 기간:"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"1년 (365일)"})]})]})})]}),(0,a.jsxs)(d,{className:"mb-4",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eH.Z,{className:"h-4 w-4 text-orange-600"}),"경제 지표 반영"]})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"기준금리:"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.economicFactors.interestRate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"실업률:"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.economicFactors.unemploymentRate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"인플레이션:"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.economicFactors.inflation.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"GDP 성장률:"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.economicFactors.gdpGrowth.toFixed(1),"%"]})]})]})})]}),(0,a.jsx)(d,{className:"border-orange-200 bg-orange-50",children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 text-orange-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-xs text-orange-700",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"예측 한계 안내"}),(0,a.jsx)("p",{children:"본 예측은 딥러닝 모델 기반 시뮬레이션입니다. 실제 시장 상황과 다를 수 있으며, 투자 결정의 참고용으로만 활용하시기 바랍니다."})]})]})})})]})]})})})})})}var e$=t(39),eJ=t(8870),e0=t(88);function e1(e){let{onBack:s}=e,[t,r]=(0,l.useState)("courses"),[c,i]=(0,l.useState)(""),[o,j]=(0,l.useState)(null),N=[{id:"1",title:"포트폴리오 이론의 기초",description:"해리 마코위츠의 현대 포트폴리오 이론부터 효율적 투자선까지 체계적으로 학습합니다.",duration:"2시간 30분",difficulty:"beginner",progress:75,rating:4.8,lessons:8,category:"theory"},{id:"2",title:"자산 배분 전략 마스터하기",description:"전략적 자산 배분과 전술적 자산 배분의 차이점과 실무 적용법을 배웁니다.",duration:"3시간 15분",difficulty:"intermediate",progress:45,rating:4.9,lessons:12,category:"strategy"},{id:"3",title:"시장 위기 상황별 대응 전략",description:"2008 금융위기, 2020 팬데믹 등 과거 사례를 통해 위기 대응법을 학습합니다.",duration:"2시간 45분",difficulty:"advanced",progress:0,rating:4.7,lessons:10,category:"crisis"},{id:"4",title:"리스크 관리와 VaR 이해하기",description:"Value at Risk, 스트레스 테스트 등 리스크 관리 도구들의 실무 활용법을 배웁니다.",duration:"4시간 20분",difficulty:"advanced",progress:20,rating:4.6,lessons:15,category:"risk"},{id:"5",title:"ESG 투자와 지속가능 포트폴리오",description:"환경, 사회, 지배구조를 고려한 ESG 투자 전략과 포트폴리오 구성법을 학습합니다.",duration:"1시간 50분",difficulty:"intermediate",progress:0,rating:4.5,lessons:7,category:"esg"},{id:"6",title:"행동재무학과 투자 심리",description:"투자자의 인지편향과 심리적 함정들을 이해하고 극복하는 방법을 배웁니다.",duration:"2시간 10분",difficulty:"beginner",progress:0,rating:4.7,lessons:9,category:"psychology"}].filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase())),f=[{term:"알파 (Alpha)",definition:"시장 대비 초과 수익률을 나타내는 지표. 포트폴리오 매니저의 실력을 평가하는 중요한 척도입니다.",category:"성과지표",example:"알파가 2%라면 시장 대비 연간 2% 초과 수익을 얻었다는 의미입니다."},{term:"베타 (Beta)",definition:"시장 전체의 움직임에 대한 개별 자산의 민감도를 나타내는 지표입니다.",category:"위험지표",example:"베타가 1.2라면 시장이 10% 상승할 때 해당 자산은 12% 상승할 가능성이 높습니다."},{term:"샤프 비율 (Sharpe Ratio)",definition:"위험 조정 수익률을 측정하는 지표로, 단위 위험당 얻는 초과 수익률을 나타냅니다.",category:"성과지표",example:"샤프 비율이 높을수록 같은 위험 대비 더 높은 수익을 얻었다는 의미입니다."},{term:"VaR (Value at Risk)",definition:"특정 신뢰구간과 기간 하에서 예상되는 최대 손실 금액을 나타내는 위험 측정 도구입니다.",category:"위험관리",example:"95% 신뢰구간의 1일 VaR이 100만원이라면, 20일 중 1일은 100만원 이상 손실이 발생할 수 있습니다."},{term:"상관관계 (Correlation)",definition:"두 자산 가격의 움직임이 얼마나 비슷한지를 나타내는 지표로, -1부터 1까지의 값을 가집니다.",category:"포트폴리오",example:"상관관계가 0.8이면 강한 양의 상관관계로, 한 자산이 오르면 다른 자산도 오를 가능성이 높습니다."},{term:"분산투자 (Diversification)",definition:"위험을 줄이기 위해 여러 자산에 투자를 분산하는 투자 전략입니다.",category:"투자전략",example:"주식, 채권, 부동산 등 서로 다른 자산군에 투자하여 리스크를 분산시킵니다."},{term:"리밸런싱 (Rebalancing)",definition:"목표 자산 배분 비율을 유지하기 위해 주기적으로 포트폴리오를 조정하는 과정입니다.",category:"포트폴리오",example:"주식 60%, 채권 40% 목표 비율이 70%, 30%로 변했을 때 원래 비율로 조정합니다."},{term:"ESG 투자",definition:"환경(Environmental), 사회(Social), 지배구조(Governance) 요소를 고려한 투자 방식입니다.",category:"투자전략",example:"친환경 기업, 사회적 책임을 다하는 기업에 우선적으로 투자합니다."},{term:"최대낙폭 (Maximum Drawdown)",definition:"특정 기간 동안 포트폴리오 가치가 최고점에서 최저점까지 하락한 최대 폭을 나타냅니다.",category:"위험지표",example:"포트폴리오 가치가 1000만원에서 800만원까지 떨어졌다면 최대낙폭은 20%입니다."},{term:"변동성 (Volatility)",definition:"자산 가격의 변동 정도를 나타내는 지표로, 높을수록 위험이 크다고 볼 수 있습니다.",category:"위험지표",example:"연간 변동성이 20%인 자산은 1년 후 가격이 \xb120% 범위 내에서 움직일 확률이 68%입니다."}].filter(e=>e.term.toLowerCase().includes(c.toLowerCase())||e.definition.toLowerCase().includes(c.toLowerCase())),y=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=e=>{switch(e){case"beginner":return"초급";case"intermediate":return"중급";case"advanced":return"고급";default:return"일반"}};return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto pb-4",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"투자 교육 센터"})]}),(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)(T.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",placeholder:"강의나 용어를 검색하세요...",value:c,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background"})]}),(0,a.jsxs)(eS,{value:t,onValueChange:r,className:"w-full",children:[(0,a.jsxs)(eC,{className:"grid w-full grid-cols-4 mb-6",children:[(0,a.jsx)(eA,{value:"courses",className:"text-xs",children:"강의"}),(0,a.jsx)(eA,{value:"strategy",className:"text-xs",children:"전략"}),(0,a.jsx)(eA,{value:"glossary",className:"text-xs",children:"용어사전"}),(0,a.jsx)(eA,{value:"progress",className:"text-xs",children:"진도"})]}),(0,a.jsx)(eE,{value:"courses",className:"space-y-4",children:o?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:()=>j(null),className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"강의로 돌아가기"})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(x,{className:"text-base mb-2",children:o.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:o.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(e$.Z,{className:"h-3 w-3"}),o.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eJ.Z,{className:"h-3 w-3"}),o.lessons,"개 강의"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(e0.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.rating]})]})]}),(0,a.jsx)(g,{className:y(o.difficulty),children:v(o.difficulty)})]})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"진행률"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[o.progress,"%"]})]}),(0,a.jsx)(u,{value:o.progress,className:"h-2"})]}),(0,a.jsxs)(n,{className:"w-full",variant:"primary",children:[(0,a.jsx)(eJ.Z,{className:"h-4 w-4 mr-2"}),o.progress>0?"학습 계속하기":"학습 시작하기"]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-base",children:"강의 목차"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-3",children:Array.from({length:o.lessons},(e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs ".concat(s<Math.floor(o.lessons*o.progress/100)?"bg-green-100 text-green-800":"bg-muted text-muted-foreground"),children:s+1}),(0,a.jsxs)("span",{className:"text-sm",children:["theory"===o.category&&0===s&&"포트폴리오 이론의 역사","theory"===o.category&&1===s&&"위험과 수익률의 관계","theory"===o.category&&2===s&&"효율적 투자선 이해하기","strategy"===o.category&&0===s&&"전략적 vs 전술적 자산배분","strategy"===o.category&&1===s&&"글로벌 자산 배분","crisis"===o.category&&0===s&&"2008 금융위기 분석",!["theory","strategy","crisis"].includes(o.category)&&"강의 ".concat(s+1)]})]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.floor(20*Math.random())+10,"분"]})]},s))})})]})]}):(0,a.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,a.jsxs)(h,{className:"pt-4",onClick:()=>j(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(e$.Z,{className:"h-3 w-3"}),e.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eJ.Z,{className:"h-3 w-3"}),e.lessons,"개 강의"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(e0.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),e.rating]})]})]}),(0,a.jsx)(g,{className:y(e.difficulty),children:v(e.difficulty)})]}),e.progress>0&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"진행률"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.progress,"%"]})]}),(0,a.jsx)(u,{value:e.progress,className:"h-1"})]})]})},e.id))})}),(0,a.jsxs)(eE,{value:"strategy",className:"space-y-4",children:[(0,a.jsx)(d,{children:(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{className:"text-base",children:"시장 상황별 대응 전략"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"다양한 시장 환경에서의 투자 전략과 대응 방법을 학습하세요."})]})}),[{situation:"강세장 (Bull Market)",characteristics:["지속적인 상승 추세","경제 성장","투자 심리 긍정적"],strategy:["성장주 비중 확대","위험 자산 비중 증가","수익 실현 타이밍 고려"],warning:"과도한 낙관론에 주의하고 리스크 관리를 소홀히 하지 않도록 주의",color:"bg-green-50 border-green-200"},{situation:"약세장 (Bear Market)",characteristics:["지속적인 하락 추세","경제 침체","투자 심리 부정적"],strategy:["안전 자산 비중 확대","현금 보유 비율 증가","분할 매수 전략 고려"],warning:"패닉 매도를 피하고 장기적 관점을 유지하는 것이 중요",color:"bg-red-50 border-red-200"},{situation:"횡보장 (Sideways Market)",characteristics:["특정 범위 내 등락","방향성 부재","변동성 확대"],strategy:["섹터 순환 투자","배당주 비중 확대","옵션 전략 활용"],warning:"거래 비용 증가에 주의하고 인내심을 갖고 기다리는 것이 필요",color:"bg-yellow-50 border-yellow-200"},{situation:"고변동성 시장",characteristics:["급격한 가격 변동","불확실성 증가","뉴스에 민감한 반응"],strategy:["포트폴리오 리밸런싱 빈도 증가","VaR 모니터링 강화","헤지 전략 고려"],warning:"감정적 판단을 피하고 사전에 정한 투자 원칙을 고수하는 것이 중요",color:"bg-purple-50 border-purple-200"}].map((e,s)=>(0,a.jsxs)(d,{className:"border-l-4 ".concat(e.color),children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:e.situation})}),(0,a.jsxs)(h,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 특징"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.characteristics.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"추천 전략"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.strategy.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsx)("div",{className:"p-3 bg-muted/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"주의사항"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.warning})]})]})})]})]},s))]}),(0,a.jsx)(eE,{value:"glossary",className:"space-y-4",children:(0,a.jsx)("div",{className:"space-y-3",children:f.map((e,s)=>(0,a.jsx)(d,{children:(0,a.jsxs)(h,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.term}),(0,a.jsx)(g,{variant:"outline",className:"text-xs",children:e.category})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.definition}),e.example&&(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded text-xs",children:[(0,a.jsx)("span",{className:"font-medium",children:"예시: "}),e.example]})]})},s))})}),(0,a.jsxs)(eE,{value:"progress",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eT.Z,{className:"h-4 w-4"}),"나의 학습 현황"]})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:"6"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"완료한 강의"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"75%"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"평균 이해도"})]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-base",children:"카테고리별 진행률"})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eB.v,{data:[{category:"포트폴리오 이론",completed:3,total:5},{category:"리스크 관리",completed:2,total:4},{category:"자산 배분",completed:1,total:3},{category:"행동재무학",completed:0,total:2}],children:[(0,a.jsx)(eM.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(eL.K,{dataKey:"category",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),(0,a.jsx)(eR.B,{tick:{fontSize:10}}),(0,a.jsx)(em.u,{formatter:(e,s)=>[e,"completed"===s?"완료":"전체"]}),(0,a.jsx)(eK.$,{dataKey:"completed",fill:"hsl(var(--chart-1))"}),(0,a.jsx)(eK.$,{dataKey:"total",fill:"hsl(var(--muted))"})]})})})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-base",children:"최근 학습 활동"})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"포트폴리오 이론의 기초 - 7강 완료"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"2시간 전"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"자산 배분 전략 - 5강 학습 중"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"어제"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"리스크 관리 - 퀴즈 80점"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"3일 전"})]})]})]})})]})]})]})]})})})})})}var e2=t(8030);function e3(e){let{onBack:s,investorProfile:t}=e,[r,c]=(0,l.useState)("ai-optimization"),[i,o]=(0,l.useState)(null),u=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},j=e=>{switch(e){case"high":return"높음";case"medium":return"보통";case"low":return"낮음";default:return"일반"}},N=["#3B82F6","#EF4444","#10B981","#F59E0B"];return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"개인화된 추천"})]}),t&&(0,a.jsx)(d,{className:"mb-6",children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(t.color," flex items-center justify-center"),children:(0,a.jsx)(ep.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:t.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t.description})]})]})})}),(0,a.jsxs)(eS,{value:r,onValueChange:c,className:"w-full",children:[(0,a.jsxs)(eC,{className:"grid w-full grid-cols-3 mb-6",children:[(0,a.jsx)(eA,{value:"ai-optimization",className:"text-xs",children:"AI 최적화"}),(0,a.jsx)(eA,{value:"risk-strategy",className:"text-xs",children:"성향별 전략"}),(0,a.jsx)(eA,{value:"lifecycle",className:"text-xs",children:"생애주기"})]}),(0,a.jsxs)(eE,{value:"ai-optimization",className:"space-y-4",children:[(0,a.jsx)(d,{children:(0,a.jsxs)(m,{children:[(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(ey.Z,{className:"h-4 w-4"}),"AI 기반 포트폴리오 최적화"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"머신러닝 분석을 통해 발견된 포트폴리오 개선 기회입니다."})]})}),[{id:"1",title:"지역별 분산 투자 최적화",description:"현재 미국 주식에 과도하게 집중되어 있습니다. 유럽과 신흥국 ETF 추가로 지역 분산을 개선할 수 있습니다.",type:"optimization",priority:"high",impact:85,difficulty:"쉬움",timeframe:"즉시 적용 가능",category:"분산투자"},{id:"2",title:"섹터 집중도 위험 완화",description:"기술 섹터 비중이 35%로 높습니다. 헬스케어, 금융 섹터 추가로 섹터 리스크를 분산하세요.",type:"optimization",priority:"high",impact:78,difficulty:"보통",timeframe:"1-2주",category:"리스크 관리"},{id:"3",title:"리밸런싱 주기 최적화",description:"현재 월별 리밸런싱이 설정되어 있지만, 분기별로 변경 시 거래비용을 줄이면서 비슷한 성과를 얻을 수 있습니다.",type:"optimization",priority:"medium",impact:62,difficulty:"쉬움",timeframe:"즉시 적용 가능",category:"비용 최적화"},{id:"4",title:"인플레이션 헤지 자산 추가",description:"현재 경제 환경을 고려할 때 TIPS나 원자재 ETF 추가로 인플레이션 위험을 헤지하는 것을 권장합니다.",type:"optimization",priority:"medium",impact:71,difficulty:"보통",timeframe:"2-4주",category:"경제 대응"},{id:"5",title:"ESG 점수 개선",description:"지속가능투자에 관심이 있으시다면, 현재 포트폴리오의 ESG 점수를 B에서 A로 개선할 수 있는 방안을 제안합니다.",type:"optimization",priority:"low",impact:45,difficulty:"보통",timeframe:"1-3개월",category:"ESG"}].map(e=>(0,a.jsxs)(d,{className:"border-l-4 border-blue-200",children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(x,{className:"text-base",children:e.title}),(0,a.jsx)(g,{className:u(e.priority),children:j(e.priority)})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,a.jsxs)("div",{className:"text-right ml-4",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[e.impact,"%"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"예상 개선도"})]})]})}),(0,a.jsxs)(h,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"난이도"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.difficulty})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"적용 시점"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.timeframe})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"카테고리"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.category})]})]}),(0,a.jsxs)(n,{className:"w-full mt-4",variant:"outline",children:[(0,a.jsx)(e2.Z,{className:"h-4 w-4 mr-2"}),"상세 분석 보기"]})]})]},e.id))]}),(0,a.jsxs)(eE,{value:"risk-strategy",className:"space-y-4",children:[(0,a.jsx)(d,{children:(0,a.jsxs)(m,{children:[(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4"}),"위험성향별 맞춤 투자 전략"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"투자자의 위험 감수 능력에 따른 최적 전략을 제안합니다."})]})}),[{profile:"보수적 투자자",description:"안정적인 수익을 추구하며 원금 손실을 최소화하려는 투자자",allocation:{stocks:30,bonds:60,alternatives:5,cash:5},strategies:["고등급 회사채와 국채 중심의 채권 포트폴리오","배당수익률이 높은 우량 대형주 투자","월지급식 배당 ETF로 현금흐름 확보","원금보장형 ELS 상품 일부 활용"],keyPoints:["연간 목표 수익률: 4-6%","최대 손실 한도: 5% 이내","리밸런싱 주기: 반기별","추천 자산: 미국 국채, 투자등급 회사채, 배당주"],color:"bg-green-50 border-green-200"},{profile:"균형 추구 투자자",description:"적정한 위험을 감수하여 꾸준한 성장을 추구하는 투자자",allocation:{stocks:60,bonds:30,alternatives:7,cash:3},strategies:["주식 60%, 채권 40%의 균형 포트폴리오","글로벌 분산투자로 지역 리스크 완화","REIT와 원자재로 대안투자 비중 확보","시장 상황에 따른 전술적 자산배분 활용"],keyPoints:["연간 목표 수익률: 6-8%","최대 손실 한도: 15% 이내","리밸런싱 주기: 분기별","추천 자산: S&P 500, 글로벌 채권, REIT"],color:"bg-blue-50 border-blue-200"},{profile:"적극적 투자자",description:"높은 수익을 위해 상당한 위험을 감수할 수 있는 투자자",allocation:{stocks:80,bonds:10,alternatives:8,cash:2},strategies:["성장주와 가치주의 균형잡힌 조합","신흥국 시장과 소형주로 추가 수익 추구","섹터별 순환투자 전략 활용","레버리지 ETF 소량 활용으로 수익 확대"],keyPoints:["연간 목표 수익률: 8-12%","최대 손실 한도: 25% 이내","리밸런싱 주기: 월별","추천 자산: 성장주, 신흥국 ETF, 섹터 ETF"],color:"bg-orange-50 border-orange-200"},{profile:"공격적 투자자",description:"높은 변동성을 감수하고 최대 수익을 추구하는 투자자",allocation:{stocks:90,bonds:0,alternatives:10,cash:0},strategies:["고성장 기술주와 바이오 주식 중점 투자","암호화폐와 대안투자로 포트폴리오 다각화","옵션 전략으로 추가 수익 창출","개별 종목 선택을 통한 알파 추구"],keyPoints:["연간 목표 수익률: 12%+","최대 손실 한도: 40% 이내","리밸런싱 주기: 주간/월별","추천 자산: 성장주, 암호화폐, 벤처투자"],color:"bg-red-50 border-red-200"}].map((e,s)=>(0,a.jsxs)(d,{className:e.color,children:[(0,a.jsxs)(m,{className:"pb-3",children:[(0,a.jsx)(x,{className:"text-base",children:e.profile}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,a.jsxs)(h,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"권장 자산 배분"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-32",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ei.u,{children:[(0,a.jsx)(eo.b,{data:[{name:"주식",value:e.allocation.stocks},{name:"채권",value:e.allocation.bonds},{name:"대안투자",value:e.allocation.alternatives},{name:"현금",value:e.allocation.cash}],cx:"50%",cy:"50%",outerRadius:50,dataKey:"value",children:N.map((e,s)=>(0,a.jsx)(ed.b,{fill:e},"cell-".concat(s)))}),(0,a.jsx)(em.u,{})]})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"주식"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.stocks,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm",children:"채권"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.bonds,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:"대안투자"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.alternatives,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-sm",children:"현금"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.cash,"%"]})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"핵심 투자 전략"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.strategies.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 포인트"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:e.keyPoints.map((e,s)=>(0,a.jsx)("div",{className:"text-xs bg-background/50 p-2 rounded border",children:e},s))})]}),(0,a.jsxs)(n,{variant:"outline",className:"w-full",children:[(0,a.jsx)(e0.Z,{className:"h-4 w-4 mr-2"}),"이 전략 적용하기"]})]})]},s))]}),(0,a.jsx)(eE,{value:"lifecycle",className:"space-y-4",children:i?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"생애주기 가이드로 돌아가기"})]}),(0,a.jsxs)(d,{children:[(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{className:"text-base",children:i.stage}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:i.age})]}),(0,a.jsxs)(h,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 재정 목표"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:i.goals.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"권장 자산 배분"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-32",children:(0,a.jsx)(ec.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ei.u,{children:[(0,a.jsx)(eo.b,{data:[{name:"주식",value:i.allocation.stocks},{name:"채권",value:i.allocation.bonds},{name:"대안투자",value:i.allocation.alternatives},{name:"현금",value:i.allocation.cash}],cx:"50%",cy:"50%",outerRadius:50,dataKey:"value",children:N.map((e,s)=>(0,a.jsx)(ed.b,{fill:e},"cell-".concat(s)))}),(0,a.jsx)(em.u,{})]})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"주식"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[i.allocation.stocks,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm",children:"채권"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[i.allocation.bonds,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:"대안투자"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[i.allocation.alternatives,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-sm",children:"현금"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[i.allocation.cash,"%"]})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"핵심 투자 전략"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:i.keyStrategies.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 고려사항"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:i.considerations.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)(n,{className:"w-full",variant:"success",children:[(0,a.jsx)(eH.Z,{className:"h-4 w-4 mr-2"}),"이 가이드 적용하기"]})]})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(d,{children:(0,a.jsxs)(m,{children:[(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4"}),"생애주기별 자산 배분 가이드"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"나이와 인생 단계에 따른 최적의 투자 전략을 확인하세요."})]})}),[{stage:"사회초년생 (20대)",age:"20-29세",goals:["자산 형성의 기초 마련","투자 습관 형성","비상금 마련"],allocation:{stocks:80,bonds:10,alternatives:5,cash:5},keyStrategies:["소액 정기적립투자로 시작","인덱스 펀드 중심의 분산투자","급여의 20-30% 저축/투자","비상금 3-6개월분 확보"],considerations:["높은 위험감수능력 활용","장기 투자 관점 유지","투자 지식 습득에 투자","과도한 레버리지 피하기"]},{stage:"자산형성기 (30대)",age:"30-39세",goals:["주택구입 자금 마련","결혼/육아 자금","본격적인 자산 증식"],allocation:{stocks:70,bonds:20,alternatives:7,cash:3},keyStrategies:["목적별 투자 계좌 분리 운용","주택구입 자금은 안전자산 위주","장기 은퇴자금은 적극적 투자","세제혜택 계좌 적극 활용"],considerations:["라이프 이벤트 자금 계획","보험을 통한 리스크 관리","투자 목적의 명확한 구분","현금흐름 관리의 중요성"]},{stage:"자산증식기 (40대)",age:"40-49세",goals:["자녀 교육비 준비","은퇴 준비 본격화","자산 규모 확대"],allocation:{stocks:60,bonds:30,alternatives:8,cash:2},keyStrategies:["교육비와 은퇴자금의 균형","다양한 자산군으로 분산투자","세금 효율적인 투자 전략","부동산 투자 검토"],considerations:["교육비 인플레이션 대비","은퇴 목표 구체화","투자 리스크 점진적 축소","상속/증여 계획 수립"]},{stage:"은퇴준비기 (50대)",age:"50-59세",goals:["은퇴자금 최종 점검","안정적 소득원 확보","상속 계획"],allocation:{stocks:50,bonds:40,alternatives:8,cash:2},keyStrategies:["캐치업 기여금 활용","배당 중심의 소득 창출","연금보험 상품 검토","부채 축소 계획"],considerations:["은퇴자금 부족분 점검","헬스케어 비용 대비","시장 변동성 관리","연금 수령 전략 계획"]},{stage:"은퇴기 (60대 이상)",age:"60세 이상",goals:["안정적인 연금 수령","의료비 대비","상속 재산 관리"],allocation:{stocks:30,bonds:60,alternatives:5,cash:5},keyStrategies:["버킷 전략으로 현금흐름 관리","인플레이션 대응 자산 유지","세금 효율적인 인출 전략","유동성 확보에 중점"],considerations:["장수 리스크 대비","의료비 증가 대응","상속세 최소화 방안","인지능력 저하 대비책"]}].map((e,s)=>(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,a.jsxs)(h,{className:"pt-4",onClick:()=>o(e),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:e.stage}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.age})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm font-medium",children:["주식 ",e.allocation.stocks,"%"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["채권 ",e.allocation.bonds,"%"]})]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,a.jsxs)("p",{children:["주요 목표: ",e.goals[0]]})})]})},s))]})})]})]})})})})})}var e4=t(3050),e5=t(5662),e6=t(4420);function e8(e){let{onBack:s}=e,[t,c]=(0,l.useState)("banking"),[i,o]=(0,l.useState)(null),[j,N]=(0,l.useState)(new Date),[f,y]=(0,l.useState)([{id:"1",bankName:"KB국민은행",accountNumber:"123-456-789012",accountType:"적금",balance:15e6,isConnected:!0,lastSync:"2시간 전",status:"connected"},{id:"2",bankName:"삼성증권",accountNumber:"987-654-321098",accountType:"CMA",balance:85e5,isConnected:!0,lastSync:"30분 전",status:"connected"},{id:"3",bankName:"미래에셋증권",accountNumber:"555-777-888999",accountType:"위탁계좌",balance:25e6,isConnected:!1,lastSync:"-",status:"pending"}]),[v]=(0,l.useState)([{id:"1",title:"연준, 기준금리 동결...인플레이션 둔화 신호",summary:"FOMC 회의에서 기준금리를 4.75%-5.00%로 유지하기로 결정. 파월 의장은 인플레이션이 목표치에 근접하고 있다고 발언",source:"연합뉴스",timestamp:"1시간 전",category:"economy",sentiment:"positive",relevance:95},{id:"2",title:"비트코인, 10만 달러 돌파 후 조정...알트코인 강세",summary:"비트코인이 사상 최고치 경신 후 9만 8천 달러 선에서 거래 중. 이더리움과 솔라나 등 주요 알트코인은 상승세 지속",source:"코인데스크 코리아",timestamp:"2시간 전",category:"crypto",sentiment:"neutral",relevance:88},{id:"3",title:"NVIDIA 3분기 실적 예상치 상회...AI 수요 지속",summary:"엔비디아가 3분기 매출 351억 달러를 기록하며 시장 예상치를 크게 상회. 데이터센터 부문 매출이 급증하며 AI 붐 지속성 확인",source:"블룸버그",timestamp:"3시간 전",category:"market",sentiment:"positive",relevance:92},{id:"4",title:"한국은행, 기준금리 3.25% 동결...경제성장률 전망 하향",summary:"한국은행이 기준금리를 3.25%로 유지하며 2025년 경제성장률 전망을 2.1%로 하향 조정. 내수 부진과 수출 둔화 우려",source:"매일경제",timestamp:"4시간 전",category:"economy",sentiment:"negative",relevance:85},{id:"5",title:"테슬라, 완전자율주행 업데이트 발표...주가 3% 상승",summary:"테슬라가 FSD(Full Self-Driving) v13 업데이트를 발표하며 자율주행 기술 개선 소식에 주가 상승. 로보택시 상용화 기대감 증가",source:"TechCrunch",timestamp:"5시간 전",category:"market",sentiment:"positive",relevance:78},{id:"6",title:"중국 제조업 PMI 49.1...4개월 연속 위축",summary:"중국 제조업 구매관리자지수(PMI)가 49.1을 기록하며 경기 둔화 우려 지속. 글로벌 공급망과 무역에 미칠 영향 주목",source:"Reuters",timestamp:"6시간 전",category:"economy",sentiment:"negative",relevance:82}]),[b]=(0,l.useState)([{name:"미국 10년 국채 수익률",value:4.28,unit:"%",change:-.03,lastUpdate:"실시간",trend:"down",impact:"high"},{name:"VIX 공포지수",value:16.8,unit:"",change:-1.2,lastUpdate:"실시간",trend:"down",impact:"high"},{name:"달러 인덱스 (DXY)",value:104.2,unit:"",change:.3,lastUpdate:"실시간",trend:"up",impact:"medium"},{name:"원/달러 환율",value:1380,unit:"원",change:5,lastUpdate:"실시간",trend:"up",impact:"medium"},{name:"WTI 원유",value:75.8,unit:"$",change:1.2,lastUpdate:"실시간",trend:"up",impact:"medium"},{name:"금 현물",value:2085,unit:"$",change:-8.5,lastUpdate:"실시간",trend:"down",impact:"low"}]),k=async e=>{o(e),setTimeout(()=>{y(s=>s.map(s=>s.id===e?{...s,isConnected:!0,status:"connected",lastSync:"방금 전"}:s)),o(null)},3e3)},S=e=>{y(s=>s.map(s=>s.id===e?{...s,isConnected:!1,status:"pending",lastSync:"-"}:s))};(0,l.useEffect)(()=>{let e=setInterval(()=>{N(new Date)},3e4);return()=>clearInterval(e)},[]);let C=e=>{switch(e){case"connected":return(0,a.jsx)(e4.Z,{className:"h-4 w-4 text-green-600"});case"error":return(0,a.jsx)(E.Z,{className:"h-4 w-4 text-red-600"});case"pending":return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-yellow-600"});default:return(0,a.jsx)(E.Z,{className:"h-4 w-4 text-gray-400"})}},T=e=>{switch(e){case"market":return"bg-blue-100 text-blue-800";case"economy":return"bg-green-100 text-green-800";case"crypto":return"bg-purple-100 text-purple-800";case"politics":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=e=>{switch(e){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}};return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"외부 서비스 연동"})]}),(0,a.jsxs)(eS,{value:t,onValueChange:c,className:"w-full",children:[(0,a.jsxs)(eC,{className:"grid w-full grid-cols-3 mb-6",children:[(0,a.jsx)(eA,{value:"banking",className:"text-xs",children:"계좌연동"}),(0,a.jsx)(eA,{value:"news",className:"text-xs",children:"뉴스피드"}),(0,a.jsx)(eA,{value:"indicators",className:"text-xs",children:"경제지표"})]}),(0,a.jsxs)(eE,{value:"banking",className:"space-y-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsxs)(m,{children:[(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4"}),"증권계좌 연동 (Open Banking)"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"실제 계좌와 연동하여 포트폴리오를 자동으로 동기화하세요."})]}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:f.filter(e=>e.isConnected).length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"연결된 계좌"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["₩",f.filter(e=>e.isConnected).reduce((e,s)=>e+s.balance,0).toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"총 잔액"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:f.filter(e=>"-"!==e.lastSync).length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"동기화됨"})]})]})})]}),(0,a.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,a.jsx)(d,{className:"border-l-4 ".concat("connected"===e.status?"border-green-200":"error"===e.status?"border-red-200":"border-yellow-200"),children:(0,a.jsxs)(h,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.bankName}),C(e.status)]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-1",children:[e.accountNumber," (",e.accountType,")"]}),e.isConnected&&(0,a.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["₩",e.balance.toLocaleString()]})]}),(0,a.jsx)("div",{className:"text-right",children:e.isConnected?(0,a.jsx)(n,{variant:"outline",size:"sm",onClick:()=>S(e.id),children:"연결 해제"}):(0,a.jsx)(n,{size:"sm",onClick:()=>k(e.id),disabled:i===e.id,children:i===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"연결 중..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 mr-2"}),"연결하기"]})})})]}),e.isConnected&&(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground border-t pt-2",children:[(0,a.jsxs)("span",{children:["마지막 동기화: ",e.lastSync]}),(0,a.jsx)(n,{variant:"ghost",size:"sm",className:"h-6 px-2",children:(0,a.jsx)(A.Z,{className:"h-3 w-3"})})]})]})},e.id))}),(0,a.jsx)(d,{className:"border-dashed",children:(0,a.jsx)(h,{className:"pt-6 text-center",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(w.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"새 계좌 연결"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"추가 은행이나 증권사 계좌를 연결하세요"})]}),(0,a.jsxs)(n,{variant:"outline",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 mr-2"}),"계좌 추가하기"]})]})})}),(0,a.jsx)(d,{className:"border-blue-200 bg-blue-50",children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"보안 정보"}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"모든 계좌 연동은 금융결제원의 오픈뱅킹 API를 통해 안전하게 처리되며, 계좌 정보는 암호화되어 저장됩니다. 비밀번호나 보안카드 정보는 저장하지 않습니다."})]})]})})})]}),(0,a.jsxs)(eE,{value:"news",className:"space-y-4",children:[(0,a.jsx)(d,{children:(0,a.jsxs)(m,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(e5.Z,{className:"h-4 w-4"}),"투자 관련 뉴스 피드"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)(A.Z,{className:"h-3 w-3"}),j.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})," 업데이트"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"AI가 큐레이션한 투자 관련 주요 뉴스를 실시간으로 받아보세요."})]})}),(0,a.jsx)(d,{children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)(g,{variant:"outline",className:"cursor-pointer",children:"전체"}),(0,a.jsx)(g,{variant:"outline",className:"cursor-pointer",children:"시장"}),(0,a.jsx)(g,{variant:"outline",className:"cursor-pointer",children:"경제"}),(0,a.jsx)(g,{variant:"outline",className:"cursor-pointer",children:"암호화폐"}),(0,a.jsx)(g,{variant:"outline",className:"cursor-pointer",children:"정치"})]})})}),(0,a.jsx)("div",{className:"space-y-3",children:v.map(e=>(0,a.jsx)(d,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,a.jsxs)(h,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)(g,{className:T(e.category),children:["market"===e.category&&"시장","economy"===e.category&&"경제","crypto"===e.category&&"암호화폐","politics"===e.category&&"정치"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:e.timestamp}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("positive"===e.sentiment?"bg-green-500":"negative"===e.sentiment?"bg-red-500":"bg-gray-500")})]})]}),(0,a.jsx)("h3",{className:"font-medium mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.summary}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.source}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"text-xs",children:["관련도 ",e.relevance,"%"]}),(0,a.jsx)(u,{value:e.relevance,className:"w-16 h-1"})]})]})]})},e.id))}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-base",children:"뉴스 소스 설정"})}),(0,a.jsxs)(h,{children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"국내 경제 뉴스"}),(0,a.jsx)(g,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"해외 시장 뉴스"}),(0,a.jsx)(g,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"암호화폐 뉴스"}),(0,a.jsx)(g,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"기업 공시"}),(0,a.jsx)(g,{variant:"secondary",children:"비활성화"})]})]}),(0,a.jsx)(n,{variant:"outline",className:"w-full mt-4",children:"뉴스 설정 변경"})]})]})]}),(0,a.jsxs)(eE,{value:"indicators",className:"space-y-4",children:[(0,a.jsx)(d,{children:(0,a.jsxs)(m,{children:[(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4"}),"실시간 경제 지표"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"주요 경제 지표를 실시간으로 모니터링하고 포트폴리오에 미칠 영향을 분석합니다."})]})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:b.map((e,s)=>(0,a.jsx)(d,{className:"border-l-4 ".concat("high"===e.impact?"border-red-200":"medium"===e.impact?"border-yellow-200":"border-green-200"),children:(0,a.jsx)(h,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:e.name}),(0,a.jsxs)(g,{variant:"outline",className:"text-xs",children:["high"===e.impact&&"높음","medium"===e.impact&&"보통","low"===e.impact&&"낮음"]})]}),(0,a.jsxs)("div",{className:"text-xl font-bold",children:[e.value.toLocaleString(),e.unit]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat(I(e.trend)),children:[(0,a.jsx)(r.Z,{className:"h-3 w-3 ".concat("down"===e.trend?"rotate-180":"stable"===e.trend?"rotate-90":"")}),e.change>0?"+":"",e.change]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.lastUpdate})]})]})})},s))}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-base",children:"지표 해석 가이드"})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"높은 영향도"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"포트폴리오에 즉각적이고 큰 영향을 미칠 수 있는 지표들입니다."})]}),(0,a.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"중간 영향도"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"중장기적으로 시장에 영향을 미칠 수 있는 지표들입니다."})]}),(0,a.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"낮은 영향도"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"참고용 지표로, 간접적인 영향을 미칠 수 있습니다."})]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(e6.Z,{className:"h-4 w-4"}),"지표 알림 설정"]})}),(0,a.jsxs)(h,{children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"금리 변동 알림"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"0.25%p 이상 변동 시"})]}),(0,a.jsx)(g,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"VIX 급등 알림"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"25 이상 상승 시"})]}),(0,a.jsx)(g,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"환율 급변 알림"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"일일 2% 이상 변동"})]}),(0,a.jsx)(g,{variant:"secondary",children:"비활성화"})]})]}),(0,a.jsxs)(n,{variant:"outline",className:"w-full mt-4",children:[(0,a.jsx)(e6.Z,{className:"h-4 w-4 mr-2"}),"알림 설정 변경"]})]})]}),(0,a.jsx)(d,{className:"border-green-200 bg-green-50",children:(0,a.jsxs)(h,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(e4.Z,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-800",children:"API 연결 상태: 정상"})]}),(0,a.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"모든 데이터 소스가 정상적으로 연결되어 실시간 업데이트 중입니다."})]})})]})]})]})})})})})}var e9=t(7695),e7=t(3616),se=t(2020),ss=t(3454);function st(e){let{onClose:s}=e,[t,r]=(0,l.useState)([{name:"CoinGecko",status:"testing"},{name:"Alpha Vantage",status:"testing"},{name:"Yahoo Finance",status:"testing"}]),[c,i]=(0,l.useState)(!1),[o,u]=(0,l.useState)([]),[j,p]=(0,l.useState)(new Date),N=async()=>{i(!0),r(e=>e.map(e=>({...e,status:"testing"})));try{let e=await _();r([{name:"CoinGecko",status:e.CoinGecko?"connected":"error",lastTested:new Date,errorMessage:e.CoinGecko?void 0:"API 연결 실패"},{name:"Alpha Vantage",status:e["Alpha Vantage"]?"connected":"error",lastTested:new Date,errorMessage:e["Alpha Vantage"]?void 0:"API 키 또는 제한 확인 필요"},{name:"Yahoo Finance",status:e["Yahoo Finance"]?"connected":"error",lastTested:new Date,errorMessage:e["Yahoo Finance"]?void 0:"네트워크 또는 CORS 오류"}])}catch(e){console.error("API 테스트 오류:",e)}i(!1)},f=async()=>{try{let e=await H();u(e.slice(0,5)),p(new Date)}catch(e){console.error("샘플 데이터 로드 오류:",e)}};(0,l.useEffect)(()=>{N(),f()},[]);let y=e=>{switch(e){case"connected":return(0,a.jsx)(e4.Z,{className:"h-4 w-4 text-green-600"});case"error":return(0,a.jsx)(e9.Z,{className:"h-4 w-4 text-red-600"});case"testing":return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-blue-600 animate-spin"});default:return(0,a.jsx)(E.Z,{className:"h-4 w-4 text-gray-600"})}},v=e=>{switch(e){case"connected":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"testing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsx)("div",{className:"w-full bg-background responsive-container",children:(0,a.jsx)("div",{className:"h-full flex flex-col overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"API 연동 상태"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"실시간 데이터 연결 상태를 확인합니다"})]}),s&&(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:s,children:"✕"})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(e7.Z,{className:"h-4 w-4"}),"API 키 설정 상태"]})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"CoinGecko Pro"}),(0,a.jsx)(g,{className:ss.env.COINGECKO_API_KEY?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:ss.env.COINGECKO_API_KEY?"설정됨":"기본값"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Alpha Vantage"}),(0,a.jsx)(g,{className:ss.env.ALPHA_VANTAGE_API_KEY?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:ss.env.ALPHA_VANTAGE_API_KEY?"설정됨":"미설정"})]})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(x,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(se.Z,{className:"h-4 w-4"}),"API 연결 테스트"]}),(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:N,disabled:c,className:"text-xs",children:[c?(0,a.jsx)(A.Z,{className:"h-3 w-3 animate-spin mr-1"}):(0,a.jsx)(A.Z,{className:"h-3 w-3 mr-1"}),"테스트"]})]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-3",children:t.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[y(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name}),e.lastTested&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.lastTested.toLocaleTimeString("ko-KR")})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(g,{className:v(e.status),children:"connected"===e.status?"정상":"error"===e.status?"오류":"테스트중"}),e.errorMessage&&(0,a.jsx)("p",{className:"text-xs text-red-600 mt-1",children:e.errorMessage})]})]},s))})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(x,{className:"text-base",children:"실시간 데이터 샘플"}),(0,a.jsxs)(n,{variant:"outline",size:"sm",onClick:f,className:"text-xs",children:[(0,a.jsx)(A.Z,{className:"h-3 w-3 mr-1"}),"새로고침"]})]})}),(0,a.jsx)(h,{children:o.length>0?(0,a.jsxs)("div",{className:"space-y-2",children:[o.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.symbol}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["KRW"===e.currency?"₩":"$",e.price.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs ".concat(e.changePercent>=0?"text-green-600":"text-red-600"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]})]},s)),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground text-center mt-3",children:["마지막 업데이트: ",j.toLocaleTimeString("ko-KR")]})]}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"데이터 로딩 중..."})})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-base",children:"빠른 설정 가이드"})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"1. Alpha Vantage API 키 설정 (권장)"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:".env.local 파일에 ALPHA_VANTAGE_API_KEY=your_key 추가"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"2. CoinGecko Pro 업그레이드 (선택)"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:"더 높은 요청 제한과 안정성을 위해 Pro 플랜 고려"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"3. 문제 해결"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:"CORS 오류 시 개발자 도구 콘솔에서 자세한 오류 메시지 확인"})]})]})})]})]})})})})}function sa(){let[e,s]=(0,l.useState)("home"),[t,n]=(0,l.useState)(null),[r,c]=(0,l.useState)([]),[i,d]=(0,l.useState)({}),[m,x]=(0,l.useState)({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380}),[h,u]=(0,l.useState)([]),[g,j]=(0,l.useState)(!1),[p,N]=(0,l.useState)(!1),[f,v]=(0,l.useState)(void 0);(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{await q()}catch(s){e&&console.error("Failed to initialize API system:",s)}})(),()=>{e=!1}},[]);let b=()=>{s("home"),n(null),c([]),d({}),x({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380})},w=()=>{s("portfolioList"),N(!1),v(void 0)},k=()=>{s("dashboard")};return(0,a.jsx)("div",{className:"flex justify-center items-start min-h-screen bg-gray-100 py-4",children:(0,a.jsx)("div",{className:"bg-white shadow-lg overflow-hidden rounded-lg responsive-container",children:"home"===e?(0,a.jsx)(o,{onStartInvestmentSurvey:()=>{s("survey")},onLogin:()=>{j(!0),s("portfolioList")}}):"portfolioList"===e?(0,a.jsx)(ew,{onBack:b,onCreateNew:()=>{s("survey"),n(null),c([]),d({}),x({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380}),N(!1),v(void 0)},onViewPortfolio:e=>{n(e.investorProfile),c(e.assets),d(e.allocations),N(!!e.author),v(e.author),s("dashboard")},currentUserPortfolios:h,onEducationCenter:()=>{s("education")},onPersonalizedRecommendations:()=>{s("recommendations")},onExternalIntegrations:()=>{s("integrations")},onApiStatus:()=>{s("apiStatus")}}):"survey"===e?(0,a.jsx)(y,{onComplete:e=>{n(e),s("portfolio")},onBack:b}):"portfolio"===e?(0,a.jsx)(W,{investorProfile:t,onBack:()=>{s("survey"),n(null),c([]),d({}),x({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380})},onAnalyze:(e,t)=>{c(e),d(t),s("analysis")},onSavePortfolio:(e,a)=>{if(t&&e.length>0){c(e),d(a);let l={id:"portfolio-".concat(Date.now()),name:"".concat(t.title," 포트폴리오"),investorProfile:t,assets:e,allocations:a,totalValue:m.initialInvestment,dailyChange:1e3*Math.random()-500,dailyChangePercent:(Math.random()-.5)*4,createdDate:new Date().toISOString().split("T")[0]};u(e=>[...e,l]),s("portfolioList")}}}):"analysis"===e?(0,a.jsx)(eu,{investorProfile:t,selectedAssets:r,initialAllocations:i,onBack:()=>{s("portfolio")},onSave:(e,t)=>{d(e),t&&x(t),s("dashboard")}}):"advancedAnalysis"===e?(0,a.jsx)(eU,{assets:r,allocations:i,initialInvestment:m.initialInvestment,onBack:k}):"riskManagement"===e?(0,a.jsx)(e_,{assets:r,allocations:i,initialInvestment:m.initialInvestment,onBack:k}):"backtesting"===e?(0,a.jsx)(eX,{investorProfile:t,selectedAssets:r,allocations:i,investmentSettings:m,onBack:k}):"futurePrediction"===e?(0,a.jsx)(eW,{investorProfile:t,selectedAssets:r,allocations:i,investmentSettings:m,onBack:k}):"education"===e?(0,a.jsx)(e1,{onBack:w}):"recommendations"===e?(0,a.jsx)(e3,{onBack:w,investorProfile:t||void 0}):"integrations"===e?(0,a.jsx)(e8,{onBack:w}):"apiStatus"===e?(0,a.jsx)(st,{onClose:w}):(0,a.jsx)(ej,{investorProfile:t,selectedAssets:r,allocations:i,investmentSettings:m,onBack:g?w:()=>{s("analysis")},onEdit:()=>{s("analysis")},onNewPortfolio:()=>{if(t&&r.length>0){let e={id:"portfolio-".concat(Date.now()),name:"".concat(t.title," 포트폴리오"),investorProfile:t,assets:r,allocations:i,totalValue:m.initialInvestment,dailyChange:1e3*Math.random()-500,dailyChangePercent:(Math.random()-.5)*4,createdDate:new Date().toISOString().split("T")[0]};u(s=>[...s,e]),s("portfolioList")}},onAdvancedAnalysis:()=>{s("advancedAnalysis")},onRiskManagement:()=>{s("riskManagement")},onBacktesting:()=>{s("backtesting")},onFuturePrediction:()=>{s("futurePrediction")},isPublicView:p,portfolioAuthor:f})})})}function sl(){return(0,a.jsx)(sa,{})}}},function(e){e.O(0,[58,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);