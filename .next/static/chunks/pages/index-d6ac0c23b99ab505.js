(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6981)}])},6981:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return eY}});var a=t(5893),l=t(7294);let r=l.forwardRef((e,s)=>{let{className:t="",variant:l="default",size:r="default",...c}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50"," ").concat({default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100"}[l]," ").concat({default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}[r]," ").concat(t),ref:s,...c})});r.displayName="Button";let c=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"rounded-lg border bg-white text-gray-900 shadow-sm ".concat(t),...l})});c.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"flex flex-col space-y-1.5 p-6 ".concat(t),...l})});i.displayName="CardHeader";let n=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("h3",{ref:s,className:"text-2xl font-semibold leading-none tracking-tight ".concat(t),...l})});n.displayName="CardTitle",l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("p",{ref:s,className:"text-sm text-gray-600 ".concat(t),...l})}).displayName="CardDescription";let d=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"p-6 pt-0 ".concat(t),...l})});d.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"flex items-center p-6 pt-0 ".concat(t),...l})}).displayName="CardFooter";var o=t(437),x=t(2855),m=t(1833),h=t(113),u=t(9176);function j(e){let{onStartInvestmentSurvey:s,onLogin:t}=e;return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-primary-foreground"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Figma Make 투자"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"AI 기반 스마트 포트폴리오 관리"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)(r,{onClick:s,className:"w-full h-14",size:"lg",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-base font-medium",children:"투자 성향 분석"}),(0,a.jsx)("div",{className:"text-xs opacity-90",children:"맞춤형 포트폴리오 추천받기"})]})]}),(0,a.jsxs)(r,{onClick:t,variant:"outline",className:"w-full h-14",size:"lg",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-base font-medium",children:"기존 포트폴리오 관리"}),(0,a.jsx)("div",{className:"text-xs opacity-90",children:"저장된 포트폴리오 확인하기"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"주요 기능"}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)(c,{className:"bg-blue-50 border-blue-200",children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"AI 기반 자산 배분"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"개인 성향에 맞는 최적 포트폴리오"})]})]})})}),(0,a.jsx)(c,{className:"bg-green-50 border-green-200",children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"실시간 성과 분석"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"백테스트와 딥러닝 미래예측"})]})]})})}),(0,a.jsx)(c,{className:"bg-purple-50 border-purple-200",children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"리스크 관리"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"VaR, 스트레스 테스트, 상관관계 분석"})]})]})})})]})]}),(0,a.jsx)(c,{className:"bg-gradient-to-r from-primary/10 to-secondary/10",children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold text-primary",children:"500+"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"지원 자산"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold text-primary",children:"98%"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"예측 정확도"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold text-primary",children:"24/7"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"실시간 모니터링"})]})]})})})]})})})})})}let g=l.forwardRef((e,s)=>{let{className:t="",value:l=0,max:r=100,...c}=e;return(0,a.jsx)("div",{ref:s,className:"relative h-4 w-full overflow-hidden rounded-full bg-gray-200 ".concat(t),...c,children:(0,a.jsx)("div",{className:"h-full w-full flex-1 bg-blue-600 transition-all",style:{transform:"translateX(-".concat(100-Math.min(Math.max(l/r*100,0),100),"%)")}})})});g.displayName="Progress";let p=l.forwardRef((e,s)=>{let{className:t="",variant:l="default",...r}=e;return(0,a.jsx)("div",{ref:s,className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors ".concat({default:"bg-blue-600 text-white",secondary:"bg-gray-100 text-gray-900",destructive:"bg-red-600 text-white",outline:"border border-gray-300 bg-white text-gray-900"}[l]," ").concat(t),...r})});p.displayName="Badge";var N=t(3989);let f=[{id:1,question:"투자 가능 기간은 어느 정도입니까?",options:[{text:"1년 이내",score:1},{text:"1-3년",score:2},{text:"3-7년",score:3},{text:"7년 이상",score:4}]},{id:2,question:"원금 손실을 어느 정도까지 감수할 수 있습니까?",options:[{text:"원금 보장 필수",score:1},{text:"10% 이내 손실 가능",score:2},{text:"20-30% 손실 감수 가능",score:3},{text:"50% 이상 손실도 감수 가능",score:4}]},{id:3,question:"투자 경험과 지식 수준은 어느 정도입니까?",options:[{text:"투자 경험 없음",score:1},{text:"예적금, 펀드 경험",score:2},{text:"주식 투자 경험 있음",score:3},{text:"다양한 투자 상품 경험",score:4}]},{id:4,question:"목표 수익률은 어느 정도입니까?",options:[{text:"연 3-5% (안정적)",score:1},{text:"연 5-10% (보수적)",score:2},{text:"연 10-20% (중간)",score:3},{text:"연 20% 이상 (공격적)",score:4}]},{id:5,question:"투자 손실 시 어떻게 대응하시겠습니까?",options:[{text:"즉시 손절매",score:1},{text:"추가 하락 방지를 위해 매도",score:2},{text:"시장 회복을 기다림",score:3},{text:"추가 매수 검토",score:4}]}],v={"very-conservative":{type:"very-conservative",title:"매우 보수적 투자자",description:"절대적 안정성을 추구하며 원금 보장을 최우선으로 하는 투자자입니다.",characteristics:["원금 보장 절대 중시","최소한의 위험만 감수","예금, 국채 위주 투자","안정적 배당 수익 선호"],color:"bg-slate-100 text-slate-800"},conservative:{type:"conservative",title:"보수적 투자자",description:"안정성을 중시하며 낮은 위험을 감수할 수 있는 투자자입니다.",characteristics:["낮은 위험, 낮은 수익 추구","우량주, 배당주 선호","장기적 안정성 중시","채권, 리츠 투자 적합"],color:"bg-blue-100 text-blue-800"},moderate:{type:"moderate",title:"중립적 투자자",description:"적당한 위험을 감수하며 균형잡힌 포트폴리오를 선호하는 투자자입니다.",characteristics:["중간 수준의 위험과 수익","분산 투자 선호","주식과 채권의 균형","펀드, ETF 투자 적합"],color:"bg-green-100 text-green-800"},aggressive:{type:"aggressive",title:"공격적 투자자",description:"높은 수익을 위해 높은 위험을 감수할 수 있는 투자자입니다.",characteristics:["높은 위험, 높은 수익 추구","변동성에 대한 높은 내성","성장주 투자 선호","개별 주식, 신흥시장 적합"],color:"bg-orange-100 text-orange-800"},"very-aggressive":{type:"very-aggressive",title:"매우 공격적 투자자",description:"극도로 높은 수익을 추구하며 큰 손실도 감수할 수 있는 투자자입니다.",characteristics:["극고위험, 극고수익 추구","변동성을 기회로 활용","투기적 투자 감행","코인, 파생상품 선호"],color:"bg-red-100 text-red-800"}};function y(e){let{onComplete:s}=e,[t,o]=(0,l.useState)(0),[x,m]=(0,l.useState)({}),[h,u]=(0,l.useState)(null),[j,y]=(0,l.useState)(!1),b=e=>{u(e),m({...x,[f[t].id]:e}),setTimeout(()=>{t<f.length-1?(o(t+1),u(null)):y(!0)},300)},w=()=>{let e=Object.values(x).reduce((e,s)=>e+s,0)/f.length;return e<=1.5?v["very-conservative"]:e<=2?v.conservative:e<=2.5?v.moderate:e<=3.5?v.aggressive:v["very-aggressive"]},k=(t+1)/f.length*100;if(j){let e=w();return(0,a.jsx)("div",{className:"w-full min-h-screen bg-background flex flex-col",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-8",children:(0,a.jsx)("div",{className:"w-full max-w-none mx-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-primary rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary-foreground text-xl",children:"✓"})}),(0,a.jsx)("h1",{className:"text-xl",children:"분석 완료!"})]}),(0,a.jsxs)(c,{className:"w-full",children:[(0,a.jsxs)(i,{className:"text-center pb-4",children:[(0,a.jsx)(p,{className:"".concat(e.color," w-fit mx-auto"),children:e.title}),(0,a.jsx)(n,{className:"text-lg",children:e.description})]}),(0,a.jsx)(d,{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-2",children:"투자 성향 특징"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:e.characteristics.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"text-primary mt-1",children:"•"}),(0,a.jsx)("span",{className:"flex-1",children:e})]},s))})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(r,{onClick:()=>{s(w())},className:"w-full h-12",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"다음: 포트폴리오 추천"]}),(0,a.jsx)(r,{onClick:()=>{o(0),m({}),u(null),y(!1)},variant:"outline",className:"w-full h-12",children:"다시 테스트하기"})]})]})})})})}return(0,a.jsx)("div",{className:"w-full min-h-screen bg-background flex flex-col",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"text-lg",children:"투자 성향 분석"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t+1," / ",f.length]})]}),(0,a.jsx)(g,{value:k,className:"h-2"})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)(c,{className:"flex-1 mb-6",children:[(0,a.jsx)(i,{children:(0,a.jsx)(n,{className:"text-base leading-6",children:f[t].question})}),(0,a.jsx)(d,{className:"space-y-3",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3",children:f[t].options.map((e,s)=>(0,a.jsx)("button",{onClick:()=>b(e.score),className:"w-full p-4 text-left border rounded-lg transition-colors ".concat(h===e.score?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:(0,a.jsx)("span",{className:"text-sm",children:e.text})},s))})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[t>0&&(0,a.jsx)(r,{variant:"outline",onClick:()=>{t>0&&(o(t-1),u(x[f[t-1].id]||null))},className:"w-full h-12",children:"이전"}),0===t&&(0,a.jsxs)(r,{variant:"ghost",onClick:()=>{s(v.moderate)},className:"w-full h-12 text-muted-foreground",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"테스트 건너뛰고 포트폴리오 보기"]})]})]})]})})})}let b=l.forwardRef((e,s)=>{let{className:t="",type:l="text",...r}=e;return(0,a.jsx)("input",{type:l,className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),ref:s,...r})});b.displayName="Input";var w=t(2609),k=t(7818),C=t(4270),S=t(4976),M=t(2761),F=t(4598),T=t(8655),P=t(6127),E=t(8671);let D=[{ticker:"AAPL",name:"애플",sector:"Technology",type:"stock"},{ticker:"MSFT",name:"마이크로소프트",sector:"Technology",type:"stock"},{ticker:"GOOGL",name:"구글",sector:"Technology",type:"stock"},{ticker:"NVDA",name:"엔비디아",sector:"Technology",type:"stock"},{ticker:"TSLA",name:"테슬라",sector:"Technology",type:"stock"},{ticker:"META",name:"메타",sector:"Technology",type:"stock"},{ticker:"NFLX",name:"넷플릭스",sector:"Technology",type:"stock"},{ticker:"JNJ",name:"존슨앤존슨",sector:"Healthcare",type:"stock"},{ticker:"PFE",name:"화이자",sector:"Healthcare",type:"stock"},{ticker:"MRNA",name:"모더나",sector:"Healthcare",type:"stock"},{ticker:"JPM",name:"JP모건",sector:"Financial",type:"stock"},{ticker:"BAC",name:"뱅크오브아메리카",sector:"Financial",type:"stock"},{ticker:"WFC",name:"웰스파고",sector:"Financial",type:"stock"},{ticker:"V",name:"비자",sector:"Financial",type:"stock"},{ticker:"NEE",name:"NextEra Energy",sector:"Utilities",type:"stock"},{ticker:"SO",name:"Southern Company",sector:"Utilities",type:"stock"},{ticker:"PG",name:"프록터앤갤블",sector:"Consumer Staples",type:"stock"},{ticker:"KO",name:"코카콜라",sector:"Consumer Staples",type:"stock"},{ticker:"WMT",name:"월마트",sector:"Consumer Staples",type:"stock"},{ticker:"AMT",name:"American Tower",sector:"REIT",type:"stock"},{ticker:"PLD",name:"Prologis",sector:"REIT",type:"stock"},{ticker:"BRK.B",name:"버크셔 해서웨이",sector:"Financial",type:"stock"},{ticker:"XOM",name:"엑손모빌",sector:"Energy",type:"stock"},{ticker:"TLT",name:"20년+ 미국 국채 ETF",sector:"Bonds",type:"stock"},{ticker:"IEF",name:"7-10년 미국 국채 ETF",sector:"Bonds",type:"stock"},{ticker:"SHY",name:"1-3년 미국 국채 ETF",sector:"Bonds",type:"stock"},{ticker:"AGG",name:"종합 채권 ETF",sector:"Bonds",type:"stock"},{ticker:"GLD",name:"SPDR 금 ETF",sector:"Precious Metals",type:"stock"},{ticker:"IAU",name:"iShares 금 ETF",sector:"Precious Metals",type:"stock"},{ticker:"SLV",name:"iShares 은 ETF",sector:"Precious Metals",type:"stock"},{ticker:"DBC",name:"Invesco 원자재 ETF",sector:"Commodities",type:"stock"},{ticker:"GSG",name:"iShares 원자재 ETF",sector:"Commodities",type:"stock"},{ticker:"USO",name:"미국 석유 ETF",sector:"Commodities",type:"stock"},{ticker:"VNQ",name:"Vanguard 리츠 ETF",sector:"Real Estate ETF",type:"stock"},{ticker:"IYR",name:"iShares 부동산 ETF",sector:"Real Estate ETF",type:"stock"},{ticker:"VTI",name:"Vanguard 전체 주식시장 ETF",sector:"Broad Market ETF",type:"stock"},{ticker:"QQQ",name:"Invesco 나스닥100 ETF",sector:"Technology ETF",type:"stock"},{ticker:"SPY",name:"SPDR S&P500 ETF",sector:"Broad Market ETF",type:"stock"},{ticker:"EEM",name:"신흥시장 ETF",sector:"Emerging Markets ETF",type:"stock"},{ticker:"VWO",name:"Vanguard 신흥시장 ETF",sector:"Emerging Markets ETF",type:"stock"},{ticker:"BTC",name:"비트코인",sector:"Digital Currency",type:"crypto"},{ticker:"ETH",name:"이더리움",sector:"Smart Contract",type:"crypto"},{ticker:"BNB",name:"바이낸스 코인",sector:"Exchange Token",type:"crypto"},{ticker:"XRP",name:"리플",sector:"Payment",type:"crypto"},{ticker:"ADA",name:"카르다노",sector:"Smart Contract",type:"crypto"},{ticker:"DOGE",name:"도지코인",sector:"Meme Coin",type:"crypto"},{ticker:"SOL",name:"솔라나",sector:"Smart Contract",type:"crypto"},{ticker:"MATIC",name:"폴리곤",sector:"Layer 2",type:"crypto"},{ticker:"DOT",name:"폴카닷",sector:"Interoperability",type:"crypto"},{ticker:"AVAX",name:"아발란체",sector:"Smart Contract",type:"crypto"}],R={"very-conservative":{name:"올웨더 포트폴리오",description:"모든 경제 상황에서 안정적인 수익을 추구하는 분산 투자 전략",creator:"레이 달리오",assets:["TLT","IEF","AGG","GLD","VNQ","VTI"],allocation:{TLT:25,IEF:20,AGG:20,GLD:15,VNQ:10,VTI:10}},conservative:{name:"가치투자 전략",description:"우량 기업의 저평가된 주식에 장기 투자하는 안정적 전략",creator:"워렌 버핏",assets:["BRK.B","SPY","VTI","TLT","VNQ","GLD","BTC"],allocation:{"BRK.B":25,SPY:20,VTI:15,TLT:15,VNQ:10,GLD:10,BTC:5}},moderate:{name:"밸류 포트폴리오",description:"내재가치 대비 저평가된 우량주 중심의 균형 투자 전략",creator:"벤저민 그레이엄",assets:["SPY","QQQ","VTI","TLT","GLD","VNQ","BTC","ETH"],allocation:{SPY:20,QQQ:15,VTI:15,TLT:15,GLD:10,VNQ:10,BTC:10,ETH:5}},aggressive:{name:"성장주 투자 전략",description:"높은 성장 잠재력을 가진 기업에 집중 투자하는 공격적 전략",creator:"피터 린치",assets:["QQQ","AAPL","MSFT","NVDA","TSLA","BTC","ETH","SOL"],allocation:{QQQ:20,AAPL:12,MSFT:12,NVDA:10,TSLA:8,BTC:20,ETH:10,SOL:8}},"very-aggressive":{name:"혁신 기술 전략",description:"파괴적 혁신 기술 분야에 집중 투자하는 초공격적 전략",creator:"캐시 우드",assets:["QQQ","TSLA","NVDA","META","BTC","ETH","SOL","AVAX","DOGE"],allocation:{QQQ:15,TSLA:10,NVDA:10,META:5,BTC:30,ETH:15,SOL:8,AVAX:4,DOGE:3}}},Z=e=>"".concat(e.type,"-").concat(e.ticker,"-").concat(e.geckoId||"stock","-").concat(e.name.replace(/\s+/g,"-").toLowerCase());function B(e){let{investorProfile:s,onBack:t,onAnalyze:m}=e,[h,u]=(0,l.useState)(""),[j,g]=(0,l.useState)([]),[f,v]=(0,l.useState)([]),[y,B]=(0,l.useState)([]),[A,I]=(0,l.useState)(!1),[L,V]=(0,l.useState)(!0),[z,K]=(0,l.useState)(!1),[G,O]=(0,l.useState)(null),[q,Q]=(0,l.useState)(null),[$,H]=(0,l.useState)("loading");(0,l.useEffect)(()=>{(async()=>{V(!0),O(null),H("loading");try{await (0,E.a_)();let e=D.map(e=>({identifier:e.ticker,type:e.type})),t=await (0,E.J7)(e),a=t.BTC;a&&a.price>5e4?H("success"):H("fallback");let l=D.map(e=>{let s=t[e.ticker],a={...e,price:(null==s?void 0:s.price)||100,changePercent:(null==s?void 0:s.changePercent)||0,change:((null==s?void 0:s.price)||100)*(((null==s?void 0:s.changePercent)||0)/100)};return{...a,uniqueId:Z(a)}});g(l),Q(new Date);let r=R[s.type];if(r){let e=r.assets.map(e=>l.find(s=>s.ticker===e)).filter(Boolean);v(e)}}catch(a){console.error("Error loading prices:",a),O("가격 정보를 불러오는데 실패했습니다."),H("fallback");let e=D.map(e=>{let s={BTC:{price:94250.67,changePercent:2.1},ETH:{price:3650.32,changePercent:-1.68},BNB:{price:310.45,changePercent:4.14},XRP:{price:2.615,changePercent:3.88},ADA:{price:1.085,changePercent:-3.02},DOGE:{price:.392,changePercent:3.37},SOL:{price:198.74,changePercent:4.46},MATIC:{price:.895,changePercent:-2.61},DOT:{price:7.67,changePercent:3.28},AVAX:{price:42.42,changePercent:5.41},AAPL:{price:192.53,changePercent:1.24},MSFT:{price:415.26,changePercent:-.36},GOOGL:{price:175.84,changePercent:.63},NVDA:{price:875.28,changePercent:2.02},TSLA:{price:248.42,changePercent:-1.28},META:{price:502.31,changePercent:-.8},NFLX:{price:486.71,changePercent:2.1},JPM:{price:165.82,changePercent:.81},SPY:{price:478.92,changePercent:.76},QQQ:{price:421.56,changePercent:1.23},TLT:{price:89.45,changePercent:-.25},GLD:{price:198.45,changePercent:.85}}[e.ticker],t={...e,price:(null==s?void 0:s.price)||100,changePercent:(null==s?void 0:s.changePercent)||0,change:((null==s?void 0:s.price)||100)*(((null==s?void 0:s.changePercent)||0)/100)};return{...t,uniqueId:Z(t)}});g(e),Q(new Date);let t=R[s.type];t&&v(t.assets.map(s=>e.find(e=>e.ticker===s)).filter(Boolean))}finally{V(!1)}})()},[s.type]),(0,l.useEffect)(()=>{if(h.length>=2){let e=setTimeout(async()=>{K(!0);try{let e=(await (0,E.cG)(h)).map((e,s)=>{let t={ticker:e.ticker,name:e.name,price:e.price,changePercent:e.changePercent,change:e.price*(e.changePercent/100),sector:e.sector,type:"etf"===e.type||"commodity"===e.type?"stock":e.type,geckoId:void 0};return{...t,uniqueId:Z(t)+"-search-".concat(s)}}).filter((e,s,t)=>s===t.findIndex(s=>s.uniqueId===e.uniqueId));B(e)}catch(e){console.error("Search error:",e),B([])}finally{K(!1)}},500);return()=>clearTimeout(e)}B([])},[h]);let X=e=>{f.length<20&&!f.find(s=>s.ticker===e.ticker&&s.type===e.type)&&(v([...f,e]),u(""),I(!1),B([]))},U=e=>{v(f.filter(s=>s.uniqueId!==e))},W=(e,s)=>"crypto"===s&&e<1?"$".concat(e.toFixed(4)):"crypto"===s&&e>1e3?"$".concat(e.toLocaleString()):"$".concat(e.toFixed(2)),Y=(e,s)=>"crypto"===e?(0,a.jsx)(w.Z,{className:"h-3 w-3"}):(null==s?void 0:s.includes("Bonds"))||(null==s?void 0:s.includes("ETF"))||(null==s?void 0:s.includes("Precious Metals"))||(null==s?void 0:s.includes("Commodities"))?(0,a.jsx)(x.Z,{className:"h-3 w-3"}):(0,a.jsx)(o.Z,{className:"h-3 w-3"}),_=(e,s)=>"crypto"===e?"Crypto":(null==s?void 0:s.includes("ETF"))?"ETF":(null==s?void 0:s.includes("Bonds"))?"Bond":(null==s?void 0:s.includes("Precious Metals"))?"Gold":(null==s?void 0:s.includes("Commodities"))?"Commodity":"Stock",J=e=>{let{asset:s,isSelected:t,onAdd:l,onRemove:i,allocation:n}=e;return(0,a.jsx)(c,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[Y(s.type,s.sector),(0,a.jsx)("span",{className:"text-sm font-medium",children:s.ticker}),(0,a.jsx)(p,{variant:"secondary",className:"text-xs",children:_(s.type,s.sector)}),n&&(0,a.jsxs)(p,{variant:"outline",className:"text-xs",children:[n,"%"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1 truncate",children:s.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2 truncate",children:s.sector}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:W(s.price,s.type)}),s.price>0&&(0,a.jsxs)("span",{className:"text-xs ".concat(s.changePercent>=0?"text-green-600":"text-red-600"),children:[s.changePercent>=0?"+":"",s.changePercent.toFixed(2),"%"]})]})]}),(0,a.jsx)("div",{className:"ml-2 flex-shrink-0",children:t?(0,a.jsx)(r,{size:"sm",variant:"outline",onClick:i,className:"h-8 w-8 p-0",children:(0,a.jsx)(k.Z,{className:"h-4 w-4"})}):(0,a.jsx)(r,{size:"sm",onClick:l,disabled:f.length>=20,className:"h-8 w-8 p-0",children:(0,a.jsx)(C.Z,{className:"h-4 w-4"})})})]})})},ee=R[s.type],es=f.filter(e=>"stock"===e.type).length,et=f.filter(e=>"crypto"===e.type).length,ea=f.filter(e=>{var s,t,a,l;return(null===(s=e.sector)||void 0===s?void 0:s.includes("ETF"))||(null===(t=e.sector)||void 0===t?void 0:t.includes("Bonds"))||(null===(a=e.sector)||void 0===a?void 0:a.includes("Precious Metals"))||(null===(l=e.sector)||void 0===l?void 0:l.includes("Commodities"))}).length;return L?(0,a.jsx)("div",{className:"w-full min-h-screen bg-background flex items-center justify-center",style:{width:"393px",height:"852px"},children:(0,a.jsxs)("div",{className:"text-center px-4",children:[(0,a.jsx)(S.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),(0,a.jsx)("h2",{className:"text-lg mb-2",children:"실시간 시세 로딩 중..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"CoinGecko API에서 최신 가격을 가져오고 있습니다."})]})}):(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:t,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg truncate",children:"포트폴리오 추천"}),(0,a.jsx)(p,{className:"".concat(s.color," text-xs mt-1"),children:s.title})]})]}),(0,a.jsxs)(c,{className:"mb-4",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"h-4 w-4 text-primary flex-shrink-0"}),(0,a.jsx)(n,{className:"text-base truncate",children:ee.name})]})}),(0,a.jsxs)(d,{className:"pt-0",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:ee.description}),(0,a.jsxs)(p,{variant:"outline",className:"text-xs",children:["by ",ee.creator]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 p-2 bg-muted rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["success"===$?(0,a.jsx)(S.Z,{className:"h-3 w-3 text-green-600"}):"fallback"===$?(0,a.jsx)(T.Z,{className:"h-3 w-3 text-orange-500"}):(0,a.jsx)(T.Z,{className:"h-3 w-3 text-red-500"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"success"===$?"CoinGecko API 연결됨":"fallback"===$?"Mock 데이터 사용 중":"가격 로딩 실패"})]}),q&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:q.toLocaleTimeString()})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(P.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(b,{placeholder:"주식, ETF, 코인 검색...",value:h,onChange:e=>{u(e.target.value),I(e.target.value.length>0)},className:"pl-9"}),z&&(0,a.jsx)(S.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),A&&h.length>=2&&(0,a.jsx)("div",{className:"mt-2 space-y-2 max-h-60 overflow-y-auto",children:z?(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"검색 중..."})}):y.length>0?y.map(e=>(0,a.jsx)(J,{asset:e,isSelected:f.some(s=>s.ticker===e.ticker&&s.type===e.type),onAdd:()=>X(e)},e.uniqueId)):(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"검색 결과가 없습니다"})})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-base",children:"추천 포트폴리오"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-1 flex-wrap",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["주식 ",es-ea,"개"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"•"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["ETF ",ea,"개"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"•"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["코인 ",et,"개"]})]})]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[f.length,"/20"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,a.jsx)(J,{asset:e,isSelected:!0,onRemove:()=>U(e.uniqueId),allocation:ee.allocation[e.ticker]},e.uniqueId))})]})]})})}),(0,a.jsx)("div",{className:"flex-shrink-0 px-4 pb-4 pt-2 bg-background border-t border-border",children:(0,a.jsxs)(r,{className:"w-full h-12",onClick:()=>{m(f,R[s.type].allocation)},disabled:0===f.length,children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"다음: 비중 분석"]})})]})})}let A=e=>{let{value:s,onValueChange:t,max:l=100,min:r=0,step:c=1,className:i=""}=e;return(0,a.jsx)("div",{className:"relative flex items-center ".concat(i),children:(0,a.jsx)("input",{type:"range",min:r,max:l,step:c,value:s[0]||0,onChange:e=>{t([Number(e.target.value)])},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})})},I=l.createContext({value:"",onValueChange:()=>{},isOpen:!1,setIsOpen:()=>{}}),L=e=>{let{value:s="",onValueChange:t=()=>{},children:r}=e,[c,i]=l.useState(!1);return(0,a.jsx)(I.Provider,{value:{value:s,onValueChange:t,isOpen:c,setIsOpen:i},children:(0,a.jsx)("div",{className:"relative",children:r})})},V=l.forwardRef((e,s)=>{let{className:t="",children:r,...c}=e,{isOpen:i,setIsOpen:n}=l.useContext(I);return(0,a.jsxs)("button",{ref:s,className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),onClick:()=>n(!i),...c,children:[r,(0,a.jsx)("svg",{className:"h-4 w-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})});V.displayName="SelectTrigger";let z=e=>{let{placeholder:s}=e,{value:t}=l.useContext(I);return(0,a.jsx)("span",{children:t||s})},K=e=>{let{children:s}=e,{isOpen:t}=l.useContext(I);return t?(0,a.jsx)("div",{className:"absolute top-full left-0 z-50 mt-1 w-full rounded-md border border-gray-300 bg-white py-1 shadow-lg",children:s}):null},G=e=>{let{value:s,children:t}=e,{onValueChange:r,setIsOpen:c}=l.useContext(I);return(0,a.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:()=>{r(s),c(!1)},children:t})};var O=t(3633),q=t(6111),Q=t(4715),$=t(8660),H=t(2054),X=t(4489),U=t(4570);let W=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#64748B"],Y=["#3B82F6","#1D4ED8","#2563EB","#1E40AF","#EF4444","#DC2626","#B91C1C","#991B1B","#10B981","#059669","#047857","#065F46","#F59E0B","#D97706","#B45309","#92400E","#8B5CF6","#7C3AED","#6D28D9","#5B21B6","#F97316","#EA580C","#C2410C","#9A3412","#06B6D4","#0891B2","#0E7490","#155E75","#84CC16","#65A30D","#4D7C0F","#365314"];function _(e){var s;let{investorProfile:t,selectedAssets:o,initialAllocations:m,onBack:h,onSave:u}=e,[j,g]=(0,l.useState)(m),[f,v]=(0,l.useState)("sector"),[y,w]=(0,l.useState)(1e4),[k,S]=(0,l.useState)(1e3),[F,T]=(0,l.useState)("monthly"),[P,E]=(0,l.useState)(1380),D=e=>{let s=Object.values(e).reduce((e,s)=>e+s,0);if(0===s)return e;let t={};return Object.entries(e).forEach(e=>{let[a,l]=e;t[a]=l/s*100}),t},R=(e,s)=>{g(D({...j,[e]:s}))},Z=e=>{w(s=>s+e)},B=e=>{S(s=>s+e)},I=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),_=e=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e*P),J=[{value:"monthly",label:"매월"},{value:"quarterly",label:"분기별 (3개월)"},{value:"semiannual",label:"반기별 (6개월)"},{value:"annual",label:"연간"}],ee=(()=>{let e={};return o.forEach(s=>{let t=j[s.ticker]||0;e[s.sector]?e[s.sector]+=t:e[s.sector]=t}),Object.entries(e).filter(e=>{let[s,t]=e;return t>0}).map((e,s)=>{let[t,a]=e;return{name:t,value:Math.round(100*a)/100,color:W[s%W.length]}}).sort((e,s)=>s.value-e.value)})(),es=o.map((e,s)=>({name:e.name,ticker:e.ticker,value:Math.round(100*(j[e.ticker]||0))/100,color:Y[s%Y.length],sector:e.sector})).filter(e=>e.value>0).sort((e,s)=>s.value-e.value);return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:h,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg truncate",children:"포트폴리오 분석"}),(0,a.jsx)(p,{className:"".concat(t.color," text-xs mt-1"),children:t.title})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsxs)(r,{variant:"sector"===f?"default":"outline",size:"sm",onClick:()=>v("sector"),className:"flex-1",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"섹터별"]}),(0,a.jsxs)(r,{variant:"asset"===f?"default":"outline",size:"sm",onClick:()=>v("asset"),className:"flex-1",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4 mr-2"}),"종목별"]})]}),(0,a.jsxs)(c,{className:"mb-6",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"sector"===f?"섹터별 비중":"종목별 비중"})}),(0,a.jsxs)(d,{children:[(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)($.u,{children:[(0,a.jsx)(H.b,{data:"sector"===f?ee:es,cx:"50%",cy:"50%",labelLine:!1,label:e=>e.value>5?"".concat(e.value.toFixed(1),"%"):"",outerRadius:80,fill:"#8884d8",dataKey:"value",children:("sector"===f?ee:es).map((e,s)=>(0,a.jsx)(X.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(U.u,{content:(0,a.jsx)(e=>{let{active:s,payload:t}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-2 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.value.toFixed(2),"%"]})]})}return null},{})})]})})}),(0,a.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-2",children:("sector"===f?ee:es).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground flex-1 truncate",children:"asset"===f?"".concat(e.ticker," - ").concat(e.name):e.name}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[e.value.toFixed(1),"%"]})]},s))})]})]}),(0,a.jsxs)(c,{className:"mb-6",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n,{className:"text-base",children:"비중 조정"}),(0,a.jsx)(r,{variant:"outline",size:"sm",onClick:()=>{let e=100/o.length,s={};o.forEach(t=>{s[t.ticker]=e}),g(s)},className:"text-xs",children:"균등분배"})]})}),(0,a.jsx)(d,{className:"space-y-4",children:o.map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.ticker}),(0,a.jsx)(p,{variant:"secondary",className:"text-xs",children:e.sector})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium min-w-[50px] text-right",children:[(j[e.ticker]||0).toFixed(1),"%"]})})]}),(0,a.jsx)(A,{value:[j[e.ticker]||0],onValueChange:s=>R(e.ticker,s[0]),max:100,step:.1,className:"w-full"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.name})]},e.uniqueId))})]}),(0,a.jsxs)(c,{className:"mb-6",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n,{className:"text-base",children:"투자 설정"}),(0,a.jsxs)(p,{variant:"outline",className:"text-xs",children:["USD/KRW ",P.toLocaleString()]})]})}),(0,a.jsxs)(d,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q.Z,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("label",{className:"text-sm font-medium",children:"원금 투자금액"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(q.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(b,{type:"number",value:y,onChange:e=>w(Number(e.target.value)||0),className:"pl-9",min:"0",step:"100"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["≈ ",_(y)," (환율: ",P.toLocaleString(),"원)"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"빠른 추가"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)(r,{variant:"outline",size:"sm",onClick:()=>Z(1e3),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$1,000"]}),(0,a.jsxs)(r,{variant:"outline",size:"sm",onClick:()=>Z(1e4),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$10,000"]}),(0,a.jsxs)(r,{variant:"outline",size:"sm",onClick:()=>Z(1e5),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$100,000"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"리밸런싱 설정"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-muted-foreground",children:"추가 투자 금액"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(q.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(b,{type:"number",value:k,onChange:e=>S(Number(e.target.value)||0),className:"pl-9",min:"0",step:"100"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["≈ ",_(k)]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"빠른 추가"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)(r,{variant:"outline",size:"sm",onClick:()=>B(500),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$500"]}),(0,a.jsxs)(r,{variant:"outline",size:"sm",onClick:()=>B(1e3),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$1,000"]}),(0,a.jsxs)(r,{variant:"outline",size:"sm",onClick:()=>B(5e3),className:"text-xs",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"$5,000"]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-muted-foreground",children:"리밸런싱 주기"}),(0,a.jsxs)(L,{value:F,onValueChange:T,children:[(0,a.jsx)(V,{children:(0,a.jsx)(z,{})}),(0,a.jsx)(K,{children:J.map(e=>(0,a.jsx)(G,{value:e.value,children:e.label},e.value))})]})]})]})]})]}),(0,a.jsx)(c,{className:"mb-6",children:(0,a.jsxs)(d,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:I(y)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:_(y)}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"총 투자금액"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:o.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"보유 종목"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-border",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-lg font-medium",children:[Object.values(j).reduce((e,s)=>e+s,0).toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"총 비중"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:I(k)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:_(k)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[null===(s=J.find(e=>e.value===F))||void 0===s?void 0:s.label," 추가"]})]})]})]})})]})})}),(0,a.jsxs)("div",{className:"flex-shrink-0 px-4 pb-4 pt-2 bg-background border-t border-border space-y-3",children:[(0,a.jsxs)(r,{className:"w-full h-12",onClick:()=>{u(j,{initialInvestment:y,rebalancingAmount:k,rebalancingPeriod:F,exchangeRate:P})},children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"다음: 대시보드 보기"]}),(0,a.jsx)(r,{variant:"outline",className:"w-full h-12",onClick:()=>{u(j,{initialInvestment:y,rebalancingAmount:k,rebalancingPeriod:F,exchangeRate:P})},children:"포트폴리오 저장"}),(0,a.jsx)(r,{variant:"ghost",className:"w-full h-12",onClick:h,children:"뒤로 가기"})]})]})})}let J=e=>{let{open:s,onOpenChange:t,children:l}=e;return s?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>null==t?void 0:t(!1)}),(0,a.jsx)("div",{className:"relative z-10",children:l})]}):null},ee=l.forwardRef((e,s)=>{let{className:t="",children:l,...r}=e;return(0,a.jsx)("div",{ref:s,className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg mx-4 ".concat(t),...r,children:l})});ee.displayName="DialogContent";let es=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("div",{ref:s,className:"flex flex-col space-y-1.5 text-center sm:text-left ".concat(t),...l})});es.displayName="DialogHeader";let et=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("h2",{ref:s,className:"text-lg font-semibold leading-none tracking-tight ".concat(t),...l})});et.displayName="DialogTitle";let ea=l.forwardRef((e,s)=>{let{className:t="",...l}=e;return(0,a.jsx)("p",{ref:s,className:"text-sm text-gray-600 ".concat(t),...l})});ea.displayName="DialogDescription";let el=e=>{let{children:s}=e;return(0,a.jsx)(a.Fragment,{children:s})},er=l.createContext({value:"",onValueChange:()=>{}}),ec=e=>{let{value:s,defaultValue:t,onValueChange:r,className:c="",children:i}=e,[n,d]=l.useState(t||s||""),o=void 0!==s?s:n;return(0,a.jsx)(er.Provider,{value:{value:o,onValueChange:r||d},children:(0,a.jsx)("div",{className:c,children:i})})},ei=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 ".concat(s),children:t})},en=e=>{let{value:s,className:t="",children:r}=e,{value:c,onValueChange:i}=l.useContext(er),n=c===s;return(0,a.jsx)("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all ".concat(n?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"," ").concat(t),onClick:()=>i(s),children:r})},ed=e=>{let{value:s,className:t="",children:r}=e,{value:c}=l.useContext(er);return c!==s?null:(0,a.jsx)("div",{className:"mt-2 ".concat(t),children:r})};var eo=t(2042),ex=t(9810),em=t(3416),eh=t(3346),eu=t(7089),ej=t(2542),eg=t(9819),ep=t(723),eN=t(7017),ef=t(5615),ev=t(8793),ey=t(1712);let eb=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#64748B"];function ew(e){var s;let{investorProfile:t,selectedAssets:x,allocations:m,investmentSettings:u,onBack:j,onEdit:N,onNewPortfolio:f,onAdvancedAnalysis:v,onRiskManagement:y}=e,[b,w]=(0,l.useState)({totalValue:0,dailyChange:0,dailyChangePercent:0,expectedReturn:0,riskLevel:0,sharpeRatio:0}),[k,C]=(0,l.useState)([]),[F,T]=(0,l.useState)(!0),[P,E]=(0,l.useState)(new Date),[D,R]=(0,l.useState)(!1),[Z,B]=(0,l.useState)("1y"),[A,I]=(0,l.useState)([]),[L,V]=(0,l.useState)(null),[z,K]=(0,l.useState)(!1),[G,$]=(0,l.useState)(!1),[H,X]=(0,l.useState)("6m"),[W,Y]=(0,l.useState)([]),[_,er]=(0,l.useState)(null),[ed,ew]=(0,l.useState)(!1),ek={"1y":365,"3y":1095,"10y":3650},eC={monthly:30,quarterly:90,semiannual:180,annual:365};(0,l.useEffect)(()=>{x.length>0&&(()=>{T(!0);let e=u.initialInvestment,s=0,t=0,a=0;x.forEach(l=>{var r,c,i;let n=m[l.ticker]||0;s+=n/100*e;let d=0,o=0;"crypto"===l.type?(d=15+20*Math.random(),o=.8+.2*Math.random()):(null===(r=l.sector)||void 0===r?void 0:r.includes("Technology"))?(d=10+15*Math.random(),o=.6+.3*Math.random()):(null===(c=l.sector)||void 0===c?void 0:c.includes("Bonds"))?(d=2+4*Math.random(),o=.1+.2*Math.random()):(null===(i=l.sector)||void 0===i?void 0:i.includes("Precious Metals"))?(d=5+8*Math.random(),o=.3+.3*Math.random()):(d=6+10*Math.random(),o=.4+.3*Math.random()),t+=n/100*d,a+=n/100*o});let l=x.reduce((e,s)=>e+(m[s.ticker]||0)/100*s.changePercent,0),r=l/100*s,c=(t-2.5)/(100*a);w({totalValue:s+r,dailyChange:r,dailyChangePercent:l,expectedReturn:t,riskLevel:100*a,sharpeRatio:c});let i=[],n=(e,s)=>(e+s.toString()).split("").reduce((e,s)=>e+s.charCodeAt(0),0),d=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)},o={};x.forEach(e=>{let s=[],t=e.price;for(let c=29;c>=0;c--){var a,l,r;let i=0;i="crypto"===e.type?.05:(null===(a=e.sector)||void 0===a?void 0:a.includes("Technology"))?.025:(null===(l=e.sector)||void 0===l?void 0:l.includes("Bonds"))?.005:(null===(r=e.sector)||void 0===r?void 0:r.includes("Precious Metals"))?.02:.018;let o=(d(n(e.ticker,c))-.5)*2;0===c?t/=1+e.changePercent/100:t/=1+o*i,s.unshift(t)}o[e.ticker]=s});let h=[];for(let s=0;s<30;s++){let t=0;x.forEach(a=>{let l=m[a.ticker]||0,r=o[a.ticker][s],c=l/100*e/a.price*r;t+=c}),h.push(t)}for(let e=0;e<30;e++){let s=new Date;s.setDate(s.getDate()-(29-e));let t=h[e],a=e>0?h[e-1]:t,l=(t-a)/a*100;i.push({date:s.toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),value:t,change:isNaN(l)?0:l})}C(i),E(new Date),T(!1)})()},[x,m,u]);let eS=async e=>{K(!0),B(e);let s=ek[e],t=eC[u.rebalancingPeriod]||30;try{let a=[],l=u.initialInvestment,r=u.initialInvestment,c=l,i=l,n=0,d=0,o=e=>{var s,t,a;return"crypto"===e.type?.25+(Math.random()-.5)*.6:(null===(s=e.sector)||void 0===s?void 0:s.includes("Technology"))?.12+(Math.random()-.5)*.3:(null===(t=e.sector)||void 0===t?void 0:t.includes("Bonds"))?.03+(Math.random()-.5)*.06:(null===(a=e.sector)||void 0===a?void 0:a.includes("Precious Metals"))?.06+(Math.random()-.5)*.2:.08+(Math.random()-.5)*.2},h=0,j=0;x.forEach(e=>{var s;let t=(m[e.ticker]||0)/100,a=o(e),l="crypto"===e.type?.6:(null===(s=e.sector)||void 0===s?void 0:s.includes("Bonds"))?.05:.2;h+=t*a,j+=t*l});for(let o=s;o>=0;o--){let x=new Date;x.setDate(x.getDate()-o);let m=o%t==0&&o!==s;m&&(l+=u.rebalancingAmount,r+=u.rebalancingAmount);let g=h/365+(Math.random()-.5)*j*.05,p=m?l-u.rebalancingAmount:l,N=p*g;l=p+N+(m?u.rebalancingAmount:0),c=Math.max(c,l),i=Math.min(i,l);let f=(c-l)/c*100,v=(l-r)/u.initialInvestment*100;n=Math.max(n,f),d=Math.max(d,v),a.push({date:x.toLocaleDateString("ko-KR",{year:"2-digit",month:"short",day:"10y"===e?void 0:"numeric"}),value:l,change:100*g,isRebalancing:m,totalInvested:r})}let g=(l-r)/u.initialInvestment*100,p=Math.pow(l/r,1/(s/365))-1,N=a.map(e=>e.change/100),f=N.reduce((e,s)=>e+s,0)/N.length,v=Math.sqrt(N.reduce((e,s)=>e+Math.pow(s-f,2),0)/N.length)*Math.sqrt(252)*100,y=x.filter(e=>"crypto"===e.type&&["DOGE","SOL","AVAX","MATIC"].includes(e.ticker)),b="";"10y"===e&&y.length>0?b="".concat(y.map(e=>e.ticker).join(", ")," 등 일부 자산은 2018년 이후 데이터만 사용되었습니다."):"3y"===e&&y.length>0&&(b="".concat(y.map(e=>e.ticker).join(", ")," 등 일부 자산은 2020년 이후 데이터만 사용되었습니다."));let w={totalReturn:g,annualizedReturn:100*p,maxDrawdown:n,maxGain:d,volatility:v,sharpeRatio:(p-.025)/(v/100),dataAvailabilityWarning:b};I(a),V(w)}catch(e){console.error("Backtest error:",e)}finally{K(!1)}},eM=()=>(x.map(e=>e.ticker).sort().join("")+Object.keys(m).sort().map(e=>m[e]).join("")+"".concat(u.initialInvestment).concat(u.rebalancingAmount).concat(u.rebalancingPeriod)).split("").reduce((e,s)=>(e=(e<<5)-e+s.charCodeAt(0))&e,0),eF=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)},eT=async e=>{ew(!0),X(e);let s="6m"===e?180:365;try{let e=eM(),t={interestRate:4.5+(eF(e+1)-.5)*2,unemploymentRate:3.8+(eF(e+2)-.5)*1,inflation:2.1+(eF(e+3)-.5)*1.5,gdpGrowth:2.8+(eF(e+4)-.5)*2},a=b.expectedReturn/100,l=b.riskLevel/100*.3,r=(5-t.interestRate)*.02,c=(4-t.unemploymentRate)*.015,i=(2.5-t.inflation)*.01,n=(t.gdpGrowth-2.5)*.025,d=a+r+c+i+n,o=[],x=u.initialInvestment;for(let s=1095;s>=0;s--){let t=new Date;t.setDate(t.getDate()-s);let r=eF(e+s+1e3),c=.001*Math.sin(s/365*2*Math.PI),i=a/365+(r-.5)*l*.8+c;x*=1+i,o.push({date:0===s?"현재":t.toLocaleDateString("ko-KR",{year:s>365?"2-digit":void 0,month:"short",day:"numeric"}),value:x,change:100*i,isPrediction:!1})}let m=o.length-365-1,h=o.slice(m,-1),j=[],g=h[0].value,p=0,N=0;for(let s=1;s<h.length;s++){let t=1-s/365*.1,a=eF(e+s+2e3),l=d/365+(a-.5)*.015*t;g*=1+l;let r=h[s].value,c=Math.abs((g-r)/r);p+=c,N++,j.push({date:h[s].date,value:g,change:100*l,isPrediction:!0,confidence:Math.max(50,85-s/365*30)})}let f=p/N,v=Math.max(65,95-100*f),y=o[o.length-1].value,w=y,k=1-(Math.abs(t.interestRate-4.5)/10+Math.abs(t.unemploymentRate-3.8)/10+Math.abs(t.inflation-2.1)/10),C=Math.min(95,v*k);for(let t=1;t<=s;t++){let a=new Date;a.setDate(a.getDate()+t);let l=eF(e+t+3e3),r=1-t/s*.15,c=d/365+(l-.5)*.02*(1-C/100)*r;w*=1+c;let i=t/s*.4,n=Math.max(45,C-100*i);o.push({date:a.toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),value:w,change:100*c,isPrediction:!0,confidence:n})}let S=[],M=o.slice(0,1096),F=Math.max(1,Math.floor(M.length/150));for(let e=0;e<M.length;e+=F)S.push(M[e]);let T=o.slice(1096),P=Math.max(1,Math.floor(T.length/50));for(let e=0;e<T.length;e+=P)S.push(T[e]);let E=o[1095],D=o[o.length-1];S.includes(E)||S.push(E),S.includes(D)||S.push(D),S.sort((e,s)=>{if("현재"===e.date)return 1095;if("현재"===s.date)return -1095;let t=!e.isPrediction,a=!s.isPrediction;return t&&a?0:t&&!a?-1:!t&&a?1:0});let R=(w-y)/y*100;Y(S),er({predictedReturn:R,confidence:C,modelAccuracy:v,economicFactors:t})}catch(e){console.error("Forecast error:",e)}finally{ew(!1)}},eP=(()=>{let e={};return x.forEach(s=>{let t=m[s.ticker]||0;e[s.sector]?e[s.sector]+=t:e[s.sector]=t}),Object.entries(e).filter(e=>{let[s,t]=e;return t>0}).map((e,s)=>{let[t,a]=e;return{name:t,value:Math.round(100*a)/100,color:eb[s%eb.length]}}).sort((e,s)=>s.value-e.value)})(),eE=x.filter(e=>"stock"===e.type).length,eD=x.filter(e=>"crypto"===e.type).length,eR=x.filter(e=>{var s,t,a,l;return(null===(s=e.sector)||void 0===s?void 0:s.includes("ETF"))||(null===(t=e.sector)||void 0===t?void 0:t.includes("Bonds"))||(null===(a=e.sector)||void 0===a?void 0:a.includes("Precious Metals"))||(null===(l=e.sector)||void 0===l?void 0:l.includes("Commodities"))}).length,eZ=(s=b.riskLevel)<20?{text:"매우 낮음",color:"text-green-600"}:s<40?{text:"낮음",color:"text-green-500"}:s<60?{text:"보통",color:"text-yellow-500"}:s<80?{text:"높음",color:"text-orange-500"}:{text:"매우 높음",color:"text-red-500"};return F?(0,a.jsx)("div",{className:"w-full min-h-screen bg-background flex items-center justify-center",style:{width:"393px",height:"852px"},children:(0,a.jsxs)("div",{className:"text-center px-4",children:[(0,a.jsx)(S.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),(0,a.jsx)("h2",{className:"text-lg mb-2",children:"포트폴리오 분석 중..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"수익률과 리스크를 계산하고 있습니다."})]})}):(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-8",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:j,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg truncate",children:"포트폴리오 대시보드"}),(0,a.jsx)(p,{className:"".concat(t.color," text-xs mt-1"),children:t.title})]}),(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:N,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(eo.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)(c,{className:"mb-4",children:(0,a.jsx)(d,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(q.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"총 포트폴리오 가치"})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["$",b.totalValue.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[b.dailyChange>=0?(0,a.jsx)(o.Z,{className:"h-4 w-4 text-green-600"}):(0,a.jsx)(ex.Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)("span",{className:"text-sm ".concat(b.dailyChange>=0?"text-green-600":"text-red-600"),children:[b.dailyChange>=0?"+":"","$",b.dailyChange.toFixed(2),"(",b.dailyChangePercent>=0?"+":"",b.dailyChangePercent.toFixed(2),"%)"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"오늘"})]})]})})}),(0,a.jsxs)(c,{className:"mb-4",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"최근 30일 성과"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ep.w,{data:k,children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(ef.K,{dataKey:"date",tick:{fontSize:12},stroke:"#6b7280"}),(0,a.jsx)(ev.B,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:e=>"$".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(U.u,{content:(0,a.jsx)(e=>{let{active:s,payload:t,label:l}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-2 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:l}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.value.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm ".concat(e.change>=0?"text-green-600":"text-red-600"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]})]})}return null},{})}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"value",stroke:"#3B82F6",strokeWidth:2,dot:!1})]})})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[v&&(0,a.jsxs)(r,{onClick:v,variant:"outline",className:"h-12 flex flex-col items-center justify-center gap-1",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"고급 분석"})]}),y&&(0,a.jsxs)(r,{onClick:y,variant:"outline",className:"h-12 flex flex-col items-center justify-center gap-1",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"리스크 관리"})]}),(0,a.jsxs)(J,{open:D,onOpenChange:R,children:[(0,a.jsx)(el,{asChild:!0,children:(0,a.jsxs)(r,{variant:"outline",className:"h-12 flex flex-col items-center justify-center gap-1",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"백테스트"})]})}),(0,a.jsxs)(ee,{className:"w-[360px] max-h-[600px] overflow-y-auto",children:[(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{className:"text-base",children:"포트폴리오 백테스트"}),(0,a.jsx)(ea,{className:"text-sm text-muted-foreground",children:"선택한 기간 동안의 포트폴리오 성과를 시뮬레이션합니다. 리밸런싱 효과와 수익률을 분석할 수 있습니다."})]}),(0,a.jsxs)(ec,{value:Z,onValueChange:e=>B(e),className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(en,{value:"1y",className:"text-xs",children:"1년"}),(0,a.jsx)(en,{value:"3y",className:"text-xs",children:"3년"}),(0,a.jsx)(en,{value:"10y",className:"text-xs",children:"10년"})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,a.jsx)(r,{onClick:()=>eS(Z),disabled:z,className:"w-full",children:z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"백테스트 실행 중..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.Z,{className:"h-4 w-4 mr-2"}),"1y"===Z?"1년":"3y"===Z?"3년":"10년"," 백테스트 시작"]})}),L&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ep.w,{data:A,children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(ef.K,{dataKey:"date",tick:{fontSize:10},stroke:"#6b7280"}),(0,a.jsx)(ev.B,{tick:{fontSize:10},stroke:"#6b7280",tickFormatter:e=>"".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(U.u,{content:e=>{let{active:s,payload:t,label:l}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-2 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:l}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.value.toLocaleString()]}),e.isRebalancing&&(0,a.jsxs)("p",{className:"text-xs text-blue-600 font-medium",children:["리밸런싱: +$",u.rebalancingAmount.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm ".concat(e.change>=0?"text-green-600":"text-red-600"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]})]})}return null}}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"value",stroke:"#10B981",strokeWidth:2,dot:!1})]})})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"총 수익률"}),(0,a.jsxs)("p",{className:"text-lg font-bold ".concat(L.totalReturn>=0?"text-green-600":"text-red-600"),children:[L.totalReturn>=0?"+":"",L.totalReturn.toFixed(1),"%"]})]})})}),(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"연평균 수익률"}),(0,a.jsxs)("p",{className:"text-lg font-bold ".concat(L.annualizedReturn>=0?"text-green-600":"text-red-600"),children:[L.annualizedReturn>=0?"+":"",L.annualizedReturn.toFixed(1),"%"]})]})})}),(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"최대 낙폭"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-red-600",children:["-",L.maxDrawdown.toFixed(1),"%"]})]})})}),(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"최대 상승률"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["+",L.maxGain.toFixed(1),"%"]})]})})})]})]})]})]})]})]}),(0,a.jsxs)(J,{open:G,onOpenChange:$,children:[(0,a.jsx)(el,{asChild:!0,children:(0,a.jsxs)(r,{variant:"outline",className:"h-12 flex flex-col items-center justify-center gap-1",children:[(0,a.jsx)(eu.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"미래예측"})]})}),(0,a.jsxs)(ee,{className:"w-[360px] max-h-[600px] overflow-y-auto",children:[(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{className:"text-base",children:"딥러닝 미래예측"}),(0,a.jsx)(ea,{className:"text-sm text-muted-foreground",children:"3년간의 과거 데이터를 학습한 LSTM 모델로 미래 성과를 예측합니다. 1년 전부터의 예측 정확도를 검증하여 모델 신뢰성을 확인했습니다."})]}),(0,a.jsxs)(ec,{value:H,onValueChange:e=>X(e),className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(en,{value:"6m",className:"text-xs",children:"6개월"}),(0,a.jsx)(en,{value:"1y",className:"text-xs",children:"1년"})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,a.jsx)(r,{onClick:()=>eT(H),disabled:ed,className:"w-full",children:ed?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"딥러닝 분석 중..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.Z,{className:"h-4 w-4 mr-2"}),"6m"===H?"3년 6개월":"4년"," 딥러닝 분석"]})}),_&&W.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ep.w,{data:W,children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(ef.K,{dataKey:"date",tick:{fontSize:10},stroke:"#6b7280"}),(0,a.jsx)(ev.B,{tick:{fontSize:10},stroke:"#6b7280",tickFormatter:e=>"".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(U.u,{content:e=>{let{active:s,payload:t,label:l}=e;if(s&&t&&t.length){var r;let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-2 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:l}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.value.toLocaleString()]}),e.isPrediction&&(0,a.jsxs)("p",{className:"text-xs text-blue-600 font-medium",children:["예측 신뢰도: ",null===(r=e.confidence)||void 0===r?void 0:r.toFixed(0),"%"]}),(0,a.jsxs)("p",{className:"text-sm ".concat(e.change>=0?"text-green-600":"text-red-600"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]}),e.isPrediction&&(0,a.jsx)("p",{className:"text-xs text-purple-600",children:"AI 예측"})]})}return null}}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"value",stroke:"#10B981",strokeWidth:2,connectNulls:!1,dot:!1,data:W.filter(e=>!e.isPrediction)},"historical-line"),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"value",stroke:"#8B5CF6",strokeWidth:2,strokeDasharray:"5 5",connectNulls:!1,dot:!1,data:W.filter(e=>e.isPrediction)},"prediction-line")]})})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"예측 수익률"}),(0,a.jsxs)("p",{className:"text-lg font-bold ".concat(_.predictedReturn>=0?"text-green-600":"text-red-600"),children:[_.predictedReturn>=0?"+":"",_.predictedReturn.toFixed(1),"%"]})]})})}),(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"예측 신뢰도"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:[_.confidence.toFixed(0),"%"]})]})})})]})]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"예상 수익률"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold text-green-600",children:[b.expectedReturn.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"연간"})]})})}),(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ej.Z,{className:"h-4 w-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"리스크 수준"})]}),(0,a.jsx)("div",{className:"text-xl font-bold ".concat(eZ.color),children:eZ.text}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b.riskLevel.toFixed(0),"%"]})]})})})]}),(0,a.jsxs)(c,{className:"mb-4",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"섹터별 배분"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"space-y-3",children:eP.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.name}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.value.toFixed(1),"%"]})]}),(0,a.jsx)(g,{value:e.value,className:"h-2"})]},s))})})]}),(0,a.jsxs)(c,{className:"mb-6",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"자산 구성"})}),(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-600",children:eE}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"주식"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-orange-600",children:eD}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"암호화폐"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-600",children:eR}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"ETF/기타"})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(r,{onClick:f,className:"w-full",size:"lg",children:[(0,a.jsx)(eg.Z,{className:"h-4 w-4 mr-2"}),"포트폴리오 저장"]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["마지막 업데이트: ",P.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})]})})]})]})})})})})}var ek=t(1601),eC=t(2089),eS=t(9684);function eM(e){let{onBack:s,onCreateNew:t,onViewPortfolio:i,currentUserPortfolios:n,onEducationCenter:x,onPersonalizedRecommendations:m,onExternalIntegrations:h}=e,[j,g]=(0,l.useState)("my"),N=e=>"$".concat(Math.abs(e).toLocaleString());return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"포트폴리오 둘러보기"})]}),(0,a.jsxs)("div",{className:"flex space-x-1 mb-6 bg-muted p-1 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>g("my"),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ".concat("my"===j?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"내 포트폴리오"}),(0,a.jsx)("button",{onClick:()=>g("public"),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ".concat("public"===j?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"인기 포트폴리오"})]}),"my"===j?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c,{className:"border-dashed cursor-pointer hover:bg-muted/50 transition-colors",onClick:t,children:(0,a.jsx)(d,{className:"pt-6 text-center",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(C.Z,{className:"h-6 w-6 text-primary-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"새 포트폴리오 만들기"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"투자 성향 분석부터 시작하세요"})]})]})})}),n.length>0?n.map(e=>(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(e),children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium mb-1",children:e.name}),(0,a.jsx)(p,{className:"".concat(e.investorProfile.color," text-white text-xs mb-2"),children:e.investorProfile.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["생성일: ",e.createdDate]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:N(e.totalValue)}),(0,a.jsxs)("div",{className:"text-sm ".concat(e.dailyChange>=0?"text-green-600":"text-red-600"),children:[e.dailyChange>=0?"+":"",N(e.dailyChange),"(",e.dailyChangePercent>=0?"+":"",e.dailyChangePercent.toFixed(2),"%)"]})]})]})})},e.id)):(0,a.jsx)(c,{className:"text-center py-8",children:(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"아직 포트폴리오가 없습니다"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"첫 번째 포트폴리오를 만들어보세요"})]}),(0,a.jsx)(r,{onClick:t,className:"mt-4",children:"포트폴리오 만들기"})]})})})]}):(0,a.jsx)("div",{className:"space-y-4",children:[{id:"public-1",name:"2024 성장주 집중 투자",investorProfile:{type:"growth",title:"성장 추구형",description:"높은 성장 잠재력을 가진 기업에 투자",characteristics:[],color:"bg-green-600"},assets:[],allocations:{},totalValue:5e4,dailyChange:1250,dailyChangePercent:2.56,createdDate:"2024-12-10",author:{name:"김투자",isVerified:!0},followers:1250,likes:89},{id:"public-2",name:"ESG 지속가능 포트폴리오",investorProfile:{type:"esg",title:"ESG 투자형",description:"환경과 사회적 가치를 중시하는 투자",characteristics:[],color:"bg-emerald-600"},assets:[],allocations:{},totalValue:3e4,dailyChange:-450,dailyChangePercent:-1.48,createdDate:"2024-12-08",author:{name:"박지속",isVerified:!1},followers:867,likes:56},{id:"public-3",name:"방어적 배당주 전략",investorProfile:{type:"dividend",title:"배당 선호형",description:"안정적인 배당 수익을 추구",characteristics:[],color:"bg-blue-600"},assets:[],allocations:{},totalValue:75e3,dailyChange:380,dailyChangePercent:.51,createdDate:"2024-12-05",author:{name:"이안정",isVerified:!0},followers:2100,likes:143},{id:"public-4",name:"암호화폐 & 혁신기술",investorProfile:{type:"crypto",title:"혁신 투자형",description:"새로운 기술과 디지털 자산에 투자",characteristics:[],color:"bg-purple-600"},assets:[],allocations:{},totalValue:25e3,dailyChange:2100,dailyChangePercent:9.17,createdDate:"2024-12-12",author:{name:"최크립토",isVerified:!1},followers:456,likes:78}].map(e=>{var s,t,l;return(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(e),children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.name}),(null===(s=e.author)||void 0===s?void 0:s.isVerified)&&(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xs",children:"✓"})})]}),(0,a.jsx)(p,{className:"".concat(e.investorProfile.color," text-white text-xs mb-2"),children:e.investorProfile.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["by ",null===(t=e.author)||void 0===t?void 0:t.name]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3"}),null===(l=e.followers)||void 0===l?void 0:l.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ek.Z,{className:"h-3 w-3"}),e.likes]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:N(e.totalValue)}),(0,a.jsxs)("div",{className:"text-sm flex items-center gap-1 ".concat(e.dailyChange>=0?"text-green-600":"text-red-600"),children:[e.dailyChange>=0?(0,a.jsx)(o.Z,{className:"h-3 w-3"}):(0,a.jsx)(ex.Z,{className:"h-3 w-3"}),e.dailyChangePercent>=0?"+":"",e.dailyChangePercent.toFixed(2),"%"]})]})]})})},e.id)})}),(0,a.jsxs)("div",{className:"space-y-3 mt-8 mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"추가 서비스"}),(0,a.jsxs)("div",{className:"grid gap-3",children:[x&&(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:x,children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eC.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"투자 교육 센터"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"포트폴리오 이론부터 실전 전략까지"})]})]})})}),m&&(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:m,children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-pink-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eu.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"개인화된 추천"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"AI가 제안하는 맞춤형 투자 전략"})]})]})})}),h&&(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:h,children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eS.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:"외부 서비스 연동"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"계좌 연동, 뉴스 피드, 경제 지표"})]})]})})})]})]})]})})})})})}var eF=t(3488),eT=t(9984),eP=t(1536);function eE(e){return e.reduce((e,s)=>e+s,0)/e.length}function eD(e){let s=eE(e);return Math.sqrt(eE(e.map(e=>Math.pow(e-s,2))))}function eR(e){let s=0,t=e[0];for(let a of e)a>t?t=a:s=Math.max(s,(t-a)/t*100);return s}function eZ(e,s){let t=new Date(e);return Math.ceil(Math.abs(new Date(s).getTime()-t.getTime())/864e5)}function eB(e){let{assets:s,allocations:t,initialInvestment:o,onBack:x}=e,[m,u]=(0,l.useState)("1y"),[j,g]=(0,l.useState)("SPY"),N=(0,l.useMemo)(()=>{let e="1y"===m?365:"3y"===m?1095:1825,a=[],l=o,r=s.reduce((e,s,t)=>e+s.ticker.charCodeAt(0)*(t+1),0),c=0,i=0;s.forEach(e=>{let s=t[e.ticker]/100,a=.08,l=.2;"crypto"===e.type?(a=.3,l=.6):"Technology"===e.sector?(a=.15,l=.3):"Bonds"===e.sector&&(a=.04,l=.05),c+=s*a,i+=s*l});let n=r,d=()=>{let e=1e4*Math.sin(n++);return e-Math.floor(e)};for(let s=e;s>=0;s--){let t=new Date;if(t.setDate(t.getDate()-s),s===e){a.push({date:t.toISOString().split("T")[0],value:l,return:0});continue}let r=c/252+(d()-.5)*i*2/Math.sqrt(252);l*=1+r,a.push({date:t.toISOString().split("T")[0],value:l,return:100*r})}return a},[s,t,o,m]),f=(0,l.useMemo)(()=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1y",s="1y"===e?365:"3y"===e?1095:252,t=new Date;return[{name:"S&P 500",ticker:"SPY",baseReturn:.1,volatility:.16},{name:"NASDAQ 100",ticker:"QQQ",baseReturn:.12,volatility:.22},{name:"KOSPI",ticker:"KOSPI",baseReturn:.08,volatility:.2},{name:"미국 채권",ticker:"AGG",baseReturn:.04,volatility:.05},{name:"금",ticker:"GLD",baseReturn:.06,volatility:.18}].map(e=>{let a;let l=[],r=100,c=(a=e.ticker.split("").reduce((e,s)=>e+s.charCodeAt(0),0)||Math.floor(2147483647*Math.random()),function(){return(a=(1103515245*a+12345)%2147483648)/2147483647});for(let a=s;a>=0;a--){let i=new Date(t);if(i.setDate(i.getDate()-a),a===s){l.push({date:i.toISOString().split("T")[0],value:r,return:0});continue}let n=e.baseReturn/252+(c()-.5)*e.volatility*2/Math.sqrt(252),d=r*(1+n);l.push({date:i.toISOString().split("T")[0],value:d,return:100*n}),r=d}let i=l.slice(1).map(e=>e.return/100),n=(r-100)/100,d=Math.pow(1+n,252/i.length)-1,o=eD(i)*Math.sqrt(252),x=eR(l.map(e=>e.value));return{name:e.name,ticker:e.ticker,data:l,totalReturn:100*n,annualizedReturn:100*d,volatility:100*o,maxDrawdown:x}})})(m),[m]),v=(0,l.useMemo)(()=>f.find(e=>e.ticker===j)||f[0],[f,j]),y=(0,l.useMemo)(()=>(function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.025;e.map(e=>e-t/252),s.map(e=>e-t/252);let a=eE(e),l=eD(e),r=eE(s);eD(s);let c=function(e,s){let t=eE(e),a=eE(s),l=0,r=0;for(let c=0;c<e.length;c++)l+=(e[c]-t)*(s[c]-a),r+=Math.pow(s[c]-a,2);return 0!==r?l/r:1}(e,s),i=e.map((e,t)=>e-s[t]),n=eD(i)*Math.sqrt(252),d=n>0?252*eE(i)/n:0,o=e.reduce((e,s)=>{let t=e.length>0?e[e.length-1]:1;return e.push(t*(1+s)),e},[1]),x=eR(o),m=function(e){let s=0,t=e[0];for(let a of e)a<t?t=a:s=Math.max(s,(a-t)/t*100);return s}(o),h=e.filter(e=>e<0),u=h.length>0?eD(h):l,j=e.filter(e=>e>0).length/e.length*100,g=e.filter(e=>e>0).reduce((e,s)=>e+s,0),p=Math.abs(e.filter(e=>e<0).reduce((e,s)=>e+s,0));return{sharpeRatio:(252*a-t)/(l*Math.sqrt(252)),alpha:100*(252*a-(t+c*(252*r-t))),beta:c,informationRatio:d,trackingError:100*n,calmarRatio:x>0?252*a/(x/100):0,sortinoRatio:(252*a-t)/(u*Math.sqrt(252)),maxDrawdown:x,maxGain:m,winRate:j,profitFactor:p>0?g/p:g>0?10:1}})(N.slice(1).map(e=>e.return/100),v.data.slice(1).map(e=>e.return/100)),[N,v]),b=(0,l.useMemo)(()=>(function(e,s){let t=[],a=new Date;for(let l=0;l<3;l++){let r=a.getFullYear()-l,c="".concat(r,"-01-01"),i="".concat(r,"-12-31"),n=e.filter(e=>e.date>=c&&e.date<=i),d=s.filter(e=>e.date>=c&&e.date<=i);if(n.length>0&&d.length>0){let e=(n[n.length-1].value/n[0].value-1)*100,s=(d[d.length-1].value/d[0].value-1)*100;t.push({period:"".concat(r,"년"),portfolioReturn:e,benchmarkReturn:s,alpha:e-s,relativeReturn:e-s})}}for(let l=0;l<8;l++){let r=new Date(a);r.setMonth(r.getMonth()-3*l);let c=Math.floor(r.getMonth()/3)+1,i=r.getFullYear(),n=new Date(i,(c-1)*3,1),d=new Date(i,3*c,0),o=n.toISOString().split("T")[0],x=d.toISOString().split("T")[0],m=e.filter(e=>e.date>=o&&e.date<=x),h=s.filter(e=>e.date>=o&&e.date<=x);if(m.length>0&&h.length>0){let e=(m[m.length-1].value/m[0].value-1)*100,s=(h[h.length-1].value/h[0].value-1)*100;t.push({period:"".concat(i,"Q").concat(c),portfolioReturn:e,benchmarkReturn:s,alpha:e-s,relativeReturn:e-s})}}return t.reverse()})(N.map(e=>({date:e.date,value:e.value})),v.data.map(e=>({date:e.date,value:e.value}))),[N,v]),w=(0,l.useMemo)(()=>(function(e){let s=[],t=e[0].value,a=e[0].date,l=0,r="",c=!1;for(let i=1;i<e.length;i++){let n=e[i];if(n.value>t)c&&(s.push({startDate:r,endDate:e[i-1].date,duration:eZ(r,e[i-1].date),maxDrawdown:l,recovery:!0}),c=!1),t=n.value,a=n.date,l=0;else{let e=(t-n.value)/t*100;!c&&e>1?(c=!0,r=a,l=e):c&&(l=Math.max(l,e))}}return c&&s.push({startDate:r,endDate:e[e.length-1].date,duration:eZ(r,e[e.length-1].date),maxDrawdown:l,recovery:!1}),s.sort((e,s)=>s.maxDrawdown-e.maxDrawdown)})(N.map(e=>({date:e.date,value:e.value}))),[N]),k=(0,l.useMemo)(()=>N.map((e,s)=>({date:e.date,portfolio:(e.value/N[0].value-1)*100,benchmark:s<v.data.length?(v.data[s].value/v.data[0].value-1)*100:null})).filter((e,s)=>s%("5y"===m?10:"3y"===m?5:2)==0),[N,v,m]),C=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"%",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return"".concat(e.toFixed(t)).concat(s)},S=function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e>0?s?"text-green-600":"text-red-600":e<0?s?"text-red-600":"text-green-600":"text-muted-foreground"};return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:x,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"고급 성과 분석"})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-6",children:["1y","3y","5y"].map(e=>(0,a.jsx)(r,{variant:m===e?"default":"outline",size:"sm",onClick:()=>u(e),className:"flex-1",children:"1y"===e?"1년":"3y"===e?"3년":"5년"},e))}),(0,a.jsxs)(ec,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-4 mb-6",children:[(0,a.jsx)(en,{value:"overview",className:"text-xs",children:"개요"}),(0,a.jsx)(en,{value:"metrics",className:"text-xs",children:"지표"}),(0,a.jsx)(en,{value:"periods",className:"text-xs",children:"구간"}),(0,a.jsx)(en,{value:"drawdown",className:"text-xs",children:"손익"})]}),(0,a.jsxs)(ed,{value:"overview",className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:f.map(e=>(0,a.jsx)(r,{variant:j===e.ticker?"default":"outline",size:"sm",onClick:()=>g(e.ticker),className:"whitespace-nowrap flex-shrink-0",children:e.name},e.ticker))}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"벤치마크 대비 누적 수익률"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ep.w,{data:k,children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(ef.K,{dataKey:"date",tick:{fontSize:10},tickFormatter:e=>{let s=new Date(e);return"5y"===m?"".concat(s.getFullYear()):"".concat(s.getMonth()+1,"월")}}),(0,a.jsx)(ev.B,{tick:{fontSize:10},tickFormatter:e=>"".concat(e.toFixed(0),"%")}),(0,a.jsx)(U.u,{formatter:(e,s)=>["".concat(null==e?void 0:e.toFixed(2),"%"),"portfolio"===s?"내 포트폴리오":v.name],labelFormatter:e=>new Date(e).toLocaleDateString("ko-KR")}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"portfolio",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"benchmark",stroke:"hsl(var(--muted-foreground))",strokeWidth:1,strokeDasharray:"5 5",dot:!1})]})})})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"성과 비교"})}),(0,a.jsxs)(d,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"내 포트폴리오"}),(0,a.jsx)("p",{className:"text-lg",children:(0,a.jsx)("span",{className:S(N[N.length-1].value-o),children:C((N[N.length-1].value/o-1)*100)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:v.name}),(0,a.jsx)("p",{className:"text-lg",children:(0,a.jsx)("span",{className:S(v.totalReturn),children:C(v.totalReturn)})})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"초과 수익률"}),(0,a.jsxs)("span",{className:"text-sm ".concat(S(y.alpha)),children:[y.alpha>0?"+":"",C(y.alpha)]})]})})]})]})]}),(0,a.jsxs)(ed,{value:"metrics",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eF.Z,{className:"h-4 w-4"}),"위험 조정 수익률"]})}),(0,a.jsx)(d,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"샤프 비율"}),(0,a.jsx)("p",{className:"text-lg",children:C(y.sharpeRatio,"",3)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:y.sharpeRatio>1?"우수":y.sharpeRatio>.5?"양호":"개선 필요"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"소르티노 비율"}),(0,a.jsx)("p",{className:"text-lg",children:C(y.sortinoRatio,"",3)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"하방 위험 기준"})]})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),"벤치마크 대비 지표"]})}),(0,a.jsx)(d,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"알파 (α)"}),(0,a.jsxs)("span",{className:S(y.alpha),children:[y.alpha>0?"+":"",C(y.alpha)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"베타 (β)"}),(0,a.jsx)("span",{children:C(y.beta,"",3)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"정보 비율"}),(0,a.jsx)("span",{children:C(y.informationRatio,"",3)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"트래킹 에러"}),(0,a.jsx)("span",{children:C(y.trackingError)})]})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"위험 지표"})}),(0,a.jsx)(d,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"최대 낙폭"}),(0,a.jsxs)("span",{className:"text-red-600",children:["-",C(y.maxDrawdown)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"최대 상승폭"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",C(y.maxGain)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"칼마 비율"}),(0,a.jsx)("span",{children:C(y.calmarRatio,"",3)})]})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"거래 성과"})}),(0,a.jsx)(d,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"승률"}),(0,a.jsx)("span",{className:S(y.winRate-50),children:C(y.winRate)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"수익 팩터"}),(0,a.jsx)("span",{className:S(y.profitFactor-1),children:C(y.profitFactor,"",2)})]})]})})]})]}),(0,a.jsxs)(ed,{value:"periods",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eh.Z,{className:"h-4 w-4"}),"기간별 성과 분석"]})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"space-y-2",children:b.slice(0,8).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium w-16",children:e.period}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(p,{variant:"outline",className:"text-xs",children:[e.portfolioReturn>0?"+":"",C(e.portfolioReturn,"",1)]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"vs"}),(0,a.jsxs)(p,{variant:"secondary",className:"text-xs",children:[e.benchmarkReturn>0?"+":"",C(e.benchmarkReturn,"",1)]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"text-sm ".concat(S(e.alpha)),children:[e.alpha>0?"+":"",C(e.alpha,"",1)]})})]},s))})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"분기별 수익률 비교"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eT.v,{data:b.filter(e=>e.period.includes("Q")).slice(-8),children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(ef.K,{dataKey:"period",tick:{fontSize:10}}),(0,a.jsx)(ev.B,{tick:{fontSize:10},tickFormatter:e=>"".concat(e,"%")}),(0,a.jsx)(U.u,{formatter:(e,s)=>["".concat(e.toFixed(1),"%"),"portfolioReturn"===s?"포트폴리오":"벤치마크"]}),(0,a.jsx)(eP.$,{dataKey:"portfolioReturn",fill:"hsl(var(--primary))"}),(0,a.jsx)(eP.$,{dataKey:"benchmarkReturn",fill:"hsl(var(--muted-foreground))"})]})})})})]})]}),(0,a.jsxs)(ed,{value:"drawdown",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(ej.Z,{className:"h-4 w-4 text-orange-500"}),"주요 손실 구간"]})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"space-y-3",children:w.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"p-3 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["#",s+1," 손실 구간"]}),(0,a.jsxs)("span",{className:"text-red-600",children:["-",C(e.maxDrawdown)]})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("div",{children:["기간: ",new Date(e.startDate).toLocaleDateString("ko-KR")," ~ ",new Date(e.endDate).toLocaleDateString("ko-KR")]}),(0,a.jsxs)("div",{children:["지속: ",e.duration,"일"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["회복:",e.recovery?(0,a.jsx)(p,{variant:"secondary",className:"text-xs",children:"완료"}):(0,a.jsx)(p,{variant:"destructive",className:"text-xs",children:"진행중"})]})]})]},s))})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"일일 수익률 분포"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eT.v,{data:[{range:"-5%~",count:N.filter(e=>e.return<=-5).length},{range:"-3%~-5%",count:N.filter(e=>e.return>-5&&e.return<=-3).length},{range:"-1%~-3%",count:N.filter(e=>e.return>-3&&e.return<=-1).length},{range:"-1%~1%",count:N.filter(e=>e.return>-1&&e.return<=1).length},{range:"1%~3%",count:N.filter(e=>e.return>1&&e.return<=3).length},{range:"3%~5%",count:N.filter(e=>e.return>3&&e.return<=5).length},{range:"5%~",count:N.filter(e=>e.return>5).length}],children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(ef.K,{dataKey:"range",tick:{fontSize:10}}),(0,a.jsx)(ev.B,{tick:{fontSize:10}}),(0,a.jsx)(U.u,{}),(0,a.jsx)(eP.$,{dataKey:"count",children:[{range:"-5%~",count:N.filter(e=>e.return<=-5).length},{range:"-3%~-5%",count:N.filter(e=>e.return>-5&&e.return<=-3).length},{range:"-1%~-3%",count:N.filter(e=>e.return>-3&&e.return<=-1).length},{range:"-1%~1%",count:N.filter(e=>e.return>-1&&e.return<=1).length},{range:"1%~3%",count:N.filter(e=>e.return>1&&e.return<=3).length},{range:"3%~5%",count:N.filter(e=>e.return>3&&e.return<=5).length},{range:"5%~",count:N.filter(e=>e.return>5).length}].map((e,s)=>(0,a.jsx)(X.b,{fill:s<3?"hsl(var(--destructive))":3===s?"hsl(var(--muted-foreground))":"hsl(var(--primary))"},"cell-".concat(s)))})]})})})})]})]})]})]})})})})})}var eA=t(2217),eI=t(6611);function eL(e){let{assets:s,allocations:t,initialInvestment:x,onBack:m}=e,[u,j]=(0,l.useState)("volatility"),N=[{name:"미연준 기준금리",shortName:"Fed Rate",value:4.88,unit:"%",change:0,status:"neutral",description:"4.75-5.00% 범위"},{name:"인플레이션율",shortName:"Inflation",value:2.4,unit:"%",change:-.1,status:"positive",description:"전년동월대비 CPI"},{name:"실업률",shortName:"Unemployment",value:3.7,unit:"%",change:.1,status:"negative",description:"계절조정 실업률"},{name:"GDP 성장률",shortName:"GDP Growth",value:2.3,unit:"%",change:.2,status:"positive",description:"연율화 성장률"},{name:"공포지수 (VIX)",shortName:"VIX",value:16.8,unit:"",change:-1.2,status:"positive",description:"변동성 지수"},{name:"달러 인덱스",shortName:"DXY",value:104.2,unit:"",change:.3,status:"neutral",description:"주요 통화 대비 달러 강도"}],f=(0,l.useMemo)(()=>{let e=N.map(e=>e.shortName),t=[],a=(e,s)=>(e+s).split("").reduce((e,s)=>e+s.charCodeAt(0),0),l=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)};return s.forEach((s,r)=>{t[r]=[],e.forEach((e,c)=>{var i,n,d,o,x,m,h,u,j,g,p,N,f,v,y,b,w,k,C,S,M;let F=0;"Fed Rate"===e?F="crypto"===s.type?-.6:(null===(i=s.sector)||void 0===i?void 0:i.includes("Technology"))?-.4:(null===(n=s.sector)||void 0===n?void 0:n.includes("Financial"))?.5:(null===(d=s.sector)||void 0===d?void 0:d.includes("Bonds"))?-.7:(null===(o=s.sector)||void 0===o?void 0:o.includes("Real Estate"))?-.5:-.2:"Inflation"===e?F="crypto"===s.type?.3:(null===(x=s.sector)||void 0===x?void 0:x.includes("Precious Metals"))?.7:(null===(m=s.sector)||void 0===m?void 0:m.includes("Energy"))?.6:(null===(h=s.sector)||void 0===h?void 0:h.includes("Bonds"))?-.6:(null===(u=s.sector)||void 0===u?void 0:u.includes("Consumer"))?-.3:.1:"Unemployment"===e?F="crypto"===s.type?-.2:(null===(j=s.sector)||void 0===j?void 0:j.includes("Consumer"))?-.5:(null===(g=s.sector)||void 0===g?void 0:g.includes("Technology"))?-.3:(null===(p=s.sector)||void 0===p?void 0:p.includes("Healthcare"))?-.1:-.25:"GDP Growth"===e?F="crypto"===s.type?.4:(null===(N=s.sector)||void 0===N?void 0:N.includes("Technology"))?.6:(null===(f=s.sector)||void 0===f?void 0:f.includes("Consumer"))?.5:(null===(v=s.sector)||void 0===v?void 0:v.includes("Financial"))?.7:(null===(y=s.sector)||void 0===y?void 0:y.includes("Bonds"))?.2:.4:"VIX"===e?F="crypto"===s.type?.5:(null===(b=s.sector)||void 0===b?void 0:b.includes("Technology"))?.4:(null===(w=s.sector)||void 0===w?void 0:w.includes("Bonds"))?-.3:(null===(k=s.sector)||void 0===k?void 0:k.includes("Precious Metals"))?-.2:.3:"DXY"===e&&(F="crypto"===s.type?-.4:(null===(C=s.sector)||void 0===C?void 0:C.includes("Precious Metals"))?-.6:(null===(S=s.sector)||void 0===S?void 0:S.includes("Energy"))?-.3:(null===(M=s.sector)||void 0===M?void 0:M.includes("Technology"))?-.2:.1);let T=F+(l(a(s.ticker,e))-.5)*.3;T=Math.max(-.9,Math.min(.9,T)),t[r][c]=T})}),{assets:s.map(e=>e.ticker),economicFactors:e,correlations:t}},[s]),v=(0,l.useMemo)(()=>(function(e){let s=e.length,t=[],a=(e,s)=>(e+s).split("").reduce((e,s)=>e+s.charCodeAt(0),0),l=e=>{let s=1e4*Math.sin(e);return s-Math.floor(s)};for(let r=0;r<s;r++){t[r]=[];for(let c=0;c<s;c++)if(r===c)t[r][c]=1;else{let s=e[r],i=e[c],n=0,d=(s.sector===i.sector?.6:s.type===i.type?"crypto"===s.type?.5:.3:.1)+(l(a(s.ticker,i.ticker))-.5)*.4;d=Math.max(-.8,Math.min(.9,d)),t[r][c]=d,t[c]=t[c]||[],t[c][r]=d}}return{assets:e.map(e=>e.ticker),correlations:t}})(s),[s]),y=(0,l.useMemo)(()=>(function(e,s,t){let a=[],l=0,r=0;if(e.forEach((e,t)=>{var c,i,n;let d=s[e.ticker]/100,o=0,x=d*d*(o="crypto"===e.type?.6+.4*Math.random():(null===(c=e.sector)||void 0===c?void 0:c.includes("Technology"))?.25+.2*Math.random():(null===(i=e.sector)||void 0===i?void 0:i.includes("Bonds"))?.03+.05*Math.random():(null===(n=e.sector)||void 0===n?void 0:n.includes("Precious Metals"))?.15+.15*Math.random():.18+.12*Math.random())*o;a.push({asset:e.ticker,name:e.name,volatility:100*o,contributionToPortfolio:100*x,allocation:100*d}),l+=d*o,r+=x}),t){let l=0;for(let r=0;r<e.length;r++)for(let c=0;c<e.length;c++)if(r!==c){let i=s[e[r].ticker]/100,n=s[e[c].ticker]/100;l+=i*n*(a[r].volatility/100)*(a[c].volatility/100)*t[r][c]}r+=l}let c=100*Math.sqrt(r),i=100*l-c;return{portfolioVolatility:c,assetVolatilities:a.sort((e,s)=>s.contributionToPortfolio-e.contributionToPortfolio),diversificationBenefit:i}})(s,t,v.correlations),[s,t,v]),b=(0,l.useMemo)(()=>(function(e,s,t,a){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4,r=[];return[.95,.99].forEach(c=>{let i=[];for(let t=0;t<l;t++){let t=0,l=function(e,s){let t=e.length,a=[];for(let s=0;s<t;s++){var l,r;let t=e[s],c=0,i=0;"crypto"===t.type?(c=.001,i=.06):(null===(l=t.sector)||void 0===l?void 0:l.includes("Technology"))?(c=8e-4,i=.025):(null===(r=t.sector)||void 0===r?void 0:r.includes("Bonds"))?(c=2e-4,i=.005):(c=5e-4,i=.02);let n=Math.sqrt(-2*Math.log(Math.random()))*Math.cos(2*Math.PI*Math.random());a.push(c+i*n)}let c=[...a];for(let e=0;e<t;e++)for(let t=0;t<e;t++){let l=s[e][t];c[e]+=.3*l*a[t]}return c}(e,a);e.forEach((e,a)=>{let r=s[e.ticker]/100;t+=r*l[a]}),i.push(t)}i.sort((e,s)=>e-s);let n=Math.floor((1-c)*l),d=-i[n]*t,o=i.slice(0,n),x=o.length>0?-o.reduce((e,s)=>e+s,0)/o.length*t:0;r.push({confidence:c,var1Day:d,var1Week:d*Math.sqrt(7),var1Month:d*Math.sqrt(30),expectedShortfall:x,worstCase:-i[0]*t,bestCase:-i[i.length-1]*t})}),r})(s,t,x,v.correlations),[s,t,x,v]),w=(0,l.useMemo)(()=>(function(e,s,t){let a;let l=[{name:"2008 글로벌 금융위기",description:"주식 -37%, 채권 +5%, 금 +5%, 암호화폐 -80%",marketShock:-.2,sectorShocks:{Technology:-.45,Healthcare:-.25,Financial:-.55,Bonds:.05,"Precious Metals":.05,Crypto:-.8},result:0,probability:.02},{name:"2020 코로나19 팬데믹",description:"주식 -34%, 기술주 +15%, 암호화폐 -50%",marketShock:-.15,sectorShocks:{Technology:.15,Healthcare:-.1,Travel:-.7,Energy:-.5,Bonds:.08,Crypto:-.5},result:0,probability:.05},{name:"급격한 금리 인상",description:"금리 3%p 상승, 채권 -15%, 성장주 -25%",marketShock:-.1,sectorShocks:{Technology:-.25,"Real Estate":-.3,Bonds:-.15,"Precious Metals":-.1,Financial:.1},result:0,probability:.15},{name:"인플레이션 급등",description:"인플레이션 8%, 금 +20%, 채권 -10%",marketShock:-.05,sectorShocks:{"Precious Metals":.2,Energy:.15,Bonds:-.1,Technology:-.15,Consumer:-.08},result:0,probability:.1},{name:"암호화폐 붕괴",description:"주요 암호화폐 -90%, 연관 기술주 -20%",marketShock:-.02,sectorShocks:{Crypto:-.9,Technology:-.2,Financial:-.1},result:0,probability:.08}];l.forEach(a=>{let l=0;e.forEach(e=>{let r=s[e.ticker]/100,c=a.marketShock;c="crypto"===e.type?a.sectorShocks.Crypto||a.marketShock:a.sectorShocks[e.sector]||a.marketShock,l+=r*t*c}),a.result=l}),l.reduce((e,s)=>e+Math.abs(s.result),0);let r=Math.max(0,100-Math.abs(Math.min(...l.map(e=>e.result)))/t*100);return a=r>80?"Low":r>60?"Medium":r>40?"High":"Very High",{scenarios:l.sort((e,s)=>e.result-s.result),portfolioResilience:r,riskRating:a}})(s,t,x),[s,t,x]),k=(0,l.useMemo)(()=>(function(e,s){let t;let a=e.reduce((e,t)=>{let a=s[t.ticker]/100;return e+a*a},0);t=a<.15?"Low":a<.25?"Medium":"High";let l=[];return a>.25&&l.push("포트폴리오가 과도하게 집중되어 있습니다. 분산투자를 고려해보세요."),Math.max(...e.map(e=>s[e.ticker]))>30&&l.push("단일 자산 비중이 30%를 초과합니다. 위험 분산을 위해 비중을 줄여보세요."),e.filter(e=>"crypto"===e.type).reduce((e,t)=>e+s[t.ticker],0)>20&&l.push("암호화폐 비중이 높습니다. 변동성 위험을 고려해 비중을 조정해보세요."),{herfindahlIndex:a,effectiveAssets:1/a,concentrationRisk:t,recommendations:l}})(s,t),[s,t]);function C(e){switch(e){case"Low":return"text-green-600";case"Medium":return"text-yellow-600";case"High":return"text-orange-600";case"Very High":return"text-red-600";default:return"text-muted-foreground"}}let S=e=>"$".concat(Math.abs(e).toLocaleString()),F=e=>"".concat(e.toFixed(2),"%");return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:m,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"리스크 관리"})]}),(0,a.jsxs)(ec,{value:u,onValueChange:j,className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-4 mb-6",children:[(0,a.jsx)(en,{value:"volatility",className:"text-xs",children:"변동성"}),(0,a.jsx)(en,{value:"correlation",className:"text-xs",children:"상관관계"}),(0,a.jsx)(en,{value:"var",className:"text-xs",children:"VaR"}),(0,a.jsx)(en,{value:"stress",className:"text-xs",children:"스트레스"})]}),(0,a.jsxs)(ed,{value:"volatility",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eA.Z,{className:"h-4 w-4"}),"포트폴리오 변동성"]})}),(0,a.jsx)(d,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:F(y.portfolioVolatility)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"연간 변동성"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:F(y.diversificationBenefit)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"분산 효과"})]})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"자산별 변동성 기여도"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eT.v,{data:y.assetVolatilities.slice(0,8),children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(ef.K,{dataKey:"asset",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),(0,a.jsx)(ev.B,{tick:{fontSize:10}}),(0,a.jsx)(U.u,{formatter:(e,s)=>["".concat(e.toFixed(2),"%"),"volatility"===s?"변동성":"기여도"]}),(0,a.jsx)(eP.$,{dataKey:"volatility",fill:"hsl(var(--chart-1))"})]})})})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"자산별 리스크 프로필"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"space-y-3",children:y.assetVolatilities.slice(0,6).map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.asset}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:F(e.volatility)}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["비중: ",F(e.allocation)]})]})]}),(0,a.jsx)(g,{value:e.volatility,className:"h-2"})]},s))})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"분산투자 효과"})}),(0,a.jsxs)(d,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:k.effectiveAssets.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"유효 자산 수"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold ".concat(C(k.concentrationRisk)),children:k.concentrationRisk}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"집중도 위험"})]})]}),k.recommendations.length>0&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(ej.Z,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"권장사항"}),(0,a.jsx)("ul",{className:"text-xs text-yellow-700 mt-1 space-y-1",children:k.recommendations.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]})]})})]})]})]}),(0,a.jsxs)(ed,{value:"correlation",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"현재 거시경제 지표 (2025.06.15)"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:N.map((e,s)=>(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:e.name}),0!==e.change&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat("positive"===e.status?"text-green-600":"negative"===e.status?"text-red-600":"text-muted-foreground"),children:["positive"===e.status?(0,a.jsx)(o.Z,{className:"h-3 w-3"}):"negative"===e.status?(0,a.jsx)(ex.Z,{className:"h-3 w-3"}):null,(0,a.jsxs)("span",{className:"text-xs",children:[e.change>0?"+":"",e.change,e.unit]})]})]}),(0,a.jsxs)("div",{className:"text-lg font-bold",children:[e.value.toFixed((e.unit,1)),e.unit]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.description})]},s))})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"거시경제 지표와 자산 간 상관관계"})}),(0,a.jsxs)(d,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-16"}),(0,a.jsx)("div",{className:"flex-1 flex gap-1",children:f.economicFactors.map((e,s)=>(0,a.jsx)("div",{className:"flex-1 text-xs text-center font-medium p-1",children:e},e))})]}),f.assets.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-16 text-xs font-medium truncate",children:e}),(0,a.jsx)("div",{className:"flex-1 flex gap-1",children:f.economicFactors.map((t,l)=>{var r;return(0,a.jsx)("div",{className:"flex-1 h-8 rounded text-xs flex items-center justify-center text-white font-medium",style:{backgroundColor:(r=f.correlations[s][l])>.5?"#dc2626":r>.2?"#ea580c":r>-.2?"#65a30d":r>-.5?"#2563eb":"#7c3aed",opacity:.9},title:"".concat(e," vs ").concat(t,": ").concat(f.correlations[s][l].toFixed(2)),children:f.correlations[s][l].toFixed(2)},"".concat(e,"-").concat(t))})})]},e))]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-2",children:"상관관계 해석"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#dc2626"}}),(0,a.jsx)("span",{children:"강한 양의 상관관계 (> 0.5)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ea580c"}}),(0,a.jsx)("span",{children:"중간 양의 상관관계 (0.2-0.5)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#65a30d"}}),(0,a.jsx)("span",{children:"약한 상관관계 (-0.2-0.2)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#2563eb"}}),(0,a.jsx)("span",{children:"중간 음의 상관관계 (-0.5--0.2)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#7c3aed"}}),(0,a.jsx)("span",{children:"강한 음의 상관관계 (< -0.5)"})]})]})]})]})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"주요 상관관계 분석"})}),(0,a.jsx)(d,{className:"space-y-3",children:(0,a.jsx)("div",{className:"space-y-2",children:f.assets.map((e,s)=>f.economicFactors.map((t,l)=>{let r=f.correlations[s][l];return Math.abs(r)>.4?(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:e})," ↔ ",(0,a.jsx)("span",{className:"font-medium",children:t})]}),(0,a.jsxs)(p,{variant:r>0?"destructive":"secondary",children:[r>0?"+":"",r.toFixed(2)]})]},"".concat(e,"-").concat(t)):null}))})})]})]}),(0,a.jsxs)(ed,{value:"var",className:"space-y-4",children:[b.map((e,s)=>(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(ex.Z,{className:"h-4 w-4"}),"VaR ",(100*e.confidence).toFixed(0),"% 신뢰구간"]})}),(0,a.jsxs)(d,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:S(e.var1Day)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"1일 VaR"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:S(e.var1Week)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"1주 VaR"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:S(e.var1Month)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"1개월 VaR"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-700",children:S(e.expectedShortfall)}),(0,a.jsx)("div",{className:"text-xs text-red-600",children:"Expected Shortfall"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-700",children:S(e.worstCase)}),(0,a.jsx)("div",{className:"text-xs text-red-600",children:"최악의 경우"})]})]})]})]},s)),(0,a.jsx)(c,{className:"border-blue-200 bg-blue-50",children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"VaR (Value at Risk) 해석"}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"95% 신뢰구간의 1일 VaR가 $1,000이라면, 정상적인 시장 상황에서 하루 동안 $1,000 이상의 손실이 발생할 확률이 5%라는 의미입니다. Expected Shortfall은 VaR를 초과하는 손실의 평균값입니다."})]})]})})})]}),(0,a.jsxs)(ed,{value:"stress",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4"}),"포트폴리오 회복력"]})}),(0,a.jsxs)(d,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[w.portfolioResilience.toFixed(0),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"회복력 점수"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(C(w.riskRating)),children:w.riskRating}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"리스크 등급"})]})]}),(0,a.jsx)(g,{value:w.portfolioResilience,className:"h-3"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:w.scenarios.map((e,s)=>(0,a.jsx)(c,{className:"border-l-4",style:{borderLeftColor:e.result>-(.1*x)?"#22c55e":e.result>-(.2*x)?"#eab308":e.result>-(.3*x)?"#f97316":"#ef4444"},children:(0,a.jsxs)(d,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:S(e.result)}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(e.result/x*100).toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(p,{variant:"outline",className:"text-xs",children:["발생 확률: ",(100*e.probability).toFixed(0),"%"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.result>-(.1*x)?(0,a.jsx)(eI.Z,{className:"h-3 w-3 text-green-600"}):e.result>-(.2*x)?(0,a.jsx)(ej.Z,{className:"h-3 w-3 text-yellow-600"}):(0,a.jsx)(ex.Z,{className:"h-3 w-3 text-red-600"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.result>-(.1*x)?"낮은 위험":e.result>-(.2*x)?"중간 위험":"높은 위험"})]})]})]})},s))}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:"시나리오별 손실 분포"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eT.v,{data:w.scenarios,children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(ef.K,{dataKey:"name",tick:{fontSize:9},angle:-45,textAnchor:"end",height:80}),(0,a.jsx)(ev.B,{tick:{fontSize:10},tickFormatter:e=>"$".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(U.u,{formatter:e=>[S(e),"예상 손실"]}),(0,a.jsx)(eP.$,{dataKey:"result",children:w.scenarios.map((e,s)=>(0,a.jsx)(X.b,{fill:e.result>-(.1*x)?"#22c55e":e.result>-(.2*x)?"#eab308":e.result>-(.3*x)?"#f97316":"#ef4444"},"cell-".concat(s)))})]})})})})]})]})]})]})})})})})}var eV=t(39),ez=t(8870),eK=t(88);function eG(e){let{onBack:s}=e,[t,o]=(0,l.useState)("courses"),[x,m]=(0,l.useState)(""),[h,u]=(0,l.useState)(null),j=[{id:"1",title:"포트폴리오 이론의 기초",description:"해리 마코위츠의 현대 포트폴리오 이론부터 효율적 투자선까지 체계적으로 학습합니다.",duration:"2시간 30분",difficulty:"beginner",progress:75,rating:4.8,lessons:8,category:"theory"},{id:"2",title:"자산 배분 전략 마스터하기",description:"전략적 자산 배분과 전술적 자산 배분의 차이점과 실무 적용법을 배웁니다.",duration:"3시간 15분",difficulty:"intermediate",progress:45,rating:4.9,lessons:12,category:"strategy"},{id:"3",title:"시장 위기 상황별 대응 전략",description:"2008 금융위기, 2020 팬데믹 등 과거 사례를 통해 위기 대응법을 학습합니다.",duration:"2시간 45분",difficulty:"advanced",progress:0,rating:4.7,lessons:10,category:"crisis"},{id:"4",title:"리스크 관리와 VaR 이해하기",description:"Value at Risk, 스트레스 테스트 등 리스크 관리 도구들의 실무 활용법을 배웁니다.",duration:"4시간 20분",difficulty:"advanced",progress:20,rating:4.6,lessons:15,category:"risk"},{id:"5",title:"ESG 투자와 지속가능 포트폴리오",description:"환경, 사회, 지배구조를 고려한 ESG 투자 전략과 포트폴리오 구성법을 학습합니다.",duration:"1시간 50분",difficulty:"intermediate",progress:0,rating:4.5,lessons:7,category:"esg"},{id:"6",title:"행동재무학과 투자 심리",description:"투자자의 인지편향과 심리적 함정들을 이해하고 극복하는 방법을 배웁니다.",duration:"2시간 10분",difficulty:"beginner",progress:0,rating:4.7,lessons:9,category:"psychology"}].filter(e=>e.title.toLowerCase().includes(x.toLowerCase())||e.description.toLowerCase().includes(x.toLowerCase())),N=[{term:"알파 (Alpha)",definition:"시장 대비 초과 수익률을 나타내는 지표. 포트폴리오 매니저의 실력을 평가하는 중요한 척도입니다.",category:"성과지표",example:"알파가 2%라면 시장 대비 연간 2% 초과 수익을 얻었다는 의미입니다."},{term:"베타 (Beta)",definition:"시장 전체의 움직임에 대한 개별 자산의 민감도를 나타내는 지표입니다.",category:"위험지표",example:"베타가 1.2라면 시장이 10% 상승할 때 해당 자산은 12% 상승할 가능성이 높습니다."},{term:"샤프 비율 (Sharpe Ratio)",definition:"위험 조정 수익률을 측정하는 지표로, 단위 위험당 얻는 초과 수익률을 나타냅니다.",category:"성과지표",example:"샤프 비율이 높을수록 같은 위험 대비 더 높은 수익을 얻었다는 의미입니다."},{term:"VaR (Value at Risk)",definition:"특정 신뢰구간과 기간 하에서 예상되는 최대 손실 금액을 나타내는 위험 측정 도구입니다.",category:"위험관리",example:"95% 신뢰구간의 1일 VaR이 100만원이라면, 20일 중 1일은 100만원 이상 손실이 발생할 수 있습니다."},{term:"상관관계 (Correlation)",definition:"두 자산 가격의 움직임이 얼마나 비슷한지를 나타내는 지표로, -1부터 1까지의 값을 가집니다.",category:"포트폴리오",example:"상관관계가 0.8이면 강한 양의 상관관계로, 한 자산이 오르면 다른 자산도 오를 가능성이 높습니다."},{term:"분산투자 (Diversification)",definition:"위험을 줄이기 위해 여러 자산에 투자를 분산하는 투자 전략입니다.",category:"투자전략",example:"주식, 채권, 부동산 등 서로 다른 자산군에 투자하여 리스크를 분산시킵니다."},{term:"리밸런싱 (Rebalancing)",definition:"목표 자산 배분 비율을 유지하기 위해 주기적으로 포트폴리오를 조정하는 과정입니다.",category:"포트폴리오",example:"주식 60%, 채권 40% 목표 비율이 70%, 30%로 변했을 때 원래 비율로 조정합니다."},{term:"ESG 투자",definition:"환경(Environmental), 사회(Social), 지배구조(Governance) 요소를 고려한 투자 방식입니다.",category:"투자전략",example:"친환경 기업, 사회적 책임을 다하는 기업에 우선적으로 투자합니다."},{term:"최대낙폭 (Maximum Drawdown)",definition:"특정 기간 동안 포트폴리오 가치가 최고점에서 최저점까지 하락한 최대 폭을 나타냅니다.",category:"위험지표",example:"포트폴리오 가치가 1000만원에서 800만원까지 떨어졌다면 최대낙폭은 20%입니다."},{term:"변동성 (Volatility)",definition:"자산 가격의 변동 정도를 나타내는 지표로, 높을수록 위험이 크다고 볼 수 있습니다.",category:"위험지표",example:"연간 변동성이 20%인 자산은 1년 후 가격이 \xb120% 범위 내에서 움직일 확률이 68%입니다."}].filter(e=>e.term.toLowerCase().includes(x.toLowerCase())||e.definition.toLowerCase().includes(x.toLowerCase())),f=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=e=>{switch(e){case"beginner":return"초급";case"intermediate":return"중급";case"advanced":return"고급";default:return"일반"}};return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"투자 교육 센터"})]}),(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)(P.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",placeholder:"강의나 용어를 검색하세요...",value:x,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background"})]}),(0,a.jsxs)(ec,{value:t,onValueChange:o,className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-4 mb-6",children:[(0,a.jsx)(en,{value:"courses",className:"text-xs",children:"강의"}),(0,a.jsx)(en,{value:"strategy",className:"text-xs",children:"전략"}),(0,a.jsx)(en,{value:"glossary",className:"text-xs",children:"용어사전"}),(0,a.jsx)(en,{value:"progress",className:"text-xs",children:"진도"})]}),(0,a.jsx)(ed,{value:"courses",className:"space-y-4",children:h?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:()=>u(null),className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"강의로 돌아가기"})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n,{className:"text-base mb-2",children:h.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:h.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eV.Z,{className:"h-3 w-3"}),h.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ez.Z,{className:"h-3 w-3"}),h.lessons,"개 강의"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eK.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),h.rating]})]})]}),(0,a.jsx)(p,{className:f(h.difficulty),children:v(h.difficulty)})]})}),(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"진행률"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[h.progress,"%"]})]}),(0,a.jsx)(g,{value:h.progress,className:"h-2"})]}),(0,a.jsxs)(r,{className:"w-full",children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4 mr-2"}),h.progress>0?"학습 계속하기":"학습 시작하기"]})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsx)(n,{className:"text-base",children:"강의 목차"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"space-y-3",children:Array.from({length:h.lessons},(e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs ".concat(s<Math.floor(h.lessons*h.progress/100)?"bg-green-100 text-green-800":"bg-muted text-muted-foreground"),children:s+1}),(0,a.jsxs)("span",{className:"text-sm",children:["theory"===h.category&&0===s&&"포트폴리오 이론의 역사","theory"===h.category&&1===s&&"위험과 수익률의 관계","theory"===h.category&&2===s&&"효율적 투자선 이해하기","strategy"===h.category&&0===s&&"전략적 vs 전술적 자산배분","strategy"===h.category&&1===s&&"글로벌 자산 배분","crisis"===h.category&&0===s&&"2008 금융위기 분석",!["theory","strategy","crisis"].includes(h.category)&&"강의 ".concat(s+1)]})]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.floor(20*Math.random())+10,"분"]})]},s))})})]})]}):(0,a.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,a.jsxs)(d,{className:"pt-4",onClick:()=>u(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eV.Z,{className:"h-3 w-3"}),e.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ez.Z,{className:"h-3 w-3"}),e.lessons,"개 강의"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eK.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),e.rating]})]})]}),(0,a.jsx)(p,{className:f(e.difficulty),children:v(e.difficulty)})]}),e.progress>0&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"진행률"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.progress,"%"]})]}),(0,a.jsx)(g,{value:e.progress,className:"h-1"})]})]})},e.id))})}),(0,a.jsxs)(ed,{value:"strategy",className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsxs)(i,{children:[(0,a.jsx)(n,{className:"text-base",children:"시장 상황별 대응 전략"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"다양한 시장 환경에서의 투자 전략과 대응 방법을 학습하세요."})]})}),[{situation:"강세장 (Bull Market)",characteristics:["지속적인 상승 추세","경제 성장","투자 심리 긍정적"],strategy:["성장주 비중 확대","위험 자산 비중 증가","수익 실현 타이밍 고려"],warning:"과도한 낙관론에 주의하고 리스크 관리를 소홀히 하지 않도록 주의",color:"bg-green-50 border-green-200"},{situation:"약세장 (Bear Market)",characteristics:["지속적인 하락 추세","경제 침체","투자 심리 부정적"],strategy:["안전 자산 비중 확대","현금 보유 비율 증가","분할 매수 전략 고려"],warning:"패닉 매도를 피하고 장기적 관점을 유지하는 것이 중요",color:"bg-red-50 border-red-200"},{situation:"횡보장 (Sideways Market)",characteristics:["특정 범위 내 등락","방향성 부재","변동성 확대"],strategy:["섹터 순환 투자","배당주 비중 확대","옵션 전략 활용"],warning:"거래 비용 증가에 주의하고 인내심을 갖고 기다리는 것이 필요",color:"bg-yellow-50 border-yellow-200"},{situation:"고변동성 시장",characteristics:["급격한 가격 변동","불확실성 증가","뉴스에 민감한 반응"],strategy:["포트폴리오 리밸런싱 빈도 증가","VaR 모니터링 강화","헤지 전략 고려"],warning:"감정적 판단을 피하고 사전에 정한 투자 원칙을 고수하는 것이 중요",color:"bg-purple-50 border-purple-200"}].map((e,s)=>(0,a.jsxs)(c,{className:"border-l-4 ".concat(e.color),children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsx)(n,{className:"text-base",children:e.situation})}),(0,a.jsxs)(d,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 특징"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.characteristics.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"추천 전략"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.strategy.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsx)("div",{className:"p-3 bg-muted/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"주의사항"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.warning})]})]})})]})]},s))]}),(0,a.jsx)(ed,{value:"glossary",className:"space-y-4",children:(0,a.jsx)("div",{className:"space-y-3",children:N.map((e,s)=>(0,a.jsx)(c,{children:(0,a.jsxs)(d,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.term}),(0,a.jsx)(p,{variant:"outline",className:"text-xs",children:e.category})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.definition}),e.example&&(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded text-xs",children:[(0,a.jsx)("span",{className:"font-medium",children:"예시: "}),e.example]})]})},s))})}),(0,a.jsxs)(ed,{value:"progress",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eF.Z,{className:"h-4 w-4"}),"나의 학습 현황"]})}),(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:"6"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"완료한 강의"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"75%"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"평균 이해도"})]})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsx)(n,{className:"text-base",children:"카테고리별 진행률"})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)(eT.v,{data:[{category:"포트폴리오 이론",completed:3,total:5},{category:"리스크 관리",completed:2,total:4},{category:"자산 배분",completed:1,total:3},{category:"행동재무학",completed:0,total:2}],children:[(0,a.jsx)(eN.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(ef.K,{dataKey:"category",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),(0,a.jsx)(ev.B,{tick:{fontSize:10}}),(0,a.jsx)(U.u,{formatter:(e,s)=>[e,"completed"===s?"완료":"전체"]}),(0,a.jsx)(eP.$,{dataKey:"completed",fill:"hsl(var(--chart-1))"}),(0,a.jsx)(eP.$,{dataKey:"total",fill:"hsl(var(--muted))"})]})})})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsx)(n,{className:"text-base",children:"최근 학습 활동"})}),(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"포트폴리오 이론의 기초 - 7강 완료"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"2시간 전"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"자산 배분 전략 - 5강 학습 중"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"어제"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"리스크 관리 - 퀴즈 80점"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"3일 전"})]})]})]})})]})]})]})]})})})})})}var eO=t(8030);function eq(e){let{onBack:s,investorProfile:t}=e,[o,x]=(0,l.useState)("ai-optimization"),[m,j]=(0,l.useState)(null),g=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=e=>{switch(e){case"high":return"높음";case"medium":return"보통";case"low":return"낮음";default:return"일반"}},f=["#3B82F6","#EF4444","#10B981","#F59E0B"];return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"개인화된 추천"})]}),t&&(0,a.jsx)(c,{className:"mb-6",children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(t.color," flex items-center justify-center"),children:(0,a.jsx)(u.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:t.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t.description})]})]})})}),(0,a.jsxs)(ec,{value:o,onValueChange:x,className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-3 mb-6",children:[(0,a.jsx)(en,{value:"ai-optimization",className:"text-xs",children:"AI 최적화"}),(0,a.jsx)(en,{value:"risk-strategy",className:"text-xs",children:"성향별 전략"}),(0,a.jsx)(en,{value:"lifecycle",className:"text-xs",children:"생애주기"})]}),(0,a.jsxs)(ed,{value:"ai-optimization",className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsxs)(i,{children:[(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eu.Z,{className:"h-4 w-4"}),"AI 기반 포트폴리오 최적화"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"머신러닝 분석을 통해 발견된 포트폴리오 개선 기회입니다."})]})}),[{id:"1",title:"지역별 분산 투자 최적화",description:"현재 미국 주식에 과도하게 집중되어 있습니다. 유럽과 신흥국 ETF 추가로 지역 분산을 개선할 수 있습니다.",type:"optimization",priority:"high",impact:85,difficulty:"쉬움",timeframe:"즉시 적용 가능",category:"분산투자"},{id:"2",title:"섹터 집중도 위험 완화",description:"기술 섹터 비중이 35%로 높습니다. 헬스케어, 금융 섹터 추가로 섹터 리스크를 분산하세요.",type:"optimization",priority:"high",impact:78,difficulty:"보통",timeframe:"1-2주",category:"리스크 관리"},{id:"3",title:"리밸런싱 주기 최적화",description:"현재 월별 리밸런싱이 설정되어 있지만, 분기별로 변경 시 거래비용을 줄이면서 비슷한 성과를 얻을 수 있습니다.",type:"optimization",priority:"medium",impact:62,difficulty:"쉬움",timeframe:"즉시 적용 가능",category:"비용 최적화"},{id:"4",title:"인플레이션 헤지 자산 추가",description:"현재 경제 환경을 고려할 때 TIPS나 원자재 ETF 추가로 인플레이션 위험을 헤지하는 것을 권장합니다.",type:"optimization",priority:"medium",impact:71,difficulty:"보통",timeframe:"2-4주",category:"경제 대응"},{id:"5",title:"ESG 점수 개선",description:"지속가능투자에 관심이 있으시다면, 현재 포트폴리오의 ESG 점수를 B에서 A로 개선할 수 있는 방안을 제안합니다.",type:"optimization",priority:"low",impact:45,difficulty:"보통",timeframe:"1-3개월",category:"ESG"}].map(e=>(0,a.jsxs)(c,{className:"border-l-4 border-blue-200",children:[(0,a.jsx)(i,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(n,{className:"text-base",children:e.title}),(0,a.jsx)(p,{className:g(e.priority),children:N(e.priority)})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,a.jsxs)("div",{className:"text-right ml-4",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[e.impact,"%"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"예상 개선도"})]})]})}),(0,a.jsxs)(d,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"난이도"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.difficulty})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"적용 시점"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.timeframe})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"카테고리"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.category})]})]}),(0,a.jsxs)(r,{className:"w-full mt-4",variant:"outline",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4 mr-2"}),"상세 분석 보기"]})]})]},e.id))]}),(0,a.jsxs)(ed,{value:"risk-strategy",className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsxs)(i,{children:[(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),"위험성향별 맞춤 투자 전략"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"투자자의 위험 감수 능력에 따른 최적 전략을 제안합니다."})]})}),[{profile:"보수적 투자자",description:"안정적인 수익을 추구하며 원금 손실을 최소화하려는 투자자",allocation:{stocks:30,bonds:60,alternatives:5,cash:5},strategies:["고등급 회사채와 국채 중심의 채권 포트폴리오","배당수익률이 높은 우량 대형주 투자","월지급식 배당 ETF로 현금흐름 확보","원금보장형 ELS 상품 일부 활용"],keyPoints:["연간 목표 수익률: 4-6%","최대 손실 한도: 5% 이내","리밸런싱 주기: 반기별","추천 자산: 미국 국채, 투자등급 회사채, 배당주"],color:"bg-green-50 border-green-200"},{profile:"균형 추구 투자자",description:"적정한 위험을 감수하여 꾸준한 성장을 추구하는 투자자",allocation:{stocks:60,bonds:30,alternatives:7,cash:3},strategies:["주식 60%, 채권 40%의 균형 포트폴리오","글로벌 분산투자로 지역 리스크 완화","REIT와 원자재로 대안투자 비중 확보","시장 상황에 따른 전술적 자산배분 활용"],keyPoints:["연간 목표 수익률: 6-8%","최대 손실 한도: 15% 이내","리밸런싱 주기: 분기별","추천 자산: S&P 500, 글로벌 채권, REIT"],color:"bg-blue-50 border-blue-200"},{profile:"적극적 투자자",description:"높은 수익을 위해 상당한 위험을 감수할 수 있는 투자자",allocation:{stocks:80,bonds:10,alternatives:8,cash:2},strategies:["성장주와 가치주의 균형잡힌 조합","신흥국 시장과 소형주로 추가 수익 추구","섹터별 순환투자 전략 활용","레버리지 ETF 소량 활용으로 수익 확대"],keyPoints:["연간 목표 수익률: 8-12%","최대 손실 한도: 25% 이내","리밸런싱 주기: 월별","추천 자산: 성장주, 신흥국 ETF, 섹터 ETF"],color:"bg-orange-50 border-orange-200"},{profile:"공격적 투자자",description:"높은 변동성을 감수하고 최대 수익을 추구하는 투자자",allocation:{stocks:90,bonds:0,alternatives:10,cash:0},strategies:["고성장 기술주와 바이오 주식 중점 투자","암호화폐와 대안투자로 포트폴리오 다각화","옵션 전략으로 추가 수익 창출","개별 종목 선택을 통한 알파 추구"],keyPoints:["연간 목표 수익률: 12%+","최대 손실 한도: 40% 이내","리밸런싱 주기: 주간/월별","추천 자산: 성장주, 암호화폐, 벤처투자"],color:"bg-red-50 border-red-200"}].map((e,s)=>(0,a.jsxs)(c,{className:e.color,children:[(0,a.jsxs)(i,{className:"pb-3",children:[(0,a.jsx)(n,{className:"text-base",children:e.profile}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,a.jsxs)(d,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"권장 자산 배분"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-32",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)($.u,{children:[(0,a.jsx)(H.b,{data:[{name:"주식",value:e.allocation.stocks},{name:"채권",value:e.allocation.bonds},{name:"대안투자",value:e.allocation.alternatives},{name:"현금",value:e.allocation.cash}],cx:"50%",cy:"50%",outerRadius:50,dataKey:"value",children:f.map((e,s)=>(0,a.jsx)(X.b,{fill:e},"cell-".concat(s)))}),(0,a.jsx)(U.u,{})]})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"주식"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.stocks,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm",children:"채권"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.bonds,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:"대안투자"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.alternatives,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-sm",children:"현금"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.allocation.cash,"%"]})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"핵심 투자 전략"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.strategies.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 포인트"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:e.keyPoints.map((e,s)=>(0,a.jsx)("div",{className:"text-xs bg-background/50 p-2 rounded border",children:e},s))})]}),(0,a.jsxs)(r,{variant:"outline",className:"w-full",children:[(0,a.jsx)(eK.Z,{className:"h-4 w-4 mr-2"}),"이 전략 적용하기"]})]})]},s))]}),(0,a.jsx)(ed,{value:"lifecycle",className:"space-y-4",children:m?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:()=>j(null),className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"생애주기 가이드로 돌아가기"})]}),(0,a.jsxs)(c,{children:[(0,a.jsxs)(i,{children:[(0,a.jsx)(n,{className:"text-base",children:m.stage}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:m.age})]}),(0,a.jsxs)(d,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 재정 목표"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:m.goals.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"권장 자산 배분"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-32",children:(0,a.jsx)(Q.h,{width:"100%",height:"100%",children:(0,a.jsxs)($.u,{children:[(0,a.jsx)(H.b,{data:[{name:"주식",value:m.allocation.stocks},{name:"채권",value:m.allocation.bonds},{name:"대안투자",value:m.allocation.alternatives},{name:"현금",value:m.allocation.cash}],cx:"50%",cy:"50%",outerRadius:50,dataKey:"value",children:f.map((e,s)=>(0,a.jsx)(X.b,{fill:e},"cell-".concat(s)))}),(0,a.jsx)(U.u,{})]})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"주식"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[m.allocation.stocks,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm",children:"채권"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[m.allocation.bonds,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:"대안투자"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[m.allocation.alternatives,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-sm",children:"현금"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[m.allocation.cash,"%"]})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"핵심 투자 전략"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:m.keyStrategies.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"주요 고려사항"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:m.considerations.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)(r,{className:"w-full",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4 mr-2"}),"이 가이드 적용하기"]})]})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsxs)(i,{children:[(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eh.Z,{className:"h-4 w-4"}),"생애주기별 자산 배분 가이드"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"나이와 인생 단계에 따른 최적의 투자 전략을 확인하세요."})]})}),[{stage:"사회초년생 (20대)",age:"20-29세",goals:["자산 형성의 기초 마련","투자 습관 형성","비상금 마련"],allocation:{stocks:80,bonds:10,alternatives:5,cash:5},keyStrategies:["소액 정기적립투자로 시작","인덱스 펀드 중심의 분산투자","급여의 20-30% 저축/투자","비상금 3-6개월분 확보"],considerations:["높은 위험감수능력 활용","장기 투자 관점 유지","투자 지식 습득에 투자","과도한 레버리지 피하기"]},{stage:"자산형성기 (30대)",age:"30-39세",goals:["주택구입 자금 마련","결혼/육아 자금","본격적인 자산 증식"],allocation:{stocks:70,bonds:20,alternatives:7,cash:3},keyStrategies:["목적별 투자 계좌 분리 운용","주택구입 자금은 안전자산 위주","장기 은퇴자금은 적극적 투자","세제혜택 계좌 적극 활용"],considerations:["라이프 이벤트 자금 계획","보험을 통한 리스크 관리","투자 목적의 명확한 구분","현금흐름 관리의 중요성"]},{stage:"자산증식기 (40대)",age:"40-49세",goals:["자녀 교육비 준비","은퇴 준비 본격화","자산 규모 확대"],allocation:{stocks:60,bonds:30,alternatives:8,cash:2},keyStrategies:["교육비와 은퇴자금의 균형","다양한 자산군으로 분산투자","세금 효율적인 투자 전략","부동산 투자 검토"],considerations:["교육비 인플레이션 대비","은퇴 목표 구체화","투자 리스크 점진적 축소","상속/증여 계획 수립"]},{stage:"은퇴준비기 (50대)",age:"50-59세",goals:["은퇴자금 최종 점검","안정적 소득원 확보","상속 계획"],allocation:{stocks:50,bonds:40,alternatives:8,cash:2},keyStrategies:["캐치업 기여금 활용","배당 중심의 소득 창출","연금보험 상품 검토","부채 축소 계획"],considerations:["은퇴자금 부족분 점검","헬스케어 비용 대비","시장 변동성 관리","연금 수령 전략 계획"]},{stage:"은퇴기 (60대 이상)",age:"60세 이상",goals:["안정적인 연금 수령","의료비 대비","상속 재산 관리"],allocation:{stocks:30,bonds:60,alternatives:5,cash:5},keyStrategies:["버킷 전략으로 현금흐름 관리","인플레이션 대응 자산 유지","세금 효율적인 인출 전략","유동성 확보에 중점"],considerations:["장수 리스크 대비","의료비 증가 대응","상속세 최소화 방안","인지능력 저하 대비책"]}].map((e,s)=>(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,a.jsxs)(d,{className:"pt-4",onClick:()=>j(e),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:e.stage}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.age})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm font-medium",children:["주식 ",e.allocation.stocks,"%"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["채권 ",e.allocation.bonds,"%"]})]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,a.jsxs)("p",{children:["주요 목표: ",e.goals[0]]})})]})},s))]})})]})]})})})})})}var eQ=t(3050),e$=t(9889),eH=t(5662),eX=t(4420);function eU(e){let{onBack:s}=e,[t,x]=(0,l.useState)("banking"),[m,h]=(0,l.useState)(null),[u,j]=(0,l.useState)(new Date),[N,f]=(0,l.useState)([{id:"1",bankName:"KB국민은행",accountNumber:"123-456-789012",accountType:"적금",balance:15e6,isConnected:!0,lastSync:"2시간 전",status:"connected"},{id:"2",bankName:"삼성증권",accountNumber:"987-654-321098",accountType:"CMA",balance:85e5,isConnected:!0,lastSync:"30분 전",status:"connected"},{id:"3",bankName:"미래에셋증권",accountNumber:"555-777-888999",accountType:"위탁계좌",balance:25e6,isConnected:!1,lastSync:"-",status:"pending"}]),[v]=(0,l.useState)([{id:"1",title:"연준, 기준금리 동결...인플레이션 둔화 신호",summary:"FOMC 회의에서 기준금리를 4.75%-5.00%로 유지하기로 결정. 파월 의장은 인플레이션이 목표치에 근접하고 있다고 발언",source:"연합뉴스",timestamp:"1시간 전",category:"economy",sentiment:"positive",relevance:95},{id:"2",title:"비트코인, 10만 달러 돌파 후 조정...알트코인 강세",summary:"비트코인이 사상 최고치 경신 후 9만 8천 달러 선에서 거래 중. 이더리움과 솔라나 등 주요 알트코인은 상승세 지속",source:"코인데스크 코리아",timestamp:"2시간 전",category:"crypto",sentiment:"neutral",relevance:88},{id:"3",title:"NVIDIA 3분기 실적 예상치 상회...AI 수요 지속",summary:"엔비디아가 3분기 매출 351억 달러를 기록하며 시장 예상치를 크게 상회. 데이터센터 부문 매출이 급증하며 AI 붐 지속성 확인",source:"블룸버그",timestamp:"3시간 전",category:"market",sentiment:"positive",relevance:92},{id:"4",title:"한국은행, 기준금리 3.25% 동결...경제성장률 전망 하향",summary:"한국은행이 기준금리를 3.25%로 유지하며 2025년 경제성장률 전망을 2.1%로 하향 조정. 내수 부진과 수출 둔화 우려",source:"매일경제",timestamp:"4시간 전",category:"economy",sentiment:"negative",relevance:85},{id:"5",title:"테슬라, 완전자율주행 업데이트 발표...주가 3% 상승",summary:"테슬라가 FSD(Full Self-Driving) v13 업데이트를 발표하며 자율주행 기술 개선 소식에 주가 상승. 로보택시 상용화 기대감 증가",source:"TechCrunch",timestamp:"5시간 전",category:"market",sentiment:"positive",relevance:78},{id:"6",title:"중국 제조업 PMI 49.1...4개월 연속 위축",summary:"중국 제조업 구매관리자지수(PMI)가 49.1을 기록하며 경기 둔화 우려 지속. 글로벌 공급망과 무역에 미칠 영향 주목",source:"Reuters",timestamp:"6시간 전",category:"economy",sentiment:"negative",relevance:82}]),[y]=(0,l.useState)([{name:"미국 10년 국채 수익률",value:4.28,unit:"%",change:-.03,lastUpdate:"실시간",trend:"down",impact:"high"},{name:"VIX 공포지수",value:16.8,unit:"",change:-1.2,lastUpdate:"실시간",trend:"down",impact:"high"},{name:"달러 인덱스 (DXY)",value:104.2,unit:"",change:.3,lastUpdate:"실시간",trend:"up",impact:"medium"},{name:"원/달러 환율",value:1380,unit:"원",change:5,lastUpdate:"실시간",trend:"up",impact:"medium"},{name:"WTI 원유",value:75.8,unit:"$",change:1.2,lastUpdate:"실시간",trend:"up",impact:"medium"},{name:"금 현물",value:2085,unit:"$",change:-8.5,lastUpdate:"실시간",trend:"down",impact:"low"}]),b=async e=>{h(e),setTimeout(()=>{f(s=>s.map(s=>s.id===e?{...s,isConnected:!0,status:"connected",lastSync:"방금 전"}:s)),h(null)},3e3)},w=e=>{f(s=>s.map(s=>s.id===e?{...s,isConnected:!1,status:"pending",lastSync:"-"}:s))};(0,l.useEffect)(()=>{let e=setInterval(()=>{j(new Date)},3e4);return()=>clearInterval(e)},[]);let k=e=>{switch(e){case"connected":return(0,a.jsx)(eQ.Z,{className:"h-4 w-4 text-green-600"});case"error":return(0,a.jsx)(T.Z,{className:"h-4 w-4 text-red-600"});case"pending":return(0,a.jsx)(S.Z,{className:"h-4 w-4 text-yellow-600"});default:return(0,a.jsx)(T.Z,{className:"h-4 w-4 text-gray-400"})}},C=e=>{switch(e){case"market":return"bg-blue-100 text-blue-800";case"economy":return"bg-green-100 text-green-800";case"crypto":return"bg-purple-100 text-purple-800";case"politics":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=e=>{switch(e){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}};return(0,a.jsx)("div",{className:"w-full bg-background",style:{width:"393px",height:"852px"},children:(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-4 py-6",children:(0,a.jsxs)("div",{className:"w-full max-w-none mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(r,{variant:"ghost",size:"sm",onClick:s,className:"p-2 h-8 w-8 flex-shrink-0",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-lg",children:"외부 서비스 연동"})]}),(0,a.jsxs)(ec,{value:t,onValueChange:x,className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-3 mb-6",children:[(0,a.jsx)(en,{value:"banking",className:"text-xs",children:"계좌연동"}),(0,a.jsx)(en,{value:"news",className:"text-xs",children:"뉴스피드"}),(0,a.jsx)(en,{value:"indicators",className:"text-xs",children:"경제지표"})]}),(0,a.jsxs)(ed,{value:"banking",className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)(i,{children:[(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4"}),"증권계좌 연동 (Open Banking)"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"실제 계좌와 연동하여 포트폴리오를 자동으로 동기화하세요."})]}),(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:N.filter(e=>e.isConnected).length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"연결된 계좌"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["₩",N.filter(e=>e.isConnected).reduce((e,s)=>e+s.balance,0).toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"총 잔액"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:N.filter(e=>"-"!==e.lastSync).length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"동기화됨"})]})]})})]}),(0,a.jsx)("div",{className:"space-y-3",children:N.map(e=>(0,a.jsx)(c,{className:"border-l-4 ".concat("connected"===e.status?"border-green-200":"error"===e.status?"border-red-200":"border-yellow-200"),children:(0,a.jsxs)(d,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.bankName}),k(e.status)]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-1",children:[e.accountNumber," (",e.accountType,")"]}),e.isConnected&&(0,a.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["₩",e.balance.toLocaleString()]})]}),(0,a.jsx)("div",{className:"text-right",children:e.isConnected?(0,a.jsx)(r,{variant:"outline",size:"sm",onClick:()=>w(e.id),children:"연결 해제"}):(0,a.jsx)(r,{size:"sm",onClick:()=>b(e.id),disabled:m===e.id,children:m===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"연결 중..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4 mr-2"}),"연결하기"]})})})]}),e.isConnected&&(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground border-t pt-2",children:[(0,a.jsxs)("span",{children:["마지막 동기화: ",e.lastSync]}),(0,a.jsx)(r,{variant:"ghost",size:"sm",className:"h-6 px-2",children:(0,a.jsx)(S.Z,{className:"h-3 w-3"})})]})]})},e.id))}),(0,a.jsx)(c,{className:"border-dashed",children:(0,a.jsx)(d,{className:"pt-6 text-center",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(e$.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"새 계좌 연결"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"추가 은행이나 증권사 계좌를 연결하세요"})]}),(0,a.jsxs)(r,{variant:"outline",children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4 mr-2"}),"계좌 추가하기"]})]})})}),(0,a.jsx)(c,{className:"border-blue-200 bg-blue-50",children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"보안 정보"}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"모든 계좌 연동은 금융결제원의 오픈뱅킹 API를 통해 안전하게 처리되며, 계좌 정보는 암호화되어 저장됩니다. 비밀번호나 보안카드 정보는 저장하지 않습니다."})]})]})})})]}),(0,a.jsxs)(ed,{value:"news",className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsxs)(i,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eH.Z,{className:"h-4 w-4"}),"투자 관련 뉴스 피드"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)(S.Z,{className:"h-3 w-3"}),u.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})," 업데이트"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"AI가 큐레이션한 투자 관련 주요 뉴스를 실시간으로 받아보세요."})]})}),(0,a.jsx)(c,{children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)(p,{variant:"outline",className:"cursor-pointer",children:"전체"}),(0,a.jsx)(p,{variant:"outline",className:"cursor-pointer",children:"시장"}),(0,a.jsx)(p,{variant:"outline",className:"cursor-pointer",children:"경제"}),(0,a.jsx)(p,{variant:"outline",className:"cursor-pointer",children:"암호화폐"}),(0,a.jsx)(p,{variant:"outline",className:"cursor-pointer",children:"정치"})]})})}),(0,a.jsx)("div",{className:"space-y-3",children:v.map(e=>(0,a.jsx)(c,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,a.jsxs)(d,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)(p,{className:C(e.category),children:["market"===e.category&&"시장","economy"===e.category&&"경제","crypto"===e.category&&"암호화폐","politics"===e.category&&"정치"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:e.timestamp}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("positive"===e.sentiment?"bg-green-500":"negative"===e.sentiment?"bg-red-500":"bg-gray-500")})]})]}),(0,a.jsx)("h3",{className:"font-medium mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.summary}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.source}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"text-xs",children:["관련도 ",e.relevance,"%"]}),(0,a.jsx)(g,{value:e.relevance,className:"w-16 h-1"})]})]})]})},e.id))}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsx)(n,{className:"text-base",children:"뉴스 소스 설정"})}),(0,a.jsxs)(d,{children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"국내 경제 뉴스"}),(0,a.jsx)(p,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"해외 시장 뉴스"}),(0,a.jsx)(p,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"암호화폐 뉴스"}),(0,a.jsx)(p,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"기업 공시"}),(0,a.jsx)(p,{variant:"secondary",children:"비활성화"})]})]}),(0,a.jsx)(r,{variant:"outline",className:"w-full mt-4",children:"뉴스 설정 변경"})]})]})]}),(0,a.jsxs)(ed,{value:"indicators",className:"space-y-4",children:[(0,a.jsx)(c,{children:(0,a.jsxs)(i,{children:[(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"실시간 경제 지표"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"주요 경제 지표를 실시간으로 모니터링하고 포트폴리오에 미칠 영향을 분석합니다."})]})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:y.map((e,s)=>(0,a.jsx)(c,{className:"border-l-4 ".concat("high"===e.impact?"border-red-200":"medium"===e.impact?"border-yellow-200":"border-green-200"),children:(0,a.jsx)(d,{className:"pt-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:e.name}),(0,a.jsxs)(p,{variant:"outline",className:"text-xs",children:["high"===e.impact&&"높음","medium"===e.impact&&"보통","low"===e.impact&&"낮음"]})]}),(0,a.jsxs)("div",{className:"text-xl font-bold",children:[e.value.toLocaleString(),e.unit]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat(F(e.trend)),children:[(0,a.jsx)(o.Z,{className:"h-3 w-3 ".concat("down"===e.trend?"rotate-180":"stable"===e.trend?"rotate-90":"")}),e.change>0?"+":"",e.change]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.lastUpdate})]})]})})},s))}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsx)(n,{className:"text-base",children:"지표 해석 가이드"})}),(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"높은 영향도"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"포트폴리오에 즉각적이고 큰 영향을 미칠 수 있는 지표들입니다."})]}),(0,a.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"중간 영향도"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"중장기적으로 시장에 영향을 미칠 수 있는 지표들입니다."})]}),(0,a.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"낮은 영향도"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"참고용 지표로, 간접적인 영향을 미칠 수 있습니다."})]})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{children:(0,a.jsxs)(n,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eX.Z,{className:"h-4 w-4"}),"지표 알림 설정"]})}),(0,a.jsxs)(d,{children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"금리 변동 알림"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"0.25%p 이상 변동 시"})]}),(0,a.jsx)(p,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"VIX 급등 알림"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"25 이상 상승 시"})]}),(0,a.jsx)(p,{variant:"outline",children:"활성화"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"환율 급변 알림"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"일일 2% 이상 변동"})]}),(0,a.jsx)(p,{variant:"secondary",children:"비활성화"})]})]}),(0,a.jsxs)(r,{variant:"outline",className:"w-full mt-4",children:[(0,a.jsx)(eX.Z,{className:"h-4 w-4 mr-2"}),"알림 설정 변경"]})]})]}),(0,a.jsx)(c,{className:"border-green-200 bg-green-50",children:(0,a.jsxs)(d,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eQ.Z,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-800",children:"API 연결 상태: 정상"})]}),(0,a.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"모든 데이터 소스가 정상적으로 연결되어 실시간 업데이트 중입니다."})]})})]})]})]})})})})})}function eW(){let[e,s]=(0,l.useState)("home"),[t,r]=(0,l.useState)(null),[c,i]=(0,l.useState)([]),[n,d]=(0,l.useState)({}),[o,x]=(0,l.useState)({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380}),[m,h]=(0,l.useState)([]),[u,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(0,E.a_)().catch(e=>{console.error("Failed to initialize API system:",e)})},[]);let p=()=>{s("portfolioList")},N=()=>{s("dashboard")};return(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:(0,a.jsx)("div",{className:"bg-white shadow-lg overflow-hidden",style:{width:"393px",height:"852px",maxWidth:"100vw",maxHeight:"100vh"},children:"home"===e?(0,a.jsx)(j,{onStartInvestmentSurvey:()=>{s("survey")},onLogin:()=>{g(!0),s("portfolioList")}}):"portfolioList"===e?(0,a.jsx)(eM,{onBack:()=>{s("home"),r(null),i([]),d({}),x({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380})},onCreateNew:()=>{s("survey"),r(null),i([]),d({}),x({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380})},onViewPortfolio:e=>{r(e.investorProfile),i(e.assets),d(e.allocations),s("dashboard")},currentUserPortfolios:m,onEducationCenter:()=>{s("education")},onPersonalizedRecommendations:()=>{s("recommendations")},onExternalIntegrations:()=>{s("integrations")}}):"survey"===e?(0,a.jsx)(y,{onComplete:e=>{r(e),s("portfolio")}}):"portfolio"===e?(0,a.jsx)(B,{investorProfile:t,onBack:()=>{s("survey"),r(null),i([]),d({}),x({initialInvestment:1e4,rebalancingAmount:1e3,rebalancingPeriod:"monthly",exchangeRate:1380})},onAnalyze:(e,t)=>{i(e),d(t),s("analysis")}}):"analysis"===e?(0,a.jsx)(_,{investorProfile:t,selectedAssets:c,initialAllocations:n,onBack:()=>{s("portfolio")},onSave:(e,t)=>{d(e),t&&x(t),s("dashboard")}}):"advancedAnalysis"===e?(0,a.jsx)(eB,{assets:c,allocations:n,initialInvestment:o.initialInvestment,onBack:N}):"riskManagement"===e?(0,a.jsx)(eL,{assets:c,allocations:n,initialInvestment:o.initialInvestment,onBack:N}):"education"===e?(0,a.jsx)(eG,{onBack:p}):"recommendations"===e?(0,a.jsx)(eq,{onBack:p,investorProfile:t||void 0}):"integrations"===e?(0,a.jsx)(eU,{onBack:p}):(0,a.jsx)(ew,{investorProfile:t,selectedAssets:c,allocations:n,investmentSettings:o,onBack:u?p:()=>{s("analysis")},onEdit:()=>{s("analysis")},onNewPortfolio:()=>{if(t&&c.length>0){let e={id:"portfolio-".concat(Date.now()),name:"".concat(t.title," 포트폴리오"),investorProfile:t,assets:c,allocations:n,totalValue:o.initialInvestment,dailyChange:1e3*Math.random()-500,dailyChangePercent:(Math.random()-.5)*4,createdDate:new Date().toISOString().split("T")[0]};h(s=>[...s,e]),s("portfolioList")}},onAdvancedAnalysis:()=>{s("advancedAnalysis")},onRiskManagement:()=>{s("riskManagement")}})})})}function eY(){return(0,a.jsx)(eW,{})}}},function(e){e.O(0,[777,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);